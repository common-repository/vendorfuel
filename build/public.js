(()=>{var t={3870:()=>{!function(t,e){"use strict";function i(t,i,n){var r=n.baseHref(),s=t[0];return function(t,n,a){s.cookie=function(t,n,s){var a,o;o=(s=s||{}).expires,a=e.isDefined(s.path)?s.path:r,e.isUndefined(n)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",n=""),e.isString(o)&&(o=new Date(o));var l=encodeURIComponent(t)+"="+encodeURIComponent(n);l+=a?";path="+a:"",l+=s.domain?";domain="+s.domain:"",l+=o?";expires="+o.toUTCString():"",l+=s.secure?";secure":"";var c=(l+=s.samesite?";samesite="+s.samesite:"").length+1;return c>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}(t,n,a)}}e.module("ngCookies",["ng"]).info({angularVersion:"1.8.3"}).provider("$cookies",[function(){var t=this.defaults={};function i(i){return i?e.extend({},t,i):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,n){return{get:function(e){return t()[e]},getObject:function(t){var i=this.get(t);return i?e.fromJson(i):i},getAll:function(){return t()},put:function(t,e,r){n(t,e,i(r))},putObject:function(t,i,n){this.put(t,e.toJson(i),n)},remove:function(t,e){n(t,void 0,i(e))}}}]}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=i}))}(window,window.angular)},7808:(t,e,i)=>{i(3870),t.exports="ngCookies"},7714:()=>{!function(t,e){var i=e.isDefined,n=e.isUndefined,r=e.isNumber,s=e.isObject,a=e.isArray,o=e.isString,l=e.extend,c=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",(function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/",secure:!1},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setDefaultToCookie=function(t){return this.defaultToCookie=!!t,this},this.setStorageCookie=function(t,e,i){return this.cookie.expiry=t,this.cookie.path=e,this.cookie.secure=i,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(t,e,d,u,p){var g,h=this,m=h.prefix,f=h.cookie,v=h.notify,b=h.storageType;d?d[0]&&(d=d[0]):d=document,"."!==m.substr(-1)&&(m=m?m+".":"");var $=function(t){return m+t},y=function(t){return t.replace(new RegExp("^"+m,"g"),"")},w=function(){try{var i=b in e&&null!==e[b],n=$("__"+Math.round(1e7*Math.random()));return i&&((g=e[b]).setItem(n,""),g.removeItem(n)),i}catch(e){return h.defaultToCookie&&(b="cookie"),t.$broadcast("LocalStorageModule.notification.error",e.message),!1}},_=w(),k=function(e,i,r){var s=E();try{if(T(r),i=n(i)?null:c(i),!_&&h.defaultToCookie||"cookie"===h.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:i,storageType:"cookie"}),A(e,i);try{g&&g.setItem($(e),i),v.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:i,storageType:h.storageType})}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),A(e,i)}return!0}finally{T(s)}},C=function(e,i){var n=E();try{if(T(i),!_&&h.defaultToCookie||"cookie"===h.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),P(e);var r=g?g.getItem($(e)):null;if(!r||"null"===r)return null;try{return JSON.parse(r)}catch(t){return r}}finally{T(n)}},S=function(){var e=E();try{var i,n,r=0;for(arguments.length>=1&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(r=1,T(arguments[arguments.length-1])),i=0;i<arguments.length-r;i++)if(n=arguments[i],!_&&h.defaultToCookie||"cookie"===h.storageType)_||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),I(n);else try{g.removeItem($(n)),v.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:h.storageType})}catch(e){t.$broadcast("LocalStorageModule.notification.error",e.message),I(n)}}finally{T(e)}},x=function(){try{return e.navigator.cookieEnabled||"cookie"in d&&(d.cookie.length>0||(d.cookie="test").indexOf.call(d.cookie,"test")>-1)}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),A=function(e,i,o,l){if(n(i))return!1;if((a(i)||s(i))&&(i=c(i)),!x)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var u="",p=new Date,g="";if(null===i?(p.setTime(p.getTime()+-864e5),u="; expires="+p.toGMTString(),i=""):r(o)&&0!==o?(p.setTime(p.getTime()+24*o*60*60*1e3),u="; expires="+p.toGMTString()):0!==f.expiry&&(p.setTime(p.getTime()+24*f.expiry*60*60*1e3),u="; expires="+p.toGMTString()),e){var h="; path="+f.path;f.domain&&(g="; domain="+f.domain),"boolean"==typeof l?!0===l&&(g+="; secure"):!0===f.secure&&(g+="; secure"),d.cookie=$(e)+"="+encodeURIComponent(i)+u+h+g}}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),!1}return!0},P=function(e){if(!x)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var i=d.cookie&&d.cookie.split(";")||[],n=0;n<i.length;n++){for(var r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf($(e)+"=")){var s=decodeURIComponent(r.substring(m.length+e.length+1,r.length));try{var a=JSON.parse(s);return"number"==typeof a?s:a}catch(t){return s}}}return null},I=function(t){A(t,null)},O=function(){for(var t=null,e=m.length,i=d.cookie.split(";"),n=0;n<i.length;n++){for(t=i[n];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));I(r)}},E=function(){return b},T=function(t){return t&&b!==t&&(b=t,_=w()),_};function L(i){if(i||(i=e.event),v.setItem&&o(i.key)&&function(t){return 0===t.indexOf(m)}(i.key)){var n=y(i.key);p((function(){t.$broadcast("LocalStorageModule.notification.changed",{key:n,newvalue:i.newValue,storageType:h.storageType})}))}}return _&&(e.addEventListener?(e.addEventListener("storage",L,!1),t.$on("$destroy",(function(){e.removeEventListener("storage",L)}))):e.attachEvent&&(e.attachEvent("onstorage",L),t.$on("$destroy",(function(){e.detachEvent("onstorage",L)})))),{isSupported:_,getStorageType:E,setStorageType:T,setPrefix:function(t){m=t},set:k,add:k,get:C,keys:function(e){var i=E();try{if(T(e),!_)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var n=m.length,r=[];for(var s in g)if(s.substr(0,n)===m)try{r.push(s.substr(n))}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return r}finally{T(i)}},remove:S,clearAll:function(e,i){var n=E();try{T(i);var r=m?new RegExp("^"+m):new RegExp,s=e?new RegExp(e):new RegExp;if(!_&&h.defaultToCookie||"cookie"===h.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),O();if(!_&&!h.defaultToCookie)return!1;var a=m.length;for(var o in g)if(r.test(o)&&s.test(o.substr(a)))try{S(o.substr(a))}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),O()}return!0}finally{T(n)}},bind:function(t,e,n,r,a){var o=C(r=r||e,a);return null===o&&i(n)?o=n:s(o)&&s(n)&&(o=l(o,n)),u(e).assign(t,o),t.$watch(e,(function(t){k(r,t,a)}),s(t[e]))},deriveKey:$,underiveKey:y,length:function(t){var i=E();try{T(t);for(var n=0,r=e[b],s=0;s<r.length;s++)0===r.key(s).indexOf(m)&&n++;return n}finally{T(i)}},defaultToCookie:this.defaultToCookie,cookie:{isSupported:x,set:A,add:A,get:P,remove:I,clearAll:O}}}]}))}(window,window.angular)},7385:(t,e,i)=>{i(7714),t.exports="LocalStorageModule"},2531:()=>{!function(t,e){"use strict";var i=e.$$minErr("$resource"),n=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function r(t,i){for(var n in i=i||{},e.forEach(i,(function(t,e){delete i[e]})),t)!t.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(i[n]=t[n]);return i}e.module("ngResource",["ng"]).info({angularVersion:"1.8.3"}).provider("$resource",(function(){var t=/^https?:\/\/\[[^\]]*][^/]*/,s=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,o,l,c){var d=e.noop,u=e.forEach,p=e.extend,g=e.copy,h=e.isArray,m=e.isDefined,f=e.isFunction,v=e.isNumber,b=e.$$encodeUriQuery,$=e.$$encodeUriSegment;function y(t,e){this.template=t,this.defaults=p({},s.defaults,e),this.urlParams={}}return y.prototype={setUrlParams:function(e,n,r){var s,a,o=this,l=r||o.template,c="",d=o.urlParams=Object.create(null);u(l.split(/\W/),(function(t){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(d[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(l)})})),l=(l=l.replace(/\\:/g,":")).replace(t,(function(t){return c=t,""})),n=n||{},u(o.urlParams,(function(t,e){s=n.hasOwnProperty(e)?n[e]:o.defaults[e],m(s)&&null!==s?(a=t.isQueryParamValue?b(s,!0):$(s),l=l.replace(new RegExp(":"+e+"(\\W|$)","g"),(function(t,e){return a+e}))):l=l.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),(function(t,e,i){return"/"===i.charAt(0)?i:e+i}))})),o.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=c+l.replace(/\/(\\|%5C)\./,"/."),u(n,(function(t,i){o.urlParams[i]||(e.params=e.params||{},e.params[i]=t)}))}},function(t,b,$,w){var _=new y(t,w);function k(t){return t.resource}function C(t){r(t||{},this)}return $=p({},s.defaults.actions,$),C.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},u($,(function(t,s){var $=!0===t.hasBody||!1!==t.hasBody&&/^(POST|PUT|PATCH)$/i.test(t.method),y=t.timeout,w=m(t.cancellable)?t.cancellable:_.defaults.cancellable;y&&!v(y)&&(o.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,y=null),C[s]=function(o,m,v,S){var x,A,P,I={};switch(arguments.length){case 4:P=S,A=v;case 3:case 2:if(!f(m)){I=o,x=m,A=v;break}if(f(o)){A=o,P=m;break}A=m,P=v;case 1:f(o)?A=o:$?x=o:I=o;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var O,E,T,L=this instanceof C,U=L?x:t.isArray?[]:new C(x),q={},R=t.interceptor&&t.interceptor.request||void 0,F=t.interceptor&&t.interceptor.requestError||void 0,M=t.interceptor&&t.interceptor.response||k,N=t.interceptor&&t.interceptor.responseError||l.reject,D=A?function(t){A(t,T.headers,T.status,T.statusText)}:void 0,j=P||void 0;u(t,(function(t,e){switch(e){default:q[e]=g(t);case"params":case"isArray":case"interceptor":case"cancellable":}})),!L&&w&&(O=l.defer(),q.timeout=O.promise,y&&(E=c(O.resolve,y))),$&&(q.data=x),_.setUrlParams(q,p({},function(t,r){var s={};return r=p({},b,r),u(r,(function(r,a){f(r)&&(r=r(t)),s[a]=r&&r.charAt&&"@"===r.charAt(0)?function(t,r){if(!function(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&n.test("."+t)}(r))throw i("badmember",'Dotted member path "@{0}" is invalid.',r);for(var s=r.split("."),a=0,o=s.length;a<o&&e.isDefined(t);a++){var l=s[a];t=null!==t?t[l]:void 0}return t}(t,r.substr(1)):r})),s}(x,t.params||{}),I),t.url);var z=l.resolve(q).then(R).catch(F).then(a);return z=z.then((function(e){var n=e.data;if(n){if(h(n)!==!!t.isArray)throw i("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",s,t.isArray?"array":"object",h(n)?"array":"object",q.method,q.url);if(t.isArray)U.length=0,u(n,(function(t){"object"==typeof t?U.push(new C(t)):U.push(t)}));else{var a=U.$promise;r(n,U),U.$promise=a}}return e.resource=U,T=e,M(e)}),(function(t){return t.resource=U,T=t,N(t)})),(z=z.finally((function(){U.$resolved=!0,!L&&w&&(U.$cancelRequest=d,c.cancel(E),O=E=q.timeout=null)}))).then(D,j),L?z:(U.$promise=z,U.$resolved=!1,w&&(U.$cancelRequest=function(t){z.catch(d),null!==O&&O.resolve(t)}),U)},C.prototype["$"+s]=function(t,e,i){f(t)&&(i=e,e=t,t={});var n=C[s].call(this,t,this,e,i);return n.$promise||n}})),C}}]}))}(window,window.angular)},878:(t,e,i)=>{i(2531),t.exports="ngResource"},768:()=>{!function(t,e){"use strict";var i,n,r,s,a,o,l,c,d,u,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",(function(){var g=!1,h=!1;this.$get=["$$sanitizeUri",function(t){return g=!0,h&&n(S,k),function(e){var i=[];return d(e,u(i,(function(e,i){return!/^unsafe:/.test(t(e,i))}))),i.join("")}}],this.enableSvg=function(t){return a(t)?(h=t,this):h},this.addValidElements=function(t){return g||(s(t)&&(t={htmlElements:t}),T(k,t.svgElements),T(v,t.htmlVoidElements),T(S,t.htmlVoidElements),T(S,t.htmlElements)),this},this.addValidAttrs=function(t){return g||n(I,E(t,!0)),this},i=e.bind,n=e.extend,r=e.forEach,s=e.isArray,a=e.isDefined,o=e.$$lowercase,l=e.noop,d=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t);var i=L(t);if(!i)return"";var n=5;do{if(0===n)throw p("uinput","Failed to sanitize html because the input is unstable");n--,t=i.innerHTML,i=L(t)}while(t!==i.innerHTML);for(var r=i.firstChild;r;){switch(r.nodeType){case 1:e.start(r.nodeName.toLowerCase(),U(r.attributes));break;case 3:e.chars(r.textContent)}var s;if(!((s=r.firstChild)||(1===r.nodeType&&e.end(r.nodeName.toLowerCase()),s=F("nextSibling",r))))for(;null==s&&(r=F("parentNode",r))!==i;)s=F("nextSibling",r),1===r.nodeType&&e.end(r.nodeName.toLowerCase());r=s}for(;r=i.firstChild;)i.removeChild(r)},u=function(t,e){var n=!1,s=i(t,t.push);return{start:function(t,i){t=o(t),!n&&C[t]&&(n=t),n||!0!==S[t]||(s("<"),s(t),r(i,(function(i,n){var r=o(n),a="img"===t&&"src"===r||"background"===r;!0!==I[r]||!0===x[r]&&!e(i,a)||(s(" "),s(n),s('="'),s(q(i)),s('"'))})),s(">"))},end:function(t){t=o(t),n||!0!==S[t]||!0===v[t]||(s("</"),s(t),s(">")),t==n&&(n=!1)},chars:function(t){n||s(q(t))}}},c=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^#-~ |!])/g,v=O("area,br,col,hr,img,wbr"),b=O("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=O("rp,rt"),y=n({},$,b),w=n({},b,O("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),_=n({},$,O("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=O("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=O("script,style"),S=n({},v,w,_,y),x=O("background,cite,href,longdesc,src,xlink:href,xml:base"),A=O("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=O("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=n({},x,P,A);function O(t,e){return E(t.split(","),e)}function E(t,e){var i,n={};for(i=0;i<t.length;i++)n[e?o(t[i]):t[i]]=!0;return n}function T(t,e){e&&e.length&&n(t,E(e))}var L=function(t,e){if(function(){try{return!!r("")}catch(t){return!1}}())return r;if(!e||!e.implementation)throw p("noinert","Can't create an inert html document");var i=e.implementation.createHTMLDocument("inert"),n=(i.documentElement||i.getDocumentElement()).querySelector("body");return function(t){return n.innerHTML=t,e.documentMode&&R(n),n};function r(e){e="<remove></remove>"+e;try{var i=(new t.DOMParser).parseFromString(e,"text/html").body;return i.firstChild.remove(),i}catch(t){return}}}(t,t.document);function U(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i];e[r.name]=r.value}return e}function q(t){return t.replace(/&/g,"&amp;").replace(m,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(f,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function R(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var i=e.attributes,n=0,r=i.length;n<r;n++){var s=i[n],a=s.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(s),n--,r--)}var o=e.firstChild;o&&R(o),e=F("nextSibling",e)}}function F(t,e){var i=e[t];if(i&&c.call(e,i))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return i}})).info({angularVersion:"1.8.3"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,r=e.$$minErr("linky"),s=e.isDefined,a=e.isFunction,o=e.isObject,c=e.isString;return function(e,d,p){if(null==e||""===e)return e;if(!c(e))throw r("notstring","Expected string but received: {0}",e);for(var g,h,m,f=a(p)?p:o(p)?function(){return p}:function(){return{}},v=e,b=[];g=v.match(i);)h=g[0],g[2]||g[4]||(h=(g[3]?"http://":"mailto:")+h),m=g.index,$(v.substr(0,m)),y(h,g[0].replace(n,"")),v=v.substring(m+g[0].length);return $(v),t(b.join(""));function $(t){var e,i;t&&b.push((e=t,u(i=[],l).chars(e),i.join("")))}function y(t,e){var i,n=f(t);for(i in b.push("<a "),n)b.push(i+'="'+n[i]+'" ');s(d)&&!("target"in n)&&b.push('target="',d,'" '),b.push('href="',t.replace(/"/g,"&quot;"),'">'),$(e),b.push("</a>")}}}])}(window,window.angular)},7131:(t,e,i)=>{i(768),t.exports="ngSanitize"},7812:()=>{!function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",(function(){var t={};this.maskDefinitions=function(e){return t.maskDefinitions=e},this.clearOnBlur=function(e){return t.clearOnBlur=e},this.clearOnBlurPlaceholder=function(e){return t.clearOnBlurPlaceholder=e},this.eventsToHandle=function(e){return t.eventsToHandle=e},this.addDefaultPlaceholder=function(e){return t.addDefaultPlaceholder=e},this.allowInvalidValue=function(e){return t.allowInvalidValue=e},this.$get=["uiMaskConfig",function(e){var i=e;for(var n in t)angular.isObject(t[n])&&!angular.isArray(t[n])?angular.extend(i[n],t[n]):i[n]=t[n];return i}]})).directive("uiMask",["uiMask.Config",function(t){function e(t){return t===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(t.type||t.href||~t.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var i=angular.copy(t);return function(t,n,r,s){var a,o,l,c,d,u,p,g,h,m,f,v,b=!1,$=!1,y=r.placeholder,w=r.maxlength,_=s.$isEmpty;function k(t){return angular.isDefined(t)?(function(t){var e=0;if(a=[],o=[],l="",angular.isString(t)){d=0;var i=!1,n=0,s=t.split(""),u=!1;angular.forEach(s,(function(t,s){u?(u=!1,l+=t,e++):A.escChar===t?u=!0:A.maskDefinitions[t]?(a.push(e),l+=function(t){var e,i=angular.isDefined(r.uiMaskPlaceholder)?r.uiMaskPlaceholder:r.placeholder;return angular.isDefined(i)&&i[t]?i[t]:"space"===(e=angular.isDefined(r.uiMaskPlaceholderChar)&&r.uiMaskPlaceholderChar?r.uiMaskPlaceholderChar:"_").toLowerCase()?" ":e[0]}(s-n),o.push(A.maskDefinitions[t]),e++,i||d++,i=!1):"?"===t?(i=!0,n++):(l+=t,e++)}))}a.push(a.slice().pop()+1),c=function(){var t,e,i=l.split("");a&&!isNaN(a[0])&&angular.forEach(a,(function(t){i[t]="_"})),e=(e=(t=i.join("")).replace(/[_]+/g,"_").split("_")).filter((function(t){return""!==t}));var n=0;return e.map((function(e){var i=t.indexOf(e,n);return n=i+1,{value:e,position:i}}))}(),b=a.length>1}(t),b?(function(){u=h=O(s.$modelValue||""),g=E(u),p=I(u),r.maxlength&&n.attr("maxlength",2*a[a.length-1]),!y&&A.addDefaultPlaceholder&&n.attr("placeholder",l);for(var t=s.$modelValue,e=s.$formatters.length;e--;)t=s.$formatters[e](t);s.$viewValue=t||"",s.$render()}(),$||(n.bind("blur",L),n.bind("mousedown mouseup",U),n.bind("keydown",R),n.bind(A.eventsToHandle.join(" "),F),$=!0),!0):P()):P()}function C(t){t&&(l=t,!b||0===n.val().length&&angular.isDefined(r.placeholder)||n.val(E(O(n.val()))))}s.$isEmpty=function(t){return _(b?O(t||""):t)};var S=!1;function x(t){return b?(u=O(t||""),p=I(u),s.$setValidity("mask",p),u.length&&(p||A.allowInvalidValue)?E(u):void 0):t}r.$observe("modelViewValue",(function(t){"true"===t&&(S=!0)})),r.$observe("allowInvalidValue",(function(t){A.allowInvalidValue=""===t||!!t,x(s.$modelValue)}));var A={};function P(){return b=!1,$&&(n.unbind("blur",L),n.unbind("mousedown",U),n.unbind("mouseup",U),n.unbind("keydown",R),n.unbind("input",F),n.unbind("keyup",F),n.unbind("click",F),n.unbind("focus",F),$=!1),angular.isDefined(y)?n.attr("placeholder",y):n.removeAttr("placeholder"),angular.isDefined(w)?n.attr("maxlength",w):n.removeAttr("maxlength"),n.val(s.$modelValue),s.$viewValue=s.$modelValue,!1}function I(t){return!t.length||t.length>=d}function O(t){var e,i,r="",s=n[0],a=o.slice(),d=m,u=d+j(s),p="";return t=t.toString(),e=0,i=t.length-l.length,angular.forEach(c,(function(n){var r=n.position;r>=d&&r<u||(r>=d&&(r+=i),t.substring(r,r+n.value.length)===n.value&&(p+=t.slice(e,r),e=r+n.value.length))})),t=p+t.slice(e),angular.forEach(t.split(""),(function(t){a.length&&a[0].test(t)&&(r+=t,a.shift())})),r}function E(t){var e="",i=a.slice();return angular.forEach(l.split(""),(function(n,r){t.length&&r===i[0]?(e+=t.charAt(0)||"_",t=t.substr(1),i.shift()):e+=n})),e}r.uiOptions?(A=t.$eval("["+r.uiOptions+"]"),A=angular.isObject(A[0])?function(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(void 0===e[i]?e[i]=angular.copy(t[i]):angular.isObject(e[i])&&!angular.isArray(e[i])&&(e[i]=angular.extend({},t[i],e[i])));return e}(i,A[0]):i):A=i,r.$observe("uiMask",k),angular.isDefined(r.uiMaskPlaceholder)?r.$observe("uiMaskPlaceholder",C):r.$observe("placeholder",C),angular.isDefined(r.uiMaskPlaceholderChar)&&r.$observe("uiMaskPlaceholderChar",(function(){return k(r.uiMask)})),s.$formatters.unshift(x),s.$parsers.unshift((function(t){return b?(u=O(t||""),p=I(u),s.$viewValue=u.length?E(u):"",s.$setValidity("mask",p),p||A.allowInvalidValue?S?s.$viewValue:u:void 0):t}));var T=n.val();function L(){if((A.clearOnBlur||A.clearOnBlurPlaceholder&&0===u.length&&r.placeholder)&&(m=0,f=0,p&&0!==u.length||(n.val(""),t.$apply((function(){s.$pristine||s.$setViewValue("")})))),u!==T){var e=n.val(),i=""===u&&e&&angular.isDefined(r.uiMaskPlaceholderChar)&&"space"===r.uiMaskPlaceholderChar;i&&n.val(""),a=n[0],angular.isFunction(window.Event)&&!a.fireEvent?(o=new Event("change",{view:window,bubbles:!0,cancelable:!1}),a.dispatchEvent(o)):"createEvent"in document?((o=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),a.dispatchEvent(o)):a.fireEvent&&a.fireEvent("onchange"),i&&n.val(e)}var a,o;T=u}function U(t){"mousedown"===t.type?n.bind("mouseout",q):n.unbind("mouseout",q)}function q(){f=j(this),n.unbind("mouseout",q)}function R(t){var e=8===t.which,i=N(this)-1||0,r=90===t.which&&t.ctrlKey;if(e){for(;i>=0;){if(M(i)){D(this,i+1);break}i--}v=-1===i}r&&(n.val(""),t.preventDefault())}function F(e){var i=(e=e||{}).which,r=e.type;if(16!==i&&91!==i){var o,c=n.val(),d=g,u=!1,p=O(c),b=h,$=N(this)||0,y=m||0,w=$-y,_=a[0],k=a[p.length]||a.slice().shift(),C=f||0,S=j(this)>0,x=C>0,A=c.length>d.length||C&&c.length>d.length-C,P=c.length<d.length||C&&c.length===d.length-C,I=i>=37&&i<=40&&e.shiftKey,T=8===i||"keyup"!==r&&P&&-1===w,L=46===i||"keyup"!==r&&P&&0===w&&!x,U=(37===i||T||"click"===r)&&$>_;if(f=j(this),!I&&(!S||"click"!==r&&"keyup"!==r&&"focus"!==r)){if(T&&v)return n.val(l),t.$apply((function(){s.$setViewValue("")})),void D(this,y);if("input"===r&&P&&!x&&p===b){for(;T&&$>_&&!M($);)$--;for(;L&&$<k&&-1===a.indexOf($);)$++;var q=a.indexOf($);(p=p.substring(0,q)+p.substring(q+1))!==b&&(u=!0)}for(o=E(p),g=o,h=p,!u&&c.length>o.length&&(u=!0),n.val(o),u&&t.$apply((function(){s.$setViewValue(o)})),A&&$<=_&&($=_+1),U&&$--,$=$>k?k:$<_?_:$;!M($)&&$>_&&$<k;)$+=U?-1:1;(U&&$<k||A&&!M(y))&&$++,m=$,D(this,$)}}}function M(t){return a.indexOf(t)>-1}function N(t){if(!t)return 0;if(void 0!==t.selectionStart)return t.selectionStart;if(document.selection&&e(n[0])){t.focus();var i=document.selection.createRange();return i.moveStart("character",t.value?-t.value.length:0),i.text.length}return 0}function D(t,i){if(!t)return 0;if(0!==t.offsetWidth&&0!==t.offsetHeight)if(t.setSelectionRange)e(n[0])&&(t.focus(),t.setSelectionRange(i,i));else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",i),r.select()}}function j(t){return t?void 0!==t.selectionStart?t.selectionEnd-t.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}n.bind("mousedown mouseup",U),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1})}}}}])}()},105:(t,e,i)=>{i(6695),i(7812),t.exports="ui.mask"},4426:()=>{!function(t){"use strict";var e={objectMaxDepth:5,urlErrorParamsEnabled:!0};function i(t){if(!D(t))return e;N(t.objectMaxDepth)&&(e.objectMaxDepth=n(t.objectMaxDepth)?t.objectMaxDepth:NaN),N(t.urlErrorParamsEnabled)&&J(t.urlErrorParamsEnabled)&&(e.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function n(t){return V(t)&&t>0}function r(t,i){i=i||Error;var n="https://errors.angularjs.org/1.8.3/",r=n.replace(".","\\.")+"[\\s\\S]*",s=new RegExp(r,"g");return function(){var r,a,o=arguments[0],l=arguments[1],c="["+(t?t+":":"")+o+"] ",d=pt(arguments,2).map((function(t){return Wt(t,e.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1);return e<d.length?d[e].replace(s,""):t})),c+="\n"+n+(t?t+"/":"")+o,e.urlErrorParamsEnabled)for(a=0,r="?";a<d.length;a++,r="&")c+=r+"p"+a+"="+encodeURIComponent(d[a]);return new i(c)}}var s,a,o,l,c=/^\/(.+)\/([a-z]*)$/,d="validity",u=Object.prototype.hasOwnProperty,p=function(t){return z(t)?t.toLowerCase():t},g=function(t){return z(t)?t.toUpperCase():t},h=[].slice,m=[].splice,f=[].push,v=Object.prototype.toString,b=Object.getPrototypeOf,$=r("ng"),y=t.angular||(t.angular={}),w=0;function _(t){if(null==t||K(t))return!1;if(H(t)||z(t)||a&&t instanceof a)return!0;var e="length"in Object(t)&&t.length;return V(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function k(t,e,i){var n,r;if(t)if(W(t))for(n in t)"prototype"!==n&&"length"!==n&&"name"!==n&&t.hasOwnProperty(n)&&e.call(i,t[n],n,t);else if(H(t)||_(t)){var s="object"!=typeof t;for(n=0,r=t.length;n<r;n++)(s||n in t)&&e.call(i,t[n],n,t)}else if(t.forEach&&t.forEach!==k)t.forEach(e,i,t);else if(j(t))for(n in t)e.call(i,t[n],n,t);else if("function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t);else for(n in t)u.call(t,n)&&e.call(i,t[n],n,t);return t}function C(t,e,i){for(var n=Object.keys(t).sort(),r=0;r<n.length;r++)e.call(i,t[n[r]],n[r]);return n}function S(t){return function(e,i){t(i,e)}}function x(){return++w}function A(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function P(t,e,i){for(var n=t.$$hashKey,r=0,s=e.length;r<s;++r){var a=e[r];if(D(a)||W(a))for(var o=Object.keys(a),l=0,c=o.length;l<c;l++){var d=o[l],u=a[d];i&&D(u)?B(u)?t[d]=new Date(u.valueOf()):Q(u)?t[d]=new RegExp(u):u.nodeName?t[d]=u.cloneNode(!0):it(u)?t[d]=u.clone():"__proto__"!==d&&(D(t[d])||(t[d]=H(u)?[]:{}),P(t[d],[u],!0)):t[d]=u}}return A(t,n),t}function I(t){return P(t,h.call(arguments,1),!1)}function O(t){return P(t,h.call(arguments,1),!0)}function E(t){return parseInt(t,10)}s=t.document.documentMode;var T=Number.isNaN||function(t){return t!=t};function L(t,e){return I(Object.create(t),e)}function U(){}function q(t){return t}function R(t){return function(){return t}}function F(t){return W(t.toString)&&t.toString!==v}function M(t){return void 0===t}function N(t){return void 0!==t}function D(t){return null!==t&&"object"==typeof t}function j(t){return null!==t&&"object"==typeof t&&!b(t)}function z(t){return"string"==typeof t}function V(t){return"number"==typeof t}function B(t){return"[object Date]"===v.call(t)}function H(t){return Array.isArray(t)||t instanceof Array}function G(t){switch(v.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function W(t){return"function"==typeof t}function Q(t){return"[object RegExp]"===v.call(t)}function K(t){return t&&t.window===t}function Y(t){return t&&t.$evalAsync&&t.$watch}function J(t){return"boolean"==typeof t}function Z(t){return t&&W(t.then)}U.$inject=[],q.$inject=[];var X=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,tt=function(t){return z(t)?t.trim():t},et=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function it(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function nt(t){return p(t.nodeName||t[0]&&t[0].nodeName)}function rt(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function st(t,e){var i=t.indexOf(e);return i>=0&&t.splice(i,1),i}function at(t,e,i){var r,s,a=[],o=[];if(i=n(i)?i:NaN,e){if((s=e)&&V(s.length)&&X.test(v.call(s))||(r=e,"[object ArrayBuffer]"===v.call(r)))throw $("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw $("cpi","Can't copy! Source and destination are identical.");return H(e)?e.length=0:k(e,(function(t,i){"$$hashKey"!==i&&delete e[i]})),a.push(t),o.push(e),l(t,e,i)}return c(t,i);function l(t,e,i){if(--i<0)return"...";var n,r=e.$$hashKey;if(H(t))for(var s=0,a=t.length;s<a;s++)e.push(c(t[s],i));else if(j(t))for(n in t)e[n]=c(t[n],i);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=c(t[n],i));else for(n in t)u.call(t,n)&&(e[n]=c(t[n],i));return A(e,r),e}function c(t,e){if(!D(t))return t;var i=a.indexOf(t);if(-1!==i)return o[i];if(K(t)||Y(t))throw $("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,r=function(t){switch(v.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(c(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var i=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return i.lastIndex=t.lastIndex,i;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(W(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===r&&(r=H(t)?[]:Object.create(b(t)),n=!0),a.push(t),o.push(r),n?l(t,r,e):r}}function ot(t,e){return t===e||t!=t&&e!=e}function lt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var i,n,r,s=typeof t;if(s===typeof e&&"object"===s){if(!H(t)){if(B(t))return!!B(e)&&ot(t.getTime(),e.getTime());if(Q(t))return!!Q(e)&&t.toString()===e.toString();if(Y(t)||Y(e)||K(t)||K(e)||H(e)||B(e)||Q(e))return!1;for(n in r=Nt(),t)if("$"!==n.charAt(0)&&!W(t[n])){if(!lt(t[n],e[n]))return!1;r[n]=!0}for(n in e)if(!(n in r)&&"$"!==n.charAt(0)&&N(e[n])&&!W(e[n]))return!1;return!0}if(!H(e))return!1;if((i=t.length)===e.length){for(n=0;n<i;n++)if(!lt(t[n],e[n]))return!1;return!0}}return!1}var ct=function(){if(!N(ct.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var i=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ct.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else ct.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ct.rules},dt=function(){if(N(dt.name_))return dt.name_;var e,i,n,r,s=xt.length;for(i=0;i<s;++i)if(n=xt[i],e=t.document.querySelector("["+n.replace(":","\\:")+"jq]")){r=e.getAttribute(n+"jq");break}return dt.name_=r};function ut(t,e,i){return t.concat(h.call(e,i))}function pt(t,e){return h.call(t,e||0)}function gt(t,e){var i=arguments.length>2?pt(arguments,2):[];return!W(e)||e instanceof RegExp?e:i.length?function(){return arguments.length?e.apply(t,ut(i,arguments,0)):e.apply(t,i)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function ht(e,i){var n=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:K(i)?n="$WINDOW":i&&t.document===i?n="$DOCUMENT":Y(i)&&(n="$SCOPE"),n}function mt(t,e){if(!M(t))return V(e)||(e=e?2:null),JSON.stringify(t,ht,e)}function ft(t){return z(t)?JSON.parse(t):t}var vt=/:/g;function bt(t,e){t=t.replace(vt,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return T(i)?e:i}function $t(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function yt(t,e,i){i=i?-1:1;var n=t.getTimezoneOffset();return $t(t,i*(bt(e,n)-n))}function wt(t){t=a(t).clone().empty();var e=a("<div></div>").append(t).html();try{return t[0].nodeType===zt?p(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(t,e){return"<"+p(e)}))}catch(t){return p(e)}}function _t(t){try{return decodeURIComponent(t)}catch(t){}}function kt(t){var e={};return k((t||"").split("&"),(function(t){var i,n,r;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(i=t.indexOf("="))&&(n=t.substring(0,i),r=t.substring(i+1)),N(n=_t(n))&&(r=!N(r)||_t(r),u.call(e,n)?H(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r))})),e}function Ct(t){return St(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function St(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var xt=["ng-","data-ng-","ng:","x-ng-"],At=function(e){var i=e.currentScript;if(!i)return!0;if(!(i instanceof t.HTMLScriptElement||i instanceof t.SVGScriptElement))return!1;var n=i.attributes;return[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var i=e.createElement("a");if(i.href=t.value,e.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function Pt(e,i,n){D(n)||(n={}),n=I({strictDi:!1},n);var r=function(){if((e=a(e)).injector()){var r=e[0]===t.document?"document":wt(e);throw $("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),n.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var s=ei(i,n.strictDi);return s.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,i,n){t.$apply((function(){e.data("$injector",n),i(e)(t)}))}]),s},s=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(t&&s.test(t.name)&&(n.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!o.test(t.name))return r();t.name=t.name.replace(o,""),y.resumeBootstrap=function(t){return k(t,(function(t){i.push(t)})),r()},W(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function It(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Ot(t){var e=y.element(t).injector();if(!e)throw $("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Et=/[A-Z]/g;function Tt(t,e){return e=e||"_",t.replace(Et,(function(t,i){return(i?e:"")+t.toLowerCase()}))}var Lt=!1;function Ut(){fe.legacyXHTMLReplacement=!0}function qt(t,e,i){if(!t)throw $("areq","Argument '{0}' is {1}",e||"?",i||"required");return t}function Rt(t,e,i){return i&&H(t)&&(t=t[t.length-1]),qt(W(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Ft(t,e){if("hasOwnProperty"===t)throw $("badname","hasOwnProperty is not a valid {0} name",e)}function Mt(t){for(var e,i=t[0],n=t[t.length-1],r=1;i!==n&&(i=i.nextSibling);r++)(e||t[r]!==i)&&(e||(e=a(h.call(t,0,r))),e.push(i));return e||t}function Nt(){return Object.create(null)}function Dt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!F(t)||H(t)||B(t)?mt(t):t.toString()}return t}var jt=1,zt=3,Vt=8,Bt=9,Ht=11;function Gt(t,e){if(H(t)){e=e||[];for(var i=0,n=t.length;i<n;i++)e[i]=t[i]}else if(D(t))for(var r in e=e||{},t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function Wt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):M(t)?"undefined":"string"!=typeof t?function(t,e){var i=[];return n(e)&&(t=y.copy(t,null,e)),JSON.stringify(t,(function(t,e){if(D(e=ht(t,e))){if(i.indexOf(e)>=0)return"...";i.push(e)}return e}))}(t,e):t}var Qt={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};fe.expando="ng339";var Kt=fe.cache={},Yt=1;fe._data=function(t){return this.cache[t[this.expando]]||{}};var Jt=/-([a-z])/g,Zt=/^-ms-/,Xt={mouseleave:"mouseout",mouseenter:"mouseover"},te=r("jqLite");function ee(t,e){return e.toUpperCase()}function ie(t){return t.replace(Jt,ee)}var ne=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,re=/<|&#?\w+;/,se=/<([\w:-]+)/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var le={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var ce in oe){var de=oe[ce],ue=de.slice().reverse();le[ce]=[ue.length,"<"+ue.join("><")+">","</"+de.join("></")+">"]}function pe(t){return!re.test(t)}function ge(t){var e=t.nodeType;return e===jt||!e||e===Bt}function he(e,i){var n,r,a,o,l,c=i.createDocumentFragment(),d=[];if(pe(e))d.push(i.createTextNode(e));else{if(n=c.appendChild(i.createElement("div")),r=(se.exec(e)||["",""])[1].toLowerCase(),o=fe.legacyXHTMLReplacement?e.replace(ae,"<$1></$2>"):e,s<10)for(a=le[r]||le._default,n.innerHTML=a[1]+o+a[2],l=a[0];l--;)n=n.firstChild;else{for(l=(a=oe[r]||[]).length;--l>-1;)n.appendChild(t.document.createElement(a[l])),n=n.firstChild;n.innerHTML=o}d=ut(d,n.childNodes),(n=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",k(d,(function(t){c.appendChild(t)})),c}le.optgroup=le.option;var me=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function fe(e){if(e instanceof fe)return e;var i,n,r,s;if(z(e)&&(e=tt(e),i=!0),!(this instanceof fe)){if(i&&"<"!==e.charAt(0))throw te("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new fe(e)}i?Pe(this,(n=e,r=r||t.document,(s=ne.exec(n))?[r.createElement(s[1])]:(s=he(n,r))?s.childNodes:[])):W(e)?Le(e):Pe(this,e)}function ve(t){return t.cloneNode(!0)}function be(t,e){!e&&ge(t)&&a.cleanData([t]),t.querySelectorAll&&a.cleanData(t.querySelectorAll("*"))}function $e(t){var e;for(e in t)return!1;return!0}function ye(t){var e=t.ng339,i=e&&Kt[e],n=i&&i.events,r=i&&i.data;r&&!$e(r)||n&&!$e(n)||(delete Kt[e],t.ng339=void 0)}function we(t,e,i,n){if(N(n))throw te("offargs","jqLite#off() does not support the `selector` argument");var r=ke(t),s=r&&r.events,a=r&&r.handle;if(a){if(e){var o=function(e){var n=s[e];N(i)&&st(n||[],i),N(i)&&n&&n.length>0||(t.removeEventListener(e,a),delete s[e])};k(e.split(" "),(function(t){o(t),Xt[t]&&o(Xt[t])}))}else for(e in s)"$destroy"!==e&&t.removeEventListener(e,a),delete s[e];ye(t)}}function _e(t,e){var i=t.ng339,n=i&&Kt[i];n&&(e?delete n.data[e]:n.data={},ye(t))}function ke(t,e){var i=t.ng339,n=i&&Kt[i];return e&&!n&&(t.ng339=i=++Yt,n=Kt[i]={events:{},data:{},handle:void 0}),n}function Ce(t,e,i){if(ge(t)){var n,r=N(i),s=!r&&e&&!D(e),a=!e,o=ke(t,!s),l=o&&o.data;if(r)l[ie(e)]=i;else{if(a)return l;if(s)return l&&l[ie(e)];for(n in e)l[ie(n)]=e[n]}}}function Se(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function xe(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=i;k(e.split(" "),(function(t){t=tt(t),n=n.replace(" "+t+" "," ")})),n!==i&&t.setAttribute("class",tt(n))}}function Ae(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=i;k(e.split(" "),(function(t){t=tt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")})),n!==i&&t.setAttribute("class",tt(n))}}function Pe(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var i=e.length;if("number"==typeof i&&e.window!==e){if(i)for(var n=0;n<i;n++)t[t.length++]=e[n]}else t[t.length++]=e}}function Ie(t,e){return Oe(t,"$"+(e||"ngController")+"Controller")}function Oe(t,e,i){t.nodeType===Bt&&(t=t.documentElement);for(var n=H(e)?e:[e];t;){for(var r=0,s=n.length;r<s;r++)if(N(i=a.data(t,n[r])))return i;t=t.parentNode||t.nodeType===Ht&&t.host}}function Ee(t){for(be(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Te(t,e){e||be(t);var i=t.parentNode;i&&i.removeChild(t)}function Le(e){function i(){t.document.removeEventListener("DOMContentLoaded",i),t.removeEventListener("load",i),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",i),t.addEventListener("load",i))}var Ue=fe.prototype={ready:Le,toString:function(){var t=[];return k(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return a(t>=0?this[t]:this[this.length+t])},length:0,push:f,sort:[].sort,splice:[].splice},qe={};k("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){qe[p(t)]=t}));var Re={};k("input,select,option,textarea,button,form,details".split(","),(function(t){Re[t]=!0}));var Fe={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Me(t,e){var i=qe[e.toLowerCase()];return i&&Re[nt(t)]&&i}function Ne(t,e,i){i.call(t,e)}function De(t,e,i){var n=e.relatedTarget;n&&(n===t||me.call(t,n))||i.call(t,e)}function je(){this.$get=function(){return I(fe,{hasClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ae(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),xe(t,e)}})}}function ze(t,e){var i=t&&t.$$hashKey;if(i)return"function"==typeof i&&(i=t.$$hashKey()),i;var n=typeof t;return"function"===n||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||x)():n+":"+t}k({data:Ce,removeData:_e,hasData:function(t){for(var e in Kt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,i=t.length;e<i;e++)_e(t[e]),we(t[e])}},(function(t,e){fe[e]=t})),k({data:Ce,inheritedData:Oe,scope:function(t){return a.data(t,"$scope")||Oe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return a.data(t,"$isolateScope")||a.data(t,"$isolateScopeNoTemplate")},controller:Ie,injector:function(t){return Oe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Se,css:function(t,e,i){if(e=function(t){return ie(t.replace(Zt,"ms-"))}(e),!N(i))return t.style[e];t.style[e]=i},attr:function(t,e,i){var n,r=t.nodeType;if(r!==zt&&2!==r&&r!==Vt&&t.getAttribute){var s=p(e),a=qe[s];if(!N(i))return n=t.getAttribute(e),a&&null!==n&&(n=s),null===n?void 0:n;null===i||!1===i&&a?t.removeAttribute(e):t.setAttribute(e,a?s:i)}},prop:function(t,e,i){if(!N(i))return t[e];t[e]=i},text:function(){return t.$dv="",t;function t(t,e){if(M(e)){var i=t.nodeType;return i===jt||i===zt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(M(e)){if(t.multiple&&"select"===nt(t)){var i=[];return k(t.options,(function(t){t.selected&&i.push(t.value||t.text)})),i}return t.value}t.value=e},html:function(t,e){if(M(e))return t.innerHTML;be(t,!0),t.innerHTML=e},empty:Ee},(function(t,e){fe.prototype[e]=function(e,i){var n,r,s=this.length;if(t!==Ee&&M(2===t.length&&t!==Se&&t!==Ie?e:i)){if(D(e)){for(n=0;n<s;n++)if(t===Ce)t(this[n],e);else for(r in e)t(this[n],r,e[r]);return this}for(var a=t.$dv,o=M(a)?Math.min(s,1):s,l=0;l<o;l++){var c=t(this[l],e,i);a=a?a+c:c}return a}for(n=0;n<s;n++)t(this[n],e,i);return this}})),k({removeData:_e,on:function(t,e,i,n){if(N(n))throw te("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ge(t)){var r=ke(t,!0),s=r.events,a=r.handle;a||(a=r.handle=function(t,e){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var r=e[n||i.type],s=r?r.length:0;if(s){if(M(i.immediatePropagationStopped)){var a=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),a&&a.call(i)}}i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped};var o=r.specialHandlerWrapper||Ne;s>1&&(r=Gt(r));for(var l=0;l<s;l++)i.isImmediatePropagationStopped()||o(t,i,r[l])}};return i.elem=t,i}(t,s));for(var o=e.indexOf(" ")>=0?e.split(" "):[e],l=o.length,c=function(e,n,r){var o=s[e];o||((o=s[e]=[]).specialHandlerWrapper=n,"$destroy"===e||r||t.addEventListener(e,a)),o.push(i)};l--;)e=o[l],Xt[e]?(c(Xt[e],De),c(e,void 0,!0)):c(e)}},off:we,one:function(t,e,i){(t=a(t)).on(e,(function n(){t.off(e,i),t.off(e,n)})),t.on(e,i)},replaceWith:function(t,e){var i,n=t.parentNode;be(t),k(new fe(e),(function(e){i?n.insertBefore(e,i.nextSibling):n.replaceChild(e,t),i=e}))},children:function(t){var e=[];return k(t.childNodes,(function(t){t.nodeType===jt&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var i=t.nodeType;if(i===jt||i===Ht)for(var n=0,r=(e=new fe(e)).length;n<r;n++){var s=e[n];t.appendChild(s)}},prepend:function(t,e){if(t.nodeType===jt){var i=t.firstChild;k(new fe(e),(function(e){t.insertBefore(e,i)}))}},wrap:function(t,e){!function(t,e){var i=t.parentNode;i&&i.replaceChild(e,t),e.appendChild(t)}(t,a(e).eq(0).clone()[0])},remove:Te,detach:function(t){Te(t,!0)},after:function(t,e){var i=t,n=t.parentNode;if(n)for(var r=0,s=(e=new fe(e)).length;r<s;r++){var a=e[r];n.insertBefore(a,i.nextSibling),i=a}},addClass:Ae,removeClass:xe,toggleClass:function(t,e,i){e&&k(e.split(" "),(function(e){var n=i;M(n)&&(n=!Se(t,e)),(n?Ae:xe)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ht?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ve,triggerHandler:function(t,e,i){var n,r,s,a=e.type||e,o=ke(t),l=o&&o.events,c=l&&l[a];c&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:U,type:a,target:t},e.type&&(n=I(n,e)),r=Gt(c),s=i?[n].concat(i):[n],k(r,(function(e){n.isImmediatePropagationStopped()||e.apply(t,s)})))}},(function(t,e){fe.prototype[e]=function(e,i,n){for(var r,s=0,o=this.length;s<o;s++)M(r)?N(r=t(this[s],e,i,n))&&(r=a(r)):Pe(r,t(this[s],e,i,n));return N(r)?r:this}})),fe.prototype.bind=fe.prototype.on,fe.prototype.unbind=fe.prototype.off;var Ve=Object.create(null);function Be(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Be.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return T(t)?Ve:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var i=this._idx(t);-1===i&&(i=this._lastIndex=this._keys.length),this._keys[i]=t,this._values[i]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var He=Be,Ge=[function(){this.$get=[function(){return He}]}],We=/^([^(]+?)=>/,Qe=/^[^(]*\(\s*([^)]*)\)/m,Ke=/,/,Ye=/^\s*(_?)(\S+?)\1\s*$/,Je=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ze=r("$injector");function Xe(t){return Function.prototype.toString.call(t)}function ti(t){var e=Xe(t).replace(Je,"");return e.match(We)||e.match(Qe)}function ei(t,e){e=!0===e;var i={},n="Provider",r=[],a=new He,o={$provide:{provider:h(m),factory:h(v),service:h((function(t,e){return v(t,["$injector",function(t){return t.instantiate(e)}])})),value:h((function(t,e){return v(t,R(e),!1)})),constant:h((function(t,e){Ft(t,"constant"),o[t]=e,d[t]=e})),decorator:function(t,e){var i=c.get(t+n),r=i.$get;i.$get=function(){var t=p.invoke(r,i);return p.invoke(e,null,{$delegate:t})}}}},c=o.$injector=$(o,(function(t,e){throw y.isString(e)&&r.push(e),Ze("unpr","Unknown provider: {0}",r.join(" <- "))})),d={},u=$(d,(function(t,e){var i=c.get(t+n,e);return p.invoke(i.$get,i,void 0,t)})),p=u;o["$injector"+n]={$get:R(u)},p.modules=c.modules=Nt();var g=b(t);return(p=u.get("$injector")).strictDi=e,k(g,(function(t){t&&p.invoke(t)})),p.loadNewModules=function(t){k(b(t),(function(t){t&&p.invoke(t)}))},p;function h(t){return function(e,i){if(!D(e))return t(e,i);k(e,S(t))}}function m(t,e){if(Ft(t,"service"),(W(e)||H(e))&&(e=c.instantiate(e)),!e.$get)throw Ze("pget","Provider '{0}' must define $get factory method.",t);return o[t+n]=e}function f(t,e){return function(){var i=p.invoke(e,this);if(M(i))throw Ze("undef","Provider '{0}' must return a value from $get factory method.",t);return i}}function v(t,e,i){return m(t,{$get:!1!==i?f(t,e):e})}function b(t){qt(M(t)||H(t),"modulesToLoad","not an array");var e,i=[];return k(t,(function(t){if(!a.get(t)){a.set(t,!0);try{z(t)?(e=l(t),p.modules[t]=e,i=i.concat(b(e.requires)).concat(e._runBlocks),n(e._invokeQueue),n(e._configBlocks)):W(t)||H(t)?i.push(c.invoke(t)):Rt(t,"module")}catch(e){throw H(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ze("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function n(t){var e,i;for(e=0,i=t.length;e<i;e++){var n=t[e],r=c.get(n[0]);r[n[1]].apply(r,n[2])}}})),i}function $(t,a){function l(e,n){if(t.hasOwnProperty(e)){if(t[e]===i)throw Ze("cdep","Circular dependency found: {0}",e+" <- "+r.join(" <- "));return t[e]}try{return r.unshift(e),t[e]=i,t[e]=a(e,n),t[e]}catch(n){throw t[e]===i&&delete t[e],n}finally{r.shift()}}function c(t,i,n){for(var r=[],s=ei.$$annotate(t,e,n),a=0,o=s.length;a<o;a++){var c=s[a];if("string"!=typeof c)throw Ze("itkn","Incorrect injection token! Expected service name as string, got {0}",c);r.push(i&&i.hasOwnProperty(c)?i[c]:l(c,n))}return r}return{invoke:function(t,e,i,n){"string"==typeof i&&(n=i,i=null);var r=c(t,i,n);return H(t)&&(t=t[t.length-1]),function(t){if(s||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return J(e)||(e=t.$$ngIsClass=/^class\b/.test(Xe(t))),e}(t)?(r.unshift(null),new(Function.prototype.bind.apply(t,r))):t.apply(e,r)},instantiate:function(t,e,i){var n=H(t)?t[t.length-1]:t,r=c(t,e,i);return r.unshift(null),new(Function.prototype.bind.apply(n,r))},get:l,annotate:ei.$$annotate,has:function(e){return o.hasOwnProperty(e+n)||t.hasOwnProperty(e)}}}}function ii(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(i,n,r){var s=i.document;function o(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(W(t))t=t();else if(it(t)){var e=t[0];t="fixed"!==i.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else V(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;i.scrollBy(0,n-e)}}else i.scrollTo(0,0)}function l(t){var e,i,r;(t=z(t)?t:V(t)?t.toString():n.hash())?(e=s.getElementById(t))?o(e):(i=s.getElementsByName(t),r=null,Array.prototype.some.call(i,(function(t){if("a"===nt(t))return r=t,!0})),(e=r)?o(e):"top"===t&&o(null)):o(null)}return e&&r.$watch((function(){return n.hash()}),(function(e,i){var n,s;e===i&&""===e||(n=function(){r.$evalAsync(l)},"complete"===(s=s||t).document.readyState?s.setTimeout(n):a(s).on("load",n))})),l}]}ei.$$annotate=function(t,e,i){var n,r;if("function"==typeof t){if(!(n=t.$inject)){if(n=[],t.length){if(e)throw z(i)&&i||(i=t.name||function(t){var e=ti(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ze("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);k(ti(t)[1].split(Ke),(function(t){t.replace(Ye,(function(t,e,i){n.push(i)}))}))}t.$inject=n}}else H(t)?(Rt(t[r=t.length-1],"fn"),n=t.slice(0,r)):Rt(t,"fn",!0);return n};var ni=r("$animate"),ri="ng-animate";function si(t,e){return t||e?t?e?(H(t)&&(t=t.join(" ")),H(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ai(t){return D(t)?t:{}}var oi=function(){this.$get=U},li=function(){var t=new He,e=[];this.$get=["$$AnimateRunner","$rootScope",function(i,n){return{enabled:U,on:U,off:U,pin:U,push:function(a,o,l,c){c&&c(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(i,a,o){var l=t.get(i)||{},c=r(l,a,!0),d=r(l,o,!1);(c||d)&&(t.set(i,l),e.push(i),1===e.length&&n.$$postDigest(s))}(a,l.addClass,l.removeClass);var d=new i;return d.complete(),d}};function r(t,e,i){var n=!1;return e&&k(e=z(e)?e.split(" "):H(e)?e:[],(function(e){e&&(n=!0,t[e]=i)})),n}function s(){k(e,(function(e){var i=t.get(e);if(i){var n=function(t){z(t)&&(t=t.split(" "));var e=Nt();return k(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),r="",s="";k(i,(function(t,e){t!==!!n[e]&&(t?r+=(r.length?" ":"")+e:s+=(s.length?" ":"")+e)})),k(e,(function(t){r&&Ae(t,r),s&&xe(t,s)})),t.delete(e)}})),e.length=0}}]},ci=["$provide",function(t){var e=this,i=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(i,n){if(i&&"."!==i.charAt(0))throw ni("notcsel","Expecting class selector starting with '.' got '{0}'.",i);var r=i+"-animation";e.$$registeredAnimations[i.substr(1)]=r,t.factory(r,n)},this.customFilter=function(t){return 1===arguments.length&&(n=W(t)?t:null),n},this.classNameFilter=function(t){if(1===arguments.length&&(i=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]"+ri+"[(\\s|\\/)]").test(i.toString()))throw i=null,ni("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ri);return i},this.$get=["$$animateQueue",function(t){function e(t,e,i){if(i){var n=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(1===i.nodeType)return i}}(i);!n||n.parentNode||n.previousElementSibling||(i=null)}i?i.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(i,n,r,s){return n=n&&a(n),r=r&&a(r),e(i,n=n||r.parent(),r),t.push(i,"enter",ai(s))},move:function(i,n,r,s){return n=n&&a(n),r=r&&a(r),e(i,n=n||r.parent(),r),t.push(i,"move",ai(s))},leave:function(e,i){return t.push(e,"leave",ai(i),(function(){e.remove()}))},addClass:function(e,i,n){return(n=ai(n)).addClass=si(n.addclass,i),t.push(e,"addClass",n)},removeClass:function(e,i,n){return(n=ai(n)).removeClass=si(n.removeClass,i),t.push(e,"removeClass",n)},setClass:function(e,i,n,r){return(r=ai(r)).addClass=si(r.addClass,i),r.removeClass=si(r.removeClass,n),t.push(e,"setClass",r)},animate:function(e,i,n,r,s){return(s=ai(s)).from=s.from?I(s.from,i):i,s.to=s.to?I(s.to,n):n,r=r||"ng-inline-animate",s.tempClasses=si(s.tempClasses,r),t.push(e,"animate",s)}}}]}],di=function(){this.$get=["$$rAF",function(t){var e=[];function i(i){e.push(i),e.length>1||t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return i((function(){t=!0})),function(e){t?e():i(e)}}}]},ui=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,i,n,r){function s(t){this.setHost(t);var e=i();this._doneCallbacks=[],this._tick=function(t){n()?function(t){r(t,0,!1)}(t):e(t)},this._state=0}return s.chain=function(t,e){var i=0;!function n(){i!==t.length?t[i]((function(t){!1!==t?(i++,n()):e(!1)})):e(!0)}()},s.all=function(t,e){var i=0,n=!0;function r(r){n=n&&r,++i===t.length&&e(n)}k(t,(function(t){t.done(r)}))},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:U,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,i){e.done((function(e){!1===e?i():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&(k(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},s}]},pi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,i){return function(e,n){var r=n||{};r.$$prepared||(r=at(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(e.css(r.from),r.from=null);var s,a=new i;return{start:o,end:o};function o(){return t((function(){r.addClass&&(e.addClass(r.addClass),r.addClass=null),r.removeClass&&(e.removeClass(r.removeClass),r.removeClass=null),r.to&&(e.css(r.to),r.to=null),s||a.complete(),s=!0})),a}}}]};function gi(t,e,i,n,r){var s=this,o=t.location,l=t.history,c=t.setTimeout,d=t.clearTimeout,u={},p=r(i);s.isMock=!1,s.$$completeOutstandingRequest=p.completeTask,s.$$incOutstandingRequestCount=p.incTaskCount,s.notifyWhenNoOutstandingRequests=p.notifyWhenNoPendingTasks;var g,h,m=o.href,f=e.find("base"),v=null,b=n.history?function(){try{return l.state}catch(t){}}:U;C(),s.url=function(e,i,r){if(M(r)&&(r=null),o!==t.location&&(o=t.location),l!==t.history&&(l=t.history),e){var a=h===r;if(e=hr(e).href,m===e&&(!n.history||a))return s;var c=m&&pn(m)===pn(e);return m=e,h=r,!n.history||c&&a?(c||(v=e),i?o.replace(e):c?o.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):o.href=e,o.href!==e&&(v=e)):(l[i?"replaceState":"pushState"](r,"",e),C()),v&&(v=e),s}return function(t){return t.replace(/#$/,"")}(v||o.href)},s.state=function(){return g};var $=[],y=!1;function w(){v=null,S()}var _=null;function C(){lt(g=M(g=b())?null:g,_)&&(g=_),_=g,h=g}function S(){var t=h;C(),m===s.url()&&t===g||(m=s.url(),h=g,k($,(function(t){t(s.url(),g)})))}s.onUrlChange=function(e){return y||(n.history&&a(t).on("popstate",w),a(t).on("hashchange",w),y=!0),$.push(e),e},s.$$applicationDestroyed=function(){a(t).off("hashchange popstate",w)},s.$$checkUrlChange=S,s.baseHref=function(){var t=f.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(t,e,i){var n;return e=e||0,i=i||p.DEFAULT_TASK_TYPE,p.incTaskCount(i),n=c((function(){delete u[n],p.completeTask(t,i)}),e),u[n]=i,n},s.defer.cancel=function(t){if(u.hasOwnProperty(t)){var e=u[t];return delete u[t],d(t),p.completeTask(U,e),!0}return!1}}function hi(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,i,n,r){return new gi(t,n,e,i,r)}]}function mi(){this.$get=function(){var t={};function e(e,i){if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,s=I({},i,{id:e}),a=Nt(),o=i&&i.capacity||Number.MAX_VALUE,l=Nt(),c=null,d=null;return t[e]={put:function(t,e){if(!M(e))return o<Number.MAX_VALUE&&u(l[t]||(l[t]={key:t})),t in a||n++,a[t]=e,n>o&&this.remove(d.key),e},get:function(t){if(o<Number.MAX_VALUE){var e=l[t];if(!e)return;u(e)}return a[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=l[t];if(!e)return;e===c&&(c=e.p),e===d&&(d=e.n),p(e.n,e.p),delete l[t]}t in a&&(delete a[t],n--)},removeAll:function(){a=Nt(),n=0,l=Nt(),c=d=null},destroy:function(){a=null,s=null,l=null,delete t[e]},info:function(){return I({},s,{size:n})}};function u(t){t!==c&&(d?d===t&&(d=t.n):d=t,p(t.n,t.p),p(t,c),(c=t).n=null)}function p(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return k(t,(function(t,i){e[i]=t.info()})),e},e.get=function(e){return t[e]},e}}function fi(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var vi=r("$compile"),bi=new function(){};function $i(e,i){var n={},r="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(t){var e,i={},n="ngSrc,ngSrcset,src,srcset".split(",");for(e=0;e<n.length;e++)i[n[e]]=!0;return i}(),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,g=/^(on[a-z]+|formaction)$/,h=Nt();function m(t,e,i){var n=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=Nt();return k(t,(function(t,s){if((t=t.trim())in h)r[s]=h[t];else{var a=t.match(n);if(!a)throw vi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,s,t,i?"controller bindings definition":"isolate scope definition");r[s]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||s},a[4]&&(h[t]=r[s])}})),r}function f(t,e){var i={isolateScope:null,bindToController:null};if(D(t.scope)&&(!0===t.bindToController?(i.bindToController=m(t.scope,e,!0),i.isolateScope={}):i.isolateScope=m(t.scope,e,!1)),D(t.bindToController)&&(i.bindToController=m(t.bindToController,e,!0)),i.bindToController&&!t.controller)throw vi("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return i}this.directive=function t(i,s){return qt(i,"name"),Ft(i,"directive"),z(i)?(function(t){var e=t.charAt(0);if(!e||e!==p(e))throw vi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw vi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(i),qt(s,"directiveFactory"),n.hasOwnProperty(i)||(n[i]=[],e.factory(i+r,["$injector","$exceptionHandler",function(t,e){var r=[];return k(n[i],(function(n,s){try{var a=t.invoke(n);W(a)?a={compile:R(a)}:!a.compile&&a.link&&(a.compile=R(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||i,a.require=function(t){var e=t.require||t.controller&&t.name;return!H(e)&&D(e)&&k(e,(function(t,i){var n=t.match(d);t.substring(n[0].length)||(e[i]=n[0]+i)})),e}(a),a.restrict=function(t,e){if(t&&(!z(t)||!/[EACM]/.test(t)))throw vi("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(a.restrict,i),a.$$moduleName=n.$$moduleName,r.push(a)}catch(t){e(t)}})),r}])),n[i].push(s)):k(i,S(t)),this},this.component=function t(e,i){if(!z(e))return k(e,S(gt(this,t))),this;var n=i.controller||function(){};function r(t){function e(e){return W(e)||H(e)?function(i,n){return t.invoke(e,this,{$element:i,$attrs:n})}:e}var r=i.template||i.templateUrl?i.template:"",s={controller:n,controllerAs:Pi(i.controller)||i.controllerAs||"$ctrl",template:e(r),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return k(i,(function(t,e){"$"===e.charAt(0)&&(s[e]=t)})),s}return k(i,(function(t,e){"$"===e.charAt(0)&&(r[e]=t,W(n)&&(n[e]=t))})),r.$inject=["$injector"],this.directive(e,r)},this.aHrefSanitizationTrustedUrlList=function(t){return N(t)?(i.aHrefSanitizationTrustedUrlList(t),this):i.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(t){this.aHrefSanitizationTrustedUrlList=t}}),this.imgSrcSanitizationTrustedUrlList=function(t){return N(t)?(i.imgSrcSanitizationTrustedUrlList(t),this):i.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(t){this.imgSrcSanitizationTrustedUrlList=t}});var b=!0;this.debugInfoEnabled=function(t){return N(t)?(b=t,this):b};var $=!1;this.strictComponentBindingsEnabled=function(t){return N(t)?($=t,this):$};var y=10;this.onChangesTtl=function(t){return arguments.length?(y=t,this):y};var w=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(w=t,this):w};var _=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(_=t,this):_};var C=Nt();this.addPropertySecurityContext=function(t,e,i){var n=t.toLowerCase()+"|"+e.toLowerCase();if(n in C&&C[n]!==i)throw vi("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,C[n],i);return C[n]=i,this},function(){function t(t,e){k(e,(function(e){C[e.toLowerCase()]=t}))}t(Yn.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(Yn.CSS,["*|style"]),t(Yn.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(Yn.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(Yn.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,i,h,m,S,x,A,P,O){var E,T=/^\w/,R=t.document.createElement("div"),F=w,N=_,j=y;function V(){try{if(!--j)throw E=void 0,vi("infchng","{0} $onChanges() iterations reached. Aborting!\n",y);A.$apply((function(){for(var t=0,e=E.length;t<e;++t)try{E[t]()}catch(t){h(t)}E=void 0}))}finally{j++}}function B(t,e){if(!t)return t;if(!z(t))throw vi("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var i="",n=tt(t),r=/\s/.test(n)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,s=n.split(r),a=Math.floor(s.length/2),o=0;o<a;o++){var l=2*o;i+=P.getTrustedMediaUrl(tt(s[l])),i+=" "+tt(s[l+1])}var c=tt(s[2*o]).split(/\s/);return i+=P.getTrustedMediaUrl(tt(c[0])),2===c.length&&(i+=" "+tt(c[1])),i}function Q(t,e){if(e){var i,n,r,s=Object.keys(e);for(i=0,n=s.length;i<n;i++)this[r=s[i]]=e[r]}else this.$attr={};this.$$element=t}function K(t,e){try{t.addClass(e)}catch(t){}}Q.prototype={$normalize:ki,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var i=Ci(t,e);i&&i.length&&O.addClass(this.$$element,i);var n=Ci(e,t);n&&n.length&&O.removeClass(this.$$element,n)},$set:function(t,e,i,n){var r=Me(this.$$element[0],t),s=Fe[t],a=t;r?(this.$$element.prop(t,e),n=r):s&&(this[s]=e,a=s),this[t]=e,n?this.$attr[t]=n:(n=this.$attr[t])||(this.$attr[t]=n=Tt(t,"-")),"img"===nt(this.$$element)&&"srcset"===t&&(this[t]=e=B(e,"$set('srcset', value)")),!1!==i&&(null===e||M(e)?this.$$element.removeAttr(n):T.test(n)?r&&!1===e?this.$$element.removeAttr(n):this.$$element.attr(n,e):function(t,e,i){R.innerHTML="<span "+e+">";var n=R.firstChild.attributes,r=n[0];n.removeNamedItem(r.name),r.value=i,t.attributes.setNamedItem(r)}(this.$$element[0],n,e));var o=this.$$observers;o&&k(o[a],(function(t){try{t(e)}catch(t){h(t)}}))},$observe:function(t,e){var i=this,n=i.$$observers||(i.$$observers=Nt()),r=n[t]||(n[t]=[]);return r.push(e),A.$evalAsync((function(){r.$$inter||!i.hasOwnProperty(t)||M(i[t])||e(i[t])})),function(){st(r,e)}}};var Z=i.startSymbol(),X=i.endSymbol(),et="{{"===Z&&"}}"===X?q:function(t){return t.replace(/\{\{/g,Z).replace(/}}/g,X)},it=/^ng(Attr|Prop|On)([A-Z].*)$/,rt=/^(.+)Start$/;return at.$$addBindingInfo=b?function(t,e){var i=t.data("$binding")||[];H(e)?i=i.concat(e):i.push(e),t.data("$binding",i)}:U,at.$$addBindingClass=b?function(t){K(t,"ng-binding")}:U,at.$$addScopeInfo=b?function(t,e,i,n){var r=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:U,at.$$addScopeClass=b?function(t,e){K(t,e?"ng-isolate-scope":"ng-scope")}:U,at.$$createComment=function(e,i){var n="";return b&&(n=" "+(e||"")+": ",i&&(n+=i+" ")),t.document.createComment(n)},at;function at(t,e,i,n,r){t instanceof a||(t=a(t));var s=ct(t,e,t,i,n,r);at.$$addScopeClass(t);var o=null;return function(e,i,n){if(!t)throw vi("multilink","This element has already been linked.");qt(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new());var l,c,d,u=(n=n||{}).parentBoundTranscludeFn,p=n.transcludeControllers,g=n.futureParentElement;if(u&&u.$$boundTransclude&&(u=u.$$boundTransclude),o||(c=(l=g)&&l[0],o=c&&"foreignobject"!==nt(c)&&v.call(c).match(/SVG/)?"svg":"html"),d="html"!==o?a(Pt(o,a("<div></div>").append(t).html())):i?Ue.clone.call(t):t,p)for(var h in p)d.data("$"+h+"Controller",p[h].instance);return at.$$addScopeInfo(d,e),i&&i(d,e),s&&s(e,d,d,u),i||(t=s=null),d}}function ct(t,e,i,n,r,o){for(var l,c,d,u,p,g,h,m=[],f=H(t)||t instanceof a,v=0;v<t.length;v++)l=new Q,11===s&&dt(t,v,f),(d=(c=ht(t[v],[],l,0===v?n:void 0,r)).length?bt(c,t[v],l,e,i,null,[],[],o):null)&&d.scope&&at.$$addScopeClass(l.$$element),p=d&&d.terminal||!(u=t[v].childNodes)||!u.length?null:ct(u,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:e),(d||p)&&(m.push(v,d,p),g=!0,h=h||d),o=null;return g?function(t,i,n,r){var s,o,l,c,d,u,p,g;if(h){var f=i.length;for(g=new Array(f),d=0;d<m.length;d+=3)g[p=m[d]]=i[p]}else g=i;for(d=0,u=m.length;d<u;)l=g[m[d++]],s=m[d++],o=m[d++],s?(s.scope?(c=t.$new(),at.$$addScopeInfo(a(l),c)):c=t,s(o,c,l,n,s.transcludeOnThisElement?ut(t,s.transclude,r):!s.templateOnThisElement&&r?r:!r&&e?ut(t,e):null)):o&&o(t,l.childNodes,void 0,r)}:null}function dt(t,e,i){var n,r=t[e],s=r.parentNode;if(r.nodeType===zt)for(;(n=s?r.nextSibling:t[e+1])&&n.nodeType===zt;)r.nodeValue=r.nodeValue+n.nodeValue,n.parentNode&&n.parentNode.removeChild(n),i&&n===t[e+1]&&t.splice(e+1,1)}function ut(t,e,i){function n(n,r,s,a,o){return n||((n=t.$new(!1,o)).$$transcluded=!0),e(n,r,{parentBoundTranscludeFn:i,transcludeControllers:s,futureParentElement:a})}var r=n.$$slots=Nt();for(var s in e.$$slots)e.$$slots[s]?r[s]=ut(t,e.$$slots[s],i):r[s]=null;return n}function ht(t,e,n,r,s){var a,c,d,u=t.nodeType,p=n.$attr;switch(u){case jt:_t(e,ki(c=nt(t)),"E",r,s);for(var g,h,m,f,v,b=t.attributes,$=0,y=b&&b.length;$<y;$++){var w,_=!1,k=!1,C=!1,S=!1,x=!1;h=(g=b[$]).name,f=g.value,(v=(m=ki(h.toLowerCase())).match(it))?(C="Attr"===v[1],S="Prop"===v[1],x="On"===v[1],h=h.replace(wi,"").toLowerCase().substr(4+v[1].length).replace(/_(.)/g,(function(t,e){return e.toUpperCase()}))):(w=m.match(rt))&&kt(w[1])&&(_=h,k=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),S||x?(n[m]=f,p[m]=g.name,S?Ot(t,e,m,h):Et(e,m,h)):(p[m=ki(h.toLowerCase())]=h,!C&&n.hasOwnProperty(m)||(n[m]=f,Me(t,m)&&(n[m]=!0)),Lt(t,e,f,m,C),_t(e,m,"A",r,s,_,k))}if("input"===c&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!N)break;if(D(d=t.className)&&(d=d.animVal),z(d)&&""!==d)for(;a=l.exec(d);)_t(e,m=ki(a[2]),"C",r,s)&&(n[m]=tt(a[3])),d=d.substr(a.index+a[0].length);break;case zt:!function(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&at.$$addBindingClass(e),function(t,e){var r=e.parent();i||at.$$addBindingClass(r),at.$$addBindingInfo(r,n.expressions),t.$watch(n,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case Vt:if(!F)break;!function(t,e,i,n,r){try{var s=o.exec(t.nodeValue);if(s){var a=ki(s[1]);_t(e,a,"M",n,r)&&(i[a]=tt(s[2]))}}catch(t){}}(t,e,n,r,s)}return e.sort(xt),e}function mt(t,e,i){var n=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw vi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,i);t.nodeType===jt&&(t.hasAttribute(e)&&r++,t.hasAttribute(i)&&r--),n.push(t),t=t.nextSibling}while(r>0);else n.push(t);return a(n)}function ft(t,e,i){return function(n,r,s,a,o){return r=mt(r[0],e,i),t(n,r,s,a,o)}}function vt(t,e,i,n,r,s){var a;return t?at(e,i,n,r,s):function(){return a||(a=at(e,i,n,r,s),e=i=s=null),a.apply(this,arguments)}}function bt(e,i,n,r,s,o,l,c,d){d=d||{};for(var u,p,g,m,f,v=-Number.MAX_VALUE,b=d.newScopeDirective,$=d.controllerDirectives,y=d.newIsolateScopeDirective,w=d.templateDirective,_=d.nonTlbTranscludeDirective,C=!1,S=!1,A=d.hasElementTranscludeDirective,P=n.$$element=a(i),O=o,E=r,T=!1,L=!1,U=0,q=e.length;U<q;U++){var R=(u=e[U]).$$start,F=u.$$end;if(R&&(P=mt(i,R,F)),g=void 0,v>u.priority)break;if((f=u.scope)&&(u.templateUrl||(D(f)?(At("new/isolated scope",y||b,u,P),y=u):At("new/isolated scope",y,u,P)),b=b||u),p=u.name,!T&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var N,j=U+1;N=e[j++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){L=!0;break}T=!0}if(!u.templateUrl&&u.controller&&($=$||Nt(),At("'"+p+"' controller",$[p],u,P),$[p]=u),f=u.transclude)if(C=!0,u.$$tlb||(At("transclusion",_,u,P),_=u),"element"===f)A=!0,v=u.priority,g=P,P=n.$$element=a(at.$$createComment(p,n[p])),i=P[0],Ut(s,pt(g),i),E=vt(L,g,r,v,O&&O.name,{nonTlbTranscludeDirective:_});else{var z=Nt();if(D(f)){g=t.document.createDocumentFragment();var V=Nt(),B=Nt();for(var G in k(f,(function(t,e){var i="?"===t.charAt(0);t=i?t.substring(1):t,V[t]=e,z[e]=null,B[e]=i})),k(P.contents(),(function(e){var i=V[ki(nt(e))];i?(B[i]=!0,z[i]=z[i]||t.document.createDocumentFragment(),z[i].appendChild(e)):g.appendChild(e)})),k(B,(function(t,e){if(!t)throw vi("reqslot","Required transclusion slot `{0}` was not filled.",e)})),z)if(z[G]){var K=a(z[G].childNodes);z[G]=vt(L,K,r)}g=a(g.childNodes)}else g=a(ve(i)).contents();P.empty(),(E=vt(L,g,r,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=z}if(u.template)if(S=!0,At("template",w,u,P),w=u,f=W(u.template)?u.template(P,n):u.template,f=et(f),u.replace){if(O=u,g=pe(f)?[]:Si(Pt(u.templateNamespace,tt(f))),i=g[0],1!==g.length||i.nodeType!==jt)throw vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");Ut(s,P,i);var J={$attr:{}},Z=ht(i,[],J),X=e.splice(U+1,e.length-(U+1));(y||b)&&yt(Z,y,b),e=e.concat(Z).concat(X),Ct(n,J),q=e.length}else P.html(f);if(u.templateUrl)S=!0,At("template",w,u,P),w=u,u.replace&&(O=u),st=St(e.splice(U,e.length-U),P,n,s,C&&E,l,c,{controllerDirectives:$,newScopeDirective:b!==u&&b,newIsolateScopeDirective:y,templateDirective:w,nonTlbTranscludeDirective:_}),q=e.length;else if(u.compile)try{m=u.compile(P,n,E);var it=u.$$originalDirective||u;W(m)?rt(null,gt(it,m),R,F):m&&rt(gt(it,m.pre),gt(it,m.post),R,F)}catch(t){h(t,wt(P))}u.terminal&&(st.terminal=!0,v=Math.max(v,u.priority))}return st.scope=b&&!0===b.scope,st.transcludeOnThisElement=C,st.templateOnThisElement=S,st.transclude=E,d.hasElementTranscludeDirective=A,st;function rt(t,e,i,n){t&&(i&&(t=ft(t,i,n)),t.require=u.require,t.directiveName=p,(y===u||u.$$isolateScope)&&(t=Rt(t,{isolateScope:!0})),l.push(t)),e&&(i&&(e=ft(e,i,n)),e.require=u.require,e.directiveName=p,(y===u||u.$$isolateScope)&&(e=Rt(e,{isolateScope:!0})),c.push(e))}function st(t,e,r,s,o){var d,u,p,g,m,f,v,_,C,S;for(var P in i===r?(C=n,_=n.$$element):C=new Q(_=a(r),n),m=e,y?g=e.$new(!0):b&&(m=e.$parent),o&&(v=function(t,e,i,n){var r;if(Y(t)||(n=i,i=e,e=t,t=void 0),A&&(r=f),i||(i=A?_.parent():_),!n)return o(t,e,r,i,L);var s=o.$$slots[n];if(s)return s(t,e,r,i,L);if(M(s))throw vi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',n,wt(_))},v.$$boundTransclude=o,v.isSlotFilled=function(t){return!!o.$$slots[t]}),$&&(f=function(t,e,i,n,r,s,a){var o=Nt();for(var l in n){var c=n[l],d={$scope:c===a||c.$$isolateScope?r:s,$element:t,$attrs:e,$transclude:i},u=c.controller;"@"===u&&(u=e[c.name]);var p=x(u,d,!0,c.controllerAs);o[c.name]=p,t.data("$"+c.name+"Controller",p.instance)}return o}(_,C,v,$,g,e,y)),y&&(at.$$addScopeInfo(_,g,!0,!(w&&(w===y||w===y.$$originalDirective))),at.$$addScopeClass(_,!0),g.$$isolateBindings=y.$$isolateBindings,(S=Dt(e,C,g,g.$$isolateBindings,y)).removeWatches&&g.$on("$destroy",S.removeWatches)),f){var O=$[P],E=f[P],T=O.$$bindings.bindToController;E.instance=E(),_.data("$"+O.name+"Controller",E.instance),E.bindingInfo=Dt(m,C,E.instance,T,O)}for(k($,(function(t,e){var i=t.require;t.bindToController&&!H(i)&&D(i)&&I(f[e].instance,$t(e,i,_,f))})),k(f,(function(t){var e=t.instance;if(W(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){h(t)}if(W(e.$onInit))try{e.$onInit()}catch(t){h(t)}W(e.$doCheck)&&(m.$watch((function(){e.$doCheck()})),e.$doCheck()),W(e.$onDestroy)&&m.$on("$destroy",(function(){e.$onDestroy()}))})),d=0,u=l.length;d<u;d++)Ft(p=l[d],p.isolateScope?g:e,_,C,p.require&&$t(p.directiveName,p.require,_,f),v);var L=e;for(y&&(y.template||null===y.templateUrl)&&(L=g),t&&t(L,r.childNodes,void 0,o),d=c.length-1;d>=0;d--)Ft(p=c[d],p.isolateScope?g:e,_,C,p.require&&$t(p.directiveName,p.require,_,f),v);k(f,(function(t){var e=t.instance;W(e.$postLink)&&e.$postLink()}))}}function $t(t,e,i,n){var r;if(z(e)){var s=e.match(d),a=e.substring(s[0].length),o=s[1]||s[3],l="?"===s[2];if("^^"===o?i=i.parent():r=(r=n&&n[a])&&r.instance,!r){var c="$"+a+"Controller";r="^^"===o&&i[0]&&i[0].nodeType===Bt?null:o?i.inheritedData(c):i.data(c)}if(!r&&!l)throw vi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(H(e)){r=[];for(var u=0,p=e.length;u<p;u++)r[u]=$t(t,e[u],i,n)}else D(e)&&(r={},k(e,(function(e,s){r[s]=$t(t,e,i,n)})));return r||null}function yt(t,e,i){for(var n=0,r=t.length;n<r;n++)t[n]=L(t[n],{$$isolateScope:e,$$newScope:i})}function _t(t,i,s,a,o,l,c){if(i===o)return null;var d=null;if(n.hasOwnProperty(i))for(var u,p=e.get(i+r),g=0,h=p.length;g<h;g++)if(u=p[g],(M(a)||a>u.priority)&&-1!==u.restrict.indexOf(s)){if(l&&(u=L(u,{$$start:l,$$end:c})),!u.$$bindings){var m=u.$$bindings=f(u,u.name);D(m.isolateScope)&&(u.$$isolateBindings=m.isolateScope)}t.push(u),d=u}return d}function kt(t){if(n.hasOwnProperty(t))for(var i=e.get(t+r),s=0,a=i.length;s<a;s++)if(i[s].multiElement)return!0;return!1}function Ct(t,e){var i=e.$attr,n=t.$attr;k(t,(function(n,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==n&&(n.length?n+=("style"===r?";":" ")+e[r]:n=e[r]),t.$set(r,n,!0,i[r]))})),k(e,(function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(n[r]=i[r]))}))}function St(t,e,i,n,r,s,o,l){var c,d,u=[],p=e[0],g=t.shift(),f=L(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=W(g.templateUrl)?g.templateUrl(e,i):g.templateUrl,b=g.templateNamespace;return e.empty(),m(v).then((function(h){var m,$,y,w;if(h=et(h),g.replace){if(y=pe(h)?[]:Si(Pt(b,tt(h))),m=y[0],1!==y.length||m.nodeType!==jt)throw vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);$={$attr:{}},Ut(n,e,m);var _=ht(m,[],$);D(g.scope)&&yt(_,!0),t=_.concat(t),Ct(i,$)}else m=p,e.html(h);for(t.unshift(f),c=bt(t,m,i,r,e,g,s,o,l),k(n,(function(t,i){t===m&&(n[i]=e[0])})),d=ct(e[0].childNodes,r);u.length;){var C=u.shift(),S=u.shift(),x=u.shift(),A=u.shift(),P=e[0];if(!C.$$destroyed){if(S!==p){var I=S.className;l.hasElementTranscludeDirective&&g.replace||(P=ve(m)),Ut(x,a(S),P),K(a(P),I)}w=c.transcludeOnThisElement?ut(C,c.transclude,A):A,c(d,C,P,n,w)}}u=null})).catch((function(t){G(t)&&h(t)})),function(t,e,i,n,r){var s=r;e.$$destroyed||(u?u.push(e,i,n,s):(c.transcludeOnThisElement&&(s=ut(e,c.transclude,r)),c(d,e,i,n,s)))}}function xt(t,e){var i=e.priority-t.priority;return 0!==i?i:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function At(t,e,i,n){function r(t){return t?" (module: "+t+")":""}if(e)throw vi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),i.name,r(i.$$moduleName),t,wt(n))}function Pt(e,i){switch(e=p(e||"html")){case"svg":case"math":var n=t.document.createElement("div");return n.innerHTML="<"+e+">"+i+"</"+e+">",n.childNodes[0].childNodes;default:return i}}function It(t){return B(P.valueOf(t),"ng-prop-srcset")}function Ot(t,e,i,n){if(g.test(n))throw vi("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r=nt(t),s=function(t,e){var i=e.toLowerCase();return C[t+"|"+i]||C["*|"+i]}(r,n),a=q;"srcset"!==n||"img"!==r&&"source"!==r?s&&(a=P.getTrusted.bind(P,s)):a=It,e.push({priority:100,compile:function(t,e){var r=S(e[i]),s=S(e[i],(function(t){return P.valueOf(t)}));return{pre:function(t,e){function i(){var i=r(t);e[0][n]=a(i)}i(),t.$watch(s,i)}}}})}function Et(t,e,i){t.push(Vs(S,A,h,e,i,!1))}function Lt(t,e,n,r,s){var a=nt(t),o=function(t,e){return"srcdoc"===e?P.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?P.RESOURCE_URL:P.MEDIA_URL:"xlinkHref"===e?"image"===t?P.MEDIA_URL:"a"===t?P.URL:P.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?P.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:P.URL}(a,r),l=!s,d=c[r]||s,u=i(n,l,o,d);if(u){if("multiple"===r&&"select"===a)throw vi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",wt(t));if(g.test(r))throw vi("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,s){var a=s.$$observers||(s.$$observers=Nt()),l=s[r];l!==n&&(u=l&&i(l,!0,o,d),n=l),u&&(s[r]=u(t),(a[r]||(a[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||t).$watch(u,(function(t,e){"class"===r&&t!==e?s.$updateClass(t,e):s.$set(r,t)})))}}}})}}function Ut(e,i,n){var r,s,o=i[0],l=i.length,c=o.parentNode;if(e)for(r=0,s=e.length;r<s;r++)if(e[r]===o){e[r++]=n;for(var d=r,u=d+l-1,p=e.length;d<p;d++,u++)u<p?e[d]=e[u]:delete e[d];e.length-=l-1,e.context===o&&(e.context=n);break}c&&c.replaceChild(n,o);var g=t.document.createDocumentFragment();for(r=0;r<l;r++)g.appendChild(i[r]);for(a.hasData(o)&&(a.data(n,a.data(o)),a(o).off("$destroy")),a.cleanData(g.querySelectorAll("*")),r=1;r<l;r++)delete i[r];i[0]=n,i.length=1}function Rt(t,e){return I((function(){return t.apply(null,arguments)}),t,e)}function Ft(t,e,i,n,r,s){try{t(e,i,n,r,s)}catch(t){h(t,wt(i))}}function Mt(t,e){if($)throw vi("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function Dt(t,e,n,r,s){var a,o=[],l={};function c(e,i,r){W(n.$onChanges)&&!ot(i,r)&&(E||(t.$$postDigest(V),E=[]),a||(a={},E.push(d)),a[e]&&(r=a[e].previousValue),a[e]=new yi(r,i))}function d(){n.$onChanges(a),a=void 0}return k(r,(function(r,a){var d,p,g,h,m,f=r.attrName,v=r.optional;switch(r.mode){case"@":v||u.call(e,f)||(Mt(f,s.name),n[a]=e[f]=void 0),m=e.$observe(f,(function(t){if(z(t)||J(t)){var e=n[a];c(a,t,e),n[a]=t}})),e.$$observers[f].$$scope=t,z(d=e[f])?n[a]=i(d)(t):J(d)&&(n[a]=d),l[a]=new yi(bi,n[a]),o.push(m);break;case"=":if(!u.call(e,f)){if(v)break;Mt(f,s.name),e[f]=void 0}if(v&&!e[f])break;p=S(e[f]),h=p.literal?lt:ot,g=p.assign||function(){throw d=n[a]=p(t),vi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[f],f,s.name)},d=n[a]=p(t);var b=function(e){return h(e,n[a])||(h(e,d)?g(t,e=n[a]):n[a]=e),d=e};b.$stateful=!0,m=r.collection?t.$watchCollection(e[f],b):t.$watch(S(e[f],b),null,p.literal),o.push(m);break;case"<":if(!u.call(e,f)){if(v)break;Mt(f,s.name),e[f]=void 0}if(v&&!e[f])break;var $=(p=S(e[f])).literal,y=n[a]=p(t);l[a]=new yi(bi,n[a]),m=t[r.collection?"$watchCollection":"$watch"](p,(function(t,e){if(e===t){if(e===y||$&&lt(e,y))return;e=y}c(a,t,e),n[a]=t})),o.push(m);break;case"&":if(v||u.call(e,f)||Mt(f,s.name),(p=e.hasOwnProperty(f)?S(e[f]):U)===U&&v)break;n[a]=function(e){return p(t,e)}}})),{initialChanges:l,removeWatches:o.length&&function(){for(var t=0,e=o.length;t<e;++t)o[t]()}}}}]}function yi(t,e){this.previousValue=t,this.currentValue=e}$i.$inject=["$provide","$$sanitizeUriProvider"],yi.prototype.isFirstChange=function(){return this.previousValue===bi};var wi=/^((?:x|data)[:\-_])/i,_i=/[:\-_]+(.)/g;function ki(t){return t.replace(wi,"").replace(_i,(function(t,e,i){return i?e.toUpperCase():e}))}function Ci(t,e){var i="",n=t.split(/\s+/),r=e.split(/\s+/);t:for(var s=0;s<n.length;s++){for(var a=n[s],o=0;o<r.length;o++)if(a===r[o])continue t;i+=(i.length>0?" ":"")+a}return i}function Si(t){var e=(t=a(t)).length;if(e<=1)return t;for(;e--;){var i=t[e];(i.nodeType===Vt||i.nodeType===zt&&""===i.nodeValue.trim())&&m.call(t,e,1)}return t}var xi=r("$controller"),Ai=/^(\S+)(\s+as\s+([\w$]+))?$/;function Pi(t,e){if(e&&z(e))return e;if(z(t)){var i=Ai.exec(t);if(i)return i[3]}}function Ii(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,i){Ft(e,"controller"),D(e)?I(t,e):t[e]=i},this.$get=["$injector",function(e){return function(n,r,s,a){var o,l,c,d;if(s=!0===s,a&&z(a)&&(d=a),z(n)){if(!(l=n.match(Ai)))throw xi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);if(c=l[1],d=d||l[3],n=t.hasOwnProperty(c)?t[c]:function(t,e,i){if(!e)return t;for(var n,r=e.split("."),s=r.length,a=0;a<s;a++)n=r[a],t&&(t=t[n]);return t}(r.$scope,c),!n)throw xi("ctrlreg","The controller with the name '{0}' is not registered.",c);Rt(n,c,!0)}if(s){var u=(H(n)?n[n.length-1]:n).prototype;return o=Object.create(u||null),d&&i(r,d,o,c||n.name),I((function(){var t=e.invoke(n,o,r,c);return t!==o&&(D(t)||W(t))&&(o=t,d&&i(r,d,o,c||n.name)),o}),{instance:o,identifier:d})}return o=e.instantiate(n,r,c),d&&i(r,d,o,c||n.name),o};function i(t,e,i,n){if(!t||!D(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",n,e);t.$scope[e]=i}}]}function Oi(){this.$get=["$window",function(t){return a(t.document)}]}function Ei(){this.$get=["$document","$rootScope",function(t,e){var i=t[0],n=i&&i.hidden;function r(){n=i.hidden}return t.on("visibilitychange",r),e.$on("$destroy",(function(){t.off("visibilitychange",r)})),function(){return n}}]}function Ti(){this.$get=["$log",function(t){return function(e,i){t.error.apply(t,arguments)}}]}var Li=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof a&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Ui="application/json",qi={"Content-Type":Ui+";charset=utf-8"},Ri=/^\[|^\{(?!\{)/,Fi={"[":/]$/,"{":/}$/},Mi=/^\)]\}',?\n/,Ni=r("$http");function Di(t){return D(t)?B(t)?t.toISOString():mt(t):t}function ji(){this.$get=function(){return function(t){if(!t)return"";var e=[];return C(t,(function(t,i){null===t||M(t)||W(t)||(H(t)?k(t,(function(t){e.push(St(i)+"="+St(Di(t)))})):e.push(St(i)+"="+St(Di(t))))})),e.join("&")}}}function zi(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(i,n,r){H(i)?k(i,(function(e,i){t(e,n+"["+(D(e)?i:"")+"]")})):D(i)&&!B(i)?C(i,(function(e,i){t(e,n+(r?"":"[")+i+(r?"":"]"))})):(W(i)&&(i=i()),e.push(St(n)+"="+(null==i?"":St(Di(i)))))}(t,"",!0),e.join("&")}}}function Vi(t,e){if(z(t)){var i=t.replace(Mi,"").trim();if(i){var n=e("Content-Type"),r=n&&0===n.indexOf(Ui);if(r||(a=(s=i).match(Ri))&&Fi[a[0]].test(s))try{t=ft(i)}catch(e){if(!r)return t;throw Ni("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var s,a;return t}function Bi(t){var e,i=Nt();function n(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}return z(t)?k(t.split("\n"),(function(t){e=t.indexOf(":"),n(p(tt(t.substr(0,e))),tt(t.substr(e+1)))})):D(t)&&k(t,(function(t,e){n(p(e),tt(t))})),i}function Hi(t){var e;return function(i){if(e||(e=Bi(t)),i){var n=e[p(i)];return void 0===n&&(n=null),n}return e}}function Gi(t,e,i,n){return W(n)?n(t,e,i):(k(n,(function(n){t=n(t,e,i)})),t)}function Wi(t){return 200<=t&&t<300}function Qi(){var t=this.defaults={transformResponse:[Vi],transformRequest:[function(t){return!D(t)||(e=t,"[object File]"===v.call(e))||function(t){return"[object Blob]"===v.call(t)}(t)||function(t){return"[object FormData]"===v.call(t)}(t)?t:mt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Gt(qi),put:Gt(qi),patch:Gt(qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return N(t)?(e=!!t,this):e};var i=this.interceptors=[],n=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(t){this.xsrfTrustedOrigins=t}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,a,o,l,c,d,u,h){var m=l("$http");t.paramSerializer=z(t.paramSerializer)?u.get(t.paramSerializer):t.paramSerializer;var f=[];k(i,(function(t){f.unshift(z(t)?u.get(t):u.invoke(t))}));var v,b=(v=[pr].concat(n.map(hr)),function(t){var e=hr(t);return v.some(mr.bind(null,e))});function $(i){if(!D(i))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",i);if(!z(h.valueOf(i.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",i.url);var n=I({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},i);n.headers=function(e){var i,n,r,s=t.headers,a=I({},e.headers);s=I({},s.common,s[p(e.method)]);t:for(i in s){for(r in n=p(i),a)if(p(r)===n)continue t;a[i]=s[i]}return function(t,e){var i,n={};return k(t,(function(t,r){W(t)?null!=(i=t(e))&&(n[r]=i):n[r]=t})),n}(a,Gt(e))}(i),n.method=g(n.method),n.paramSerializer=z(n.paramSerializer)?u.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount("$http");var l=[],v=[],y=d.resolve(n);return k(f,(function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&v.push(t.response,t.responseError)})),y=(y=w(y,l)).then((function(i){var n=i.headers,r=Gi(i.data,Hi(n),void 0,i.transformRequest);return M(r)&&k(n,(function(t,e){"content-type"===p(e)&&delete n[e]})),M(i.withCredentials)&&!M(t.withCredentials)&&(i.withCredentials=t.withCredentials),function(i,n){var r,s,l=d.defer(),u=l.promise,g=i.headers,f="jsonp"===p(i.method),v=i.url;if(f?v=h.getTrustedResourceUrl(v):z(v)||(v=h.valueOf(v)),v=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(v,i.paramSerializer(i.params)),f&&(v=function(t,e){var i=t.split("?");if(i.length>2)throw Ni("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return k(kt(i[1]),(function(i,n){if("JSON_CALLBACK"===i)throw Ni("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(n===e)throw Ni("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)})),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(v,i.jsonpCallbackParam)),$.pendingRequests.push(i),u.then(S,S),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(r=D(i.cache)?i.cache:D(t.cache)?t.cache:m),r&&(N(s=r.get(v))?Z(s)?s.then(C,C):H(s)?_(s[1],s[0],Gt(s[2]),s[3],s[4]):_(s,200,{},"OK","complete"):r.put(v,u)),M(s)){var y=b(i.url)?o()[i.xsrfCookieName||t.xsrfCookieName]:void 0;y&&(g[i.xsrfHeaderName||t.xsrfHeaderName]=y),a(i.method,v,n,(function(t,i,n,s,a){function o(){_(i,t,n,s,a)}r&&(Wi(t)?r.put(v,[t,i,Bi(n),s,a]):r.remove(v)),e?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}),g,i.timeout,i.withCredentials,i.responseType,w(i.eventHandlers),w(i.uploadEventHandlers))}return u;function w(t){if(t){var i={};return k(t,(function(t,n){i[n]=function(i){function n(){t(i)}e?c.$applyAsync(n):c.$$phase?n():c.$apply(n)}})),i}}function _(t,e,n,r,s){(Wi(e=e>=-1?e:0)?l.resolve:l.reject)({data:t,status:e,headers:Hi(n),config:i,statusText:r,xhrStatus:s})}function C(t){_(t.data,t.status,Gt(t.headers()),t.statusText,t.xhrStatus)}function S(){var t=$.pendingRequests.indexOf(i);-1!==t&&$.pendingRequests.splice(t,1)}}(i,r).then(_,_)})),(y=w(y,v)).finally((function(){s.$$completeOutstandingRequest(U,"$http")}));function w(t,e){for(var i=0,n=e.length;i<n;){var r=e[i++],s=e[i++];t=t.then(r,s)}return e.length=0,t}function _(t){var e=I({},t);return e.data=Gi(t.data,t.headers,t.status,n.transformResponse),Wi(t.status)?e:d.reject(e)}}return $.pendingRequests=[],function(t){k(arguments,(function(t){$[t]=function(e,i){return $(I({},i||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){k(arguments,(function(t){$[t]=function(e,i,n){return $(I({},n||{},{method:t,url:e,data:i}))}}))}("post","put","patch"),$.defaults=t,$}]}function Ki(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Yi(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,i,n){return function(t,e,i,n,r){return function(s,a,o,l,c,d,u,g,h,m){if(a=a||t.url(),"jsonp"===p(s))var f=n.createCallback(a),v=function(t,e,i){t=t.replace("JSON_CALLBACK",e);var s=r.createElement("script"),a=null;return s.type="text/javascript",s.src=t,s.async=!0,a=function(t){s.removeEventListener("load",a),s.removeEventListener("error",a),r.body.removeChild(s),s=null;var o=-1,l="unknown";t&&("load"!==t.type||n.wasCalled(e)||(t={type:"error"}),l=t.type,o="error"===t.type?404:200),i&&i(o,l)},s.addEventListener("load",a),s.addEventListener("error",a),r.body.appendChild(s),a}(a,f,(function(t,e){var i=200===t&&n.getResponse(f);_(l,t,i,"",e,"complete"),n.removeCallback(f)}));else{var b=e(s,a),$=!1;b.open(s,a,!0),k(c,(function(t,e){N(t)&&b.setRequestHeader(e,t)})),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,i=1223===b.status?204:b.status;0===i&&(i=e?200:"file"===hr(a).protocol?404:0),_(l,i,e,b.getAllResponseHeaders(),t,"complete")};if(b.onerror=function(){_(l,-1,null,null,"","error")},b.ontimeout=function(){_(l,-1,null,null,"","timeout")},b.onabort=function(){_(l,-1,null,null,"",$?"timeout":"abort")},k(h,(function(t,e){b.addEventListener(e,t)})),k(m,(function(t,e){b.upload.addEventListener(e,t)})),u&&(b.withCredentials=!0),g)try{b.responseType=g}catch(t){if("json"!==g)throw t}b.send(M(o)?null:o)}if(d>0)var y=i((function(){w("timeout")}),d);else Z(d)&&d.then((function(){w(N(d.$$timeoutId)?"timeout":"abort")}));function w(t){$="timeout"===t,v&&v(),b&&b.abort()}function _(t,e,n,r,s,a){N(y)&&i.cancel(y),v=b=null,t(e,n,r,s,a)}}}(t,n,t.defer,e,i[0])}]}var Ji=y.$interpolateMinErr=r("$interpolate");function Zi(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,r){var s=t.length,a=e.length,o=new RegExp(t.replace(/./g,c),"g"),l=new RegExp(e.replace(/./g,c),"g");function c(t){return"\\\\\\"+t}function d(i){return i.replace(o,t).replace(l,e)}function u(t,e,i,n){var r=t.$watch((function(t){return r(),n(t)}),e,i);return r}function p(o,l,c,p){var g=c===r.URL||c===r.MEDIA_URL;if(!o.length||-1===o.indexOf(t)){if(l)return;var h=d(o);g&&(h=r.getTrusted(c,h));var m=R(h);return m.exp=o,m.expressions=[],m.$$watchDelegate=u,m}p=!!p;for(var f,v,b,$,y,w=0,_=[],k=o.length,C=[],S=[];w<k;){if(-1===(f=o.indexOf(t,w))||-1===(v=o.indexOf(e,f+s))){w!==k&&C.push(d(o.substring(w)));break}w!==f&&C.push(d(o.substring(w,f))),$=o.substring(f+s,v),_.push($),w=v+a,S.push(C.length),C.push("")}y=1===C.length&&1===S.length;var x=g&&y?void 0:function(t){try{return t=c&&!g?r.getTrusted(c,t):r.valueOf(t),p&&!N(t)?t:Dt(t)}catch(t){n(Ji.interr(o,t))}};if(b=_.map((function(t){return i(t,x)})),!l||_.length){var A=function(t){for(var e=0,i=_.length;e<i;e++){if(p&&M(t[e]))return;C[S[e]]=t[e]}return g?r.getTrusted(c,y?C[0]:C.join("")):(c&&C.length>1&&Ji.throwNoconcat(o),C.join(""))};return I((function(t){var e=0,i=_.length,r=new Array(i);try{for(;e<i;e++)r[e]=b[e](t);return A(r)}catch(t){n(Ji.interr(o,t))}}),{exp:o,expressions:_,$$watchDelegate:function(t,e){var i;return t.$watchGroup(b,(function(n,r){var s=A(n);e.call(this,s,n!==r?i:s,t),i=s}))}})}}return p.startSymbol=function(){return t},p.endSymbol=function(){return e},p}]}Ji.throwNoconcat=function(t){throw Ji("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Ji.interr=function(t,e){return Ji("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Xi=r("$interval");function tn(){this.$get=["$$intervalFactory","$window",function(t,e){var i={},n=function(t){e.clearInterval(t),delete i[t]},r=t((function(t,n,r){var s=e.setInterval(t,n);return i[s]=r,s}),n);return r.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Xi("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!i.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,r=i[e];return Hn(r.promise),r.reject("canceled"),n(e),!0},r}]}function en(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,i,n){return function(r,s){return function(a,o,l,c){var d=arguments.length>4,u=d?pt(arguments,4):[],p=0,g=N(c)&&!c,h=(g?i:e).defer(),m=h.promise;function f(){d?a.apply(null,u):a(p)}return l=N(l)?l:0,m.$$intervalId=r((function(){g?t.defer(f):n.$evalAsync(f),h.notify(p++),l>0&&p>=l&&(h.resolve(p),s(m.$$intervalId)),g||n.$apply()}),o,h,g),m}}}]}var nn=function(){this.$get=function(){var t=y.callbacks,e={};return{createCallback:function(i){var n="_"+(t.$$counter++).toString(36),r="angular.callbacks."+n,s=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(n);return e[r]=t[n]=s,r},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(i){var n=e[i];delete t[n.id],delete e[i]}}}},rn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,sn={http:80,https:443,ftp:21},an=r("$location");function on(t,e){var i=hr(t);e.$$protocol=i.protocol,e.$$host=i.hostname,e.$$port=E(i.port)||sn[i.protocol]||null}var ln=/^\s*[\\/]{2,}/;function cn(t,e,i){if(ln.test(t))throw an("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=hr(t),s=n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname;e.$$path=function(t,e){for(var i=t.split("/"),n=i.length;n--;)i[n]=decodeURIComponent(i[n]),e&&(i[n]=i[n].replace(/\//g,"%2F"));return i.join("/")}(s,i),e.$$search=kt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function dn(t,e){return t.slice(0,e.length)===e}function un(t,e){if(dn(e,t))return e.substr(t.length)}function pn(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function gn(t,e,i){this.$$html5=!0,i=i||"",on(t,this),this.$$parse=function(t){var i=un(e,t);if(!z(i))throw an("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);cn(i,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(n,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(N(s=un(t,n))?(a=s,o=i&&N(s=un(i,s))?e+(un("/",s)||s):t+a):N(s=un(e,n))?o=e+s:e===n+"/"&&(o=e),o&&this.$$parse(o),!!o);var s,a,o}}function hn(t,e,i){on(t,this),this.$$parse=function(n){var r,s=un(t,n)||un(e,n);M(s)||"#"!==s.charAt(0)?this.$$html5?r=s:(r="",M(s)&&(t=n,this.replace())):M(r=un(i,s))&&(r=s),cn(r,this,!1),this.$$path=function(t,e,i){var n,r=/^\/[A-Z]:(\/.*)/;return dn(e,i)&&(e=e.replace(i,"")),r.exec(e)?t:(n=r.exec(t))?n[1]:t}(this.$$path,r,t),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?i+e:"")},this.$$parseLinkUrl=function(e,i){return pn(t)===pn(e)&&(this.$$parse(e),!0)}}function mn(t,e,i){this.$$html5=!0,hn.apply(this,arguments),this.$$parseLinkUrl=function(n,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(t===pn(n)?s=n:(a=un(e,n))?s=t+i+a:e===n+"/"&&(s=e),s&&this.$$parse(s),!!s);var s,a},this.$$normalizeUrl=function(e){return t+i+e}}var fn={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){var t,e,i,n,r,s;this.$$url=(t=this.$$path,e=this.$$search,i=this.$$hash,n=[],k(e,(function(t,e){H(t)?k(t,(function(t){n.push(St(e,!0)+(!0===t?"":"="+St(t,!0)))})):n.push(St(e,!0)+(!0===t?"":"="+St(t,!0)))})),r=n.length?n.join("&"):"",s=i?"#"+Ct(i):"",function(t){for(var e=t.split("/"),i=e.length;i--;)e[i]=Ct(e[i].replace(/%2F/g,"/"));return e.join("/")}(t)+(r?"?"+r:"")+s),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:vn("$$absUrl"),url:function(t){if(M(t))return this.$$url;var e=rn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:vn("$$protocol"),host:vn("$$host"),port:vn("$$port"),path:bn("$$path",(function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(z(t)||V(t))t=t.toString(),this.$$search=kt(t);else{if(!D(t))throw an("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");k(t=at(t,{}),(function(e,i){null==e&&delete t[i]})),this.$$search=t}break;default:M(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:bn("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function vn(t){return function(){return this[t]}}function bn(t,e){return function(i){return M(i)?this[t]:(this[t]=e(i),this.$$compose(),this)}}function $n(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return N(e)?(t=e,this):t},this.html5Mode=function(t){return J(t)?(e.enabled=t,this):D(t)?(J(t.enabled)&&(e.enabled=t.enabled),J(t.requireBase)&&(e.requireBase=t.requireBase),(J(t.rewriteLinks)||z(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,r,s,o){var l,c,d,u,p=n.baseHref(),g=n.url();if(e.enabled){if(!p&&e.requireBase)throw an("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=(u=g).substring(0,u.indexOf("/",u.indexOf("//")+2))+(p||"/"),c=r.history?gn:mn}else d=pn(g),c=hn;var h=function(t){return t.substr(0,pn(t).lastIndexOf("/")+1)}(d);(l=new c(d,h,"#"+t)).$$parseLinkUrl(g,g),l.$$state=n.state();var m=/^\s*(javascript|mailto):/i;function f(t,e,i){var r=l.url(),s=l.$$state;try{n.url(t,e,i),l.$$state=n.state()}catch(t){throw l.url(r),l.$$state=s,t}}s.on("click",(function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var o=a(t.target);"a"!==nt(o[0]);)if(o[0]===s[0]||!(o=o.parent())[0])return;if(!z(r)||!M(o.attr(r))){var c=o.prop("href"),d=o.attr("href")||o.attr("xlink:href");D(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=hr(c.animVal).href),m.test(c)||!c||o.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(c,d)&&(t.preventDefault(),l.absUrl()!==n.url()&&i.$apply())}}})),l.absUrl()!==g&&n.url(l.absUrl(),!0);var v=!0;return n.onUrlChange((function(t,e){dn(t,h)?(i.$evalAsync((function(){var n,r=l.absUrl(),s=l.$$state;l.$$parse(t),l.$$state=e,n=i.$broadcast("$locationChangeStart",t,r,e,s).defaultPrevented,l.absUrl()===t&&(n?(l.$$parse(r),l.$$state=s,f(r,!1,s)):(v=!1,b(r,s)))})),i.$$phase||i.$digest()):o.location.href=t})),i.$watch((function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=n.url(),e=l.absUrl(),s=n.state(),a=l.$$replace,o=!((c=t)===(d=e)||hr(c).href===hr(d).href)||l.$$html5&&r.history&&s!==l.$$state;(v||o)&&(v=!1,i.$evalAsync((function(){var e=l.absUrl(),n=i.$broadcast("$locationChangeStart",e,t,l.$$state,s).defaultPrevented;l.absUrl()===e&&(n?(l.$$parse(t),l.$$state=s):(o&&f(e,a,s===l.$$state?null:l.$$state),b(t,s)))})))}var c,d;l.$$replace=!1})),l;function b(t,e){i.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function yn(){var t=!0,e=this;this.debugEnabled=function(e){return N(e)?(t=e,this):t},this.$get=["$window",function(i){var n,r=s||/\bEdge\//.test(i.navigator&&i.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:(n=a("debug"),function(){t&&n.apply(e,arguments)})};function a(t){var e=i.console||{},n=e[t]||e.log||U;return function(){var t=[];return k(arguments,(function(e){t.push(function(t){return G(t)&&(t.stack&&r?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))})),Function.prototype.apply.call(n,e,t)}}}]}k([mn,hn,gn],(function(t){t.prototype=Object.create(fn),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==gn||!this.$$html5)throw an("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=M(e)?null:e,this.$$urlUpdatedByLocation=!0,this}}));var wn=r("$parse"),kn={}.constructor.prototype.valueOf;function Cn(t){return t+""}var Sn=Nt();k("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){Sn[t]=!0}));var xn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},An=function(t){this.options=t};An.prototype={constructor:An,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var i=e+this.peek(),n=i+this.peek(2),r=Sn[e],s=Sn[i],a=Sn[n];if(r||s||a){var o=a?n:s?i:e;this.tokens.push({index:this.index,text:o,operator:!0}),this.index+=o.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var i=t.charCodeAt(0),n=e.charCodeAt(0);return i>=55296&&i<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,i){i=i||this.index;var n=N(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,i)+"]":" "+i;throw wn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var i=p(this.text.charAt(this.index));if("."===i||this.isNumber(i))t+=i;else{var n=this.peek();if("e"===i&&this.isExpOperator(n))t+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"===t.charAt(t.length-1))t+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var i="",n=t,r=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(n+=s,r){if("u"===s){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,i+=String.fromCharCode(parseInt(a,16))}else i+=xn[s]||s;r=!1}else if("\\"===s)r=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:n,constant:!0,value:i});i+=s}this.index++}this.throwError("Unterminated quote",e)}};var Pn=function(t,e){this.lexer=t,this.options=e};function In(t,e){return void 0!==t?t:e}function On(t,e){return void 0===t?e:void 0===e?t:t+e}Pn.Program="Program",Pn.ExpressionStatement="ExpressionStatement",Pn.AssignmentExpression="AssignmentExpression",Pn.ConditionalExpression="ConditionalExpression",Pn.LogicalExpression="LogicalExpression",Pn.BinaryExpression="BinaryExpression",Pn.UnaryExpression="UnaryExpression",Pn.CallExpression="CallExpression",Pn.MemberExpression="MemberExpression",Pn.Identifier="Identifier",Pn.Literal="Literal",Pn.ArrayExpression="ArrayExpression",Pn.Property="Property",Pn.ObjectExpression="ObjectExpression",Pn.ThisExpression="ThisExpression",Pn.LocalsExpression="LocalsExpression",Pn.NGValueParameter="NGValueParameter",Pn.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Pn.Program,body:t}},expressionStatement:function(){return{type:Pn.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Ln(t))throw wn("lval","Trying to assign a value to a non l-value");t={type:Pn.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,i=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Pn.ConditionalExpression,test:i,alternate:t,consequent:e}):i},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Pn.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Pn.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Pn.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Pn.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Pn.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Pn.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Pn.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=at(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Pn.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Pn.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Pn.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Pn.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],i={type:Pn.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return i},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Pn.Identifier,name:t.text}},constant:function(){return{type:Pn.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Pn.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Pn.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Pn.ObjectExpression,properties:e}},throwError:function(t,e){throw wn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw wn("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw wn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,i,n){return this.peekAhead(0,t,e,i,n)},peekAhead:function(t,e,i,n,r){if(this.tokens.length>t){var s=this.tokens[t],a=s.text;if(a===e||a===i||a===n||a===r||!e&&!i&&!n&&!r)return s}return!1},expect:function(t,e,i,n){var r=this.peek(t,e,i,n);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Pn.ThisExpression},$locals:{type:Pn.LocalsExpression}}};function En(t,e,i){var n,r,s,a=t.isPure=function(t,e){switch(t.type){case Pn.MemberExpression:if(t.computed)return!1;break;case Pn.UnaryExpression:return 1;case Pn.BinaryExpression:return"+"!==t.operator&&1;case Pn.CallExpression:return!1}return void 0===e?2:e}(t,i);switch(t.type){case Pn.Program:n=!0,k(t.body,(function(t){En(t.expression,e,a),n=n&&t.expression.constant})),t.constant=n;break;case Pn.Literal:t.constant=!0,t.toWatch=[];break;case Pn.UnaryExpression:En(t.argument,e,a),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Pn.BinaryExpression:En(t.left,e,a),En(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Pn.LogicalExpression:En(t.left,e,a),En(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Pn.ConditionalExpression:En(t.test,e,a),En(t.alternate,e,a),En(t.consequent,e,a),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Pn.Identifier:t.constant=!1,t.toWatch=[t];break;case Pn.MemberExpression:En(t.object,e,a),t.computed&&En(t.property,e,a),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Pn.CallExpression:s=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),n=s,r=[],k(t.arguments,(function(t){En(t,e,a),n=n&&t.constant,r.push.apply(r,t.toWatch)})),t.constant=n,t.toWatch=s?r:[t];break;case Pn.AssignmentExpression:En(t.left,e,a),En(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Pn.ArrayExpression:n=!0,r=[],k(t.elements,(function(t){En(t,e,a),n=n&&t.constant,r.push.apply(r,t.toWatch)})),t.constant=n,t.toWatch=r;break;case Pn.ObjectExpression:n=!0,r=[],k(t.properties,(function(t){En(t.value,e,a),n=n&&t.value.constant,r.push.apply(r,t.value.toWatch),t.computed&&(En(t.key,e,!1),n=n&&t.key.constant,r.push.apply(r,t.key.toWatch))})),t.constant=n,t.toWatch=r;break;case Pn.ThisExpression:case Pn.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Tn(t){if(1===t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length||i[0]!==e?i:void 0}}function Ln(t){return t.type===Pn.Identifier||t.type===Pn.MemberExpression}function Un(t){if(1===t.body.length&&Ln(t.body[0].expression))return{type:Pn.AssignmentExpression,left:t.body[0].expression,right:{type:Pn.NGValueParameter},operator:"="}}function qn(t){this.$filter=t}function Rn(t){this.$filter=t}function Fn(t,e,i){this.ast=new Pn(t,i),this.astCompiler=i.csp?new Rn(e):new qn(e)}function Mn(t){return W(t.valueOf)?t.valueOf():kn.call(t)}function Nn(){var t,e,i=Nt(),n={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){n[t]=e},this.setIdentifierFns=function(i,n){return t=i,e=n,this},this.$get=["$filter",function(r){var s={csp:ct().noUnsafeEval,literals:at(n),isIdentifierStart:W(t)&&t,isIdentifierContinue:W(e)&&e};return a.$$getAst=function(t){return new Fn(new An(s),r,s).getAst(t).ast},a;function a(t,e){var n,a;switch(typeof t){case"string":return t=t.trim(),(n=i[a=t])||(n=new Fn(new An(s),r,s).parse(t),i[a]=p(n)),g(n,e);case"function":return g(t,e);default:return g(U,e)}}function o(t,e,i){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Mn(t))&&!i)&&(t===e||t!=t&&e!=e)}function l(t,e,i,n,r){var s,a=n.inputs;if(1===a.length){var l=o;return a=a[0],t.$watch((function(t){var e=a(t);return o(e,l,a.isPure)||(s=n(t,void 0,void 0,[e]),l=e&&Mn(e)),s}),e,i,r)}for(var c=[],d=[],u=0,p=a.length;u<p;u++)c[u]=o,d[u]=null;return t.$watch((function(t){for(var e=!1,i=0,r=a.length;i<r;i++){var l=a[i](t);(e||(e=!o(l,c[i],a[i].isPure)))&&(d[i]=l,c[i]=l&&Mn(l))}return e&&(s=n(t,void 0,void 0,d)),s}),e,i,r)}function c(t,e,i,n,r){var s,a,o=n.literal?d:N,l=n.$$intercepted||n,c=n.$$interceptor||q,u=n.inputs&&!l.inputs;return h.literal=n.literal,h.constant=n.constant,h.inputs=n.inputs,p(h),s=t.$watch(h,e,i,r);function g(){o(a)&&s()}function h(t,e,i,n){return a=u&&n?n[0]:l(t,e,i,n),o(a)&&t.$$postDigest(g),c(a)}}function d(t){var e=!0;return k(t,(function(t){N(t)||(e=!1)})),e}function u(t,e,i,n){var r=t.$watch((function(t){return r(),n(t)}),e,i);return r}function p(t){return t.constant?t.$$watchDelegate=u:t.oneTime?t.$$watchDelegate=c:t.inputs&&(t.$$watchDelegate=l),t}function g(t,e){if(!e)return t;t.$$interceptor&&(e=function(t,e){function i(i){return e(t(i))}return i.$stateful=t.$stateful||e.$stateful,i.$$pure=t.$$pure&&e.$$pure,i}(t.$$interceptor,e),t=t.$$intercepted);var i=!1,n=function(n,r,s,a){var o=i&&a?a[0]:t(n,r,s,a);return e(o)};return n.$$intercepted=t,n.$$interceptor=e,n.literal=t.literal,n.oneTime=t.oneTime,n.constant=t.constant,e.$stateful||(i=!t.inputs,n.inputs=t.inputs?t.inputs:[t],e.$$pure||(n.inputs=n.inputs.map((function(t){return 2===t.isPure?function(e){return t(e)}:t})))),p(n)}}]}function Dn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,i){return zn((function(t){e.$evalAsync(t)}),i,t)}],this.errorOnUnhandledRejections=function(e){return N(e)?(t=e,this):t}}function jn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,i){return zn((function(t){e.defer(t)}),i,t)}],this.errorOnUnhandledRejections=function(e){return N(e)?(t=e,this):t}}function zn(t,e,i){var n=r("$q",TypeError),s=0,a=[];function o(){return new l}function l(){var t=this.promise=new c;this.resolve=function(e){p(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){f(t,e)}}function c(){this.$$state={status:0}}function d(){for(;!s&&a.length;){var t=a.shift();if(!Vn(t)){Bn(t);var i="Possibly unhandled rejection: "+Wt(t.value);G(t.value)?e(t.value,i):e(i)}}}function u(n){!i||n.pending||2!==n.status||Vn(n)||(0===s&&0===a.length&&t(d),a.push(n)),!n.processScheduled&&n.pending&&(n.processScheduled=!0,++s,t((function(){!function(n){var r,a,o;o=n.pending,n.processScheduled=!1,n.pending=void 0;try{for(var l=0,c=o.length;l<c;++l){Bn(n),a=o[l][0],r=o[l][n.status];try{W(r)?p(a,r(n.value)):1===n.status?p(a,n.value):h(a,n.value)}catch(t){h(a,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--s,i&&0===s&&t(d)}}(n)})))}function p(t,e){t.$$state.status||(e===t?m(t,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):g(t,e))}function g(t,e){var i,n=!1;try{(D(e)||W(e))&&(i=e.then),W(i)?(t.$$state.status=-1,i.call(e,(function(e){n||(n=!0,g(t,e))}),r,(function(e){f(t,e)}))):(t.$$state.value=e,t.$$state.status=1,u(t.$$state))}catch(t){r(t)}function r(e){n||(n=!0,m(t,e))}}function h(t,e){t.$$state.status||m(t,e)}function m(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function f(i,n){var r=i.$$state.pending;i.$$state.status<=0&&r&&r.length&&t((function(){for(var t,i,s=0,a=r.length;s<a;s++){i=r[s][0],t=r[s][3];try{f(i,W(t)?t(n):n)}catch(t){e(t)}}}))}function v(t){var e=new c;return h(e,t),e}function b(t,e,i){var n=null;try{W(i)&&(n=i())}catch(t){return v(t)}return Z(n)?n.then((function(){return e(t)}),v):e(t)}function $(t,e,i,n){var r=new c;return p(r,t),r.then(e,i,n)}I(c.prototype,{then:function(t,e,i){if(M(t)&&M(e)&&M(i))return this;var n=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,t,e,i]),this.$$state.status>0&&u(this.$$state),n},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return b(e,y,t)}),(function(e){return b(e,v,t)}),e)}});var y=$;function w(t){if(!W(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);var e=new c;return t((function(t){p(e,t)}),(function(t){h(e,t)})),e}return w.prototype=c.prototype,w.defer=o,w.reject=v,w.when=$,w.resolve=y,w.all=function(t){var e=new c,i=0,n=H(t)?[]:{};return k(t,(function(t,r){i++,$(t).then((function(t){n[r]=t,--i||p(e,n)}),(function(t){h(e,t)}))})),0===i&&p(e,n),e},w.race=function(t){var e=o();return k(t,(function(t){$(t).then(e.resolve,e.reject)})),e.promise},w}function Vn(t){return!!t.pur}function Bn(t){t.pur=!0}function Hn(t){t.$$state&&Bn(t.$$state)}function Gn(){this.$get=["$window","$timeout",function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!i,s=r?function(t){var e=i(t);return function(){n(e)}}:function(t){var i=e(t,16.66,!1);return function(){e.cancel(i)}};return s.supported=r,s}]}function Wn(){var t=10,e=r("$rootScope"),i=null,n=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(r,a,o){function l(t){t.currentScope.$$destroyed=!0}function c(t){9===s&&(t.$$childHead&&c(t.$$childHead),t.$$nextSibling&&c(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function d(){this.$id=x(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}d.prototype={constructor:d,$new:function(t,e){var i;return e=e||this,t?(i=new d).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=x(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}(this)),i=new this.$$ChildScope),i.$parent=e,i.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=i,e.$$childTail=i):e.$$childHead=e.$$childTail=i,(t||e!==this)&&i.$on("$destroy",l),i},$watch:function(t,e,n,r){var s=a(t),o=W(e)?e:U;if(s.$$watchDelegate)return s.$$watchDelegate(this,o,n,s,t);var l=this,c=l.$$watchers,d={fn:o,last:w,get:s,exp:r||t,eq:!!n};return i=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(d),c.$$digestWatchIndex++,$(this,1),function(){var t=st(c,d);t>=0&&($(l,-1),t<c.$$digestWatchIndex&&c.$$digestWatchIndex--),i=null}},$watchGroup:function(t,e){var i=new Array(t.length),n=new Array(t.length),r=[],s=this,a=!1,o=!0;if(!t.length){var l=!0;return s.$evalAsync((function(){l&&e(n,n,s)})),function(){l=!1}}if(1===t.length)return this.$watch(t[0],(function(t,r,s){n[0]=t,i[0]=r,e(n,t===r?n:i,s)}));function c(){a=!1;try{o?(o=!1,e(n,n,s)):e(n,i,s)}finally{for(var r=0;r<t.length;r++)i[r]=n[r]}}return k(t,(function(t,e){var i=s.$watch(t,(function(t){n[e]=t,a||(a=!0,s.$evalAsync(c))}));r.push(i)})),function(){for(;r.length;)r.shift()()}},$watchCollection:function(t,e){m.$$pure=a(t).literal,m.$stateful=!m.$$pure;var i,n,r,s=this,o=e.length>1,l=0,c=a(t,m),d=[],p={},g=!0,h=0;function m(t){var e,r,s,a;if(!M(i=t)){if(D(i))if(_(i)){n!==d&&(h=(n=d).length=0,l++),e=i.length,h!==e&&(l++,n.length=h=e);for(var o=0;o<e;o++)a=n[o],s=i[o],a!=a&&s!=s||a===s||(l++,n[o]=s)}else{for(r in n!==p&&(n=p={},h=0,l++),e=0,i)u.call(i,r)&&(e++,s=i[r],a=n[r],r in n?a!=a&&s!=s||a===s||(l++,n[r]=s):(h++,n[r]=s,l++));if(h>e)for(r in l++,n)u.call(i,r)||(h--,delete n[r])}else n!==i&&(n=i,l++);return l}}return this.$watch(c,(function(){if(g?(g=!1,e(i,i,s)):e(i,r,s),o)if(D(i))if(_(i)){r=new Array(i.length);for(var t=0;t<i.length;t++)r[t]=i[t]}else for(var n in r={},i)u.call(i,n)&&(r[n]=i[n]);else r=i}))},$digest:function(){var s,a,l,c,d,u,m,$,y,_=t,k=g.length?p:this,S=[];v("$digest"),o.$$checkUrlChange(),this===p&&null!==n&&(o.defer.cancel(n),C()),i=null;do{d=!1,m=k;for(var x=0;x<g.length;x++){try{(0,(y=g[x]).fn)(y.scope,y.locals)}catch(t){r(t)}i=null}g.length=0;t:do{if(c=!m.$$suspended&&m.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(s=c[c.$$digestWatchIndex])if((a=(0,s.get)(m))===(l=s.last)||(s.eq?lt(a,l):T(a)&&T(l))){if(s===i){d=!1;break t}}else d=!0,i=s,s.last=s.eq?at(a,null):a,(0,s.fn)(a,l===w?a:l,m),_<5&&(S[$=4-_]||(S[$]=[]),S[$].push({msg:W(s.exp)?"fn: "+(s.exp.name||s.exp.toString()):s.exp,newVal:a,oldVal:l}))}catch(t){r(t)}if(!(u=!m.$$suspended&&m.$$watchersCount&&m.$$childHead||m!==k&&m.$$nextSibling))for(;m!==k&&!(u=m.$$nextSibling);)m=m.$parent}while(m=u);if((d||g.length)&&!_--)throw b(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,S)}while(d||g.length);for(b();f<h.length;)try{h[f++]()}catch(t){r(t)}h.length=f=0,o.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&o.$$applicationDestroyed(),$(this,-this.$$watchersCount),this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=U,this.$on=this.$watch=this.$watchGroup=function(){return U},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t,e){p.$$phase||g.length||o.defer((function(){g.length&&p.$digest()}),null,"$evalAsync"),g.push({scope:this,fn:a(t),locals:e})},$$postDigest:function(t){h.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{b()}}catch(t){r(t)}finally{try{p.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(t){var e=this;t&&m.push((function(){e.$eval(t)})),t=a(t),null===n&&(n=o.defer((function(){p.$apply(C)}),null,"$applyAsync"))},$on:function(t,e){var i=this.$$listeners[t];i||(this.$$listeners[t]=i=[]),i.push(e);var n=this;do{n.$$listenerCount[t]||(n.$$listenerCount[t]=0),n.$$listenerCount[t]++}while(n=n.$parent);var r=this;return function(){var n=i.indexOf(e);-1!==n&&(delete i[n],y(r,1,t))}},$emit:function(t,e){var i,n,s,a=[],o=this,l=!1,c={name:t,targetScope:o,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=ut([c],arguments,1);do{for(i=o.$$listeners[t]||a,c.currentScope=o,n=0,s=i.length;n<s;n++)if(i[n])try{i[n].apply(null,d)}catch(t){r(t)}else i.splice(n,1),n--,s--;if(l)break;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(t,e){var i=this,n=i,s=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var o,l,c,d=ut([a],arguments,1);n=s;){for(a.currentScope=n,l=0,c=(o=n.$$listeners[t]||[]).length;l<c;l++)if(o[l])try{o[l].apply(null,d)}catch(t){r(t)}else o.splice(l,1),l--,c--;if(!(s=n.$$listenerCount[t]&&n.$$childHead||n!==i&&n.$$nextSibling))for(;n!==i&&!(s=n.$$nextSibling);)n=n.$parent}return a.currentScope=null,a}};var p=new d,g=p.$$asyncQueue=[],h=p.$$postDigestQueue=[],m=p.$$applyAsyncQueue=[],f=0;return p;function v(t){if(p.$$phase)throw e("inprog","{0} already in progress",p.$$phase);p.$$phase=t}function b(){p.$$phase=null}function $(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function y(t,e,i){do{t.$$listenerCount[i]-=e,0===t.$$listenerCount[i]&&delete t.$$listenerCount[i]}while(t=t.$parent)}function w(){}function C(){for(;m.length;)try{m.shift()()}catch(t){r(t)}n=null}}]}function Qn(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(e){return N(e)?(t=e,this):t},this.imgSrcSanitizationTrustedUrlList=function(t){return N(t)?(e=t,this):e},this.$get=function(){return function(i,n){var r=n?e:t,s=hr(i&&i.trim()).href;return""===s||s.match(r)?i:"unsafe:"+s}}}qn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},En(t,e.$filter);var i,n="";if(this.stage="assign",i=Un(t)){this.state.computing="assign";var r=this.nextId();this.recurse(i,r),this.return_(r),n="fn.assign="+this.generateFunction("assign","s,v,l")}var s=Tn(t.body);e.stage="inputs",k(s,(function(t,i){var n="fn"+i;e.state[n]={vars:[],body:[],own:{}},e.state.computing=n;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push({name:n,isPure:t.isPure}),t.watchId=i})),this.state.computing="fn",this.stage="main",this.recurse(t);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",o=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,Cn,In,On);return this.state=this.stage=void 0,o},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,i=this;return k(e,(function(e){t.push("var "+e.name+"="+i.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")})),e.length&&t.push("fn.inputs=["+e.map((function(t){return t.name})).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return k(this.state.filters,(function(i,n){t.push(i+"=$filter("+e.escape(n)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,n,r,s){var a,o,l,c,d,u=this;if(n=n||U,!s&&N(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,n,r,!0));switch(t.type){case Pn.Program:k(t.body,(function(e,i){u.recurse(e.expression,void 0,void 0,(function(t){o=t})),i!==t.body.length-1?u.current().body.push(o,";"):u.return_(o)}));break;case Pn.Literal:c=this.escape(t.value),this.assign(e,c),n(e||c);break;case Pn.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){o=t})),c=t.operator+"("+this.ifDefined(o,0)+")",this.assign(e,c),n(c);break;case Pn.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){a=t})),this.recurse(t.right,void 0,void 0,(function(t){o=t})),c="+"===t.operator?this.plus(a,o):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(o,0):"("+a+")"+t.operator+"("+o+")",this.assign(e,c),n(c);break;case Pn.LogicalExpression:e=e||this.nextId(),u.recurse(t.left,e),u.if_("&&"===t.operator?e:u.not(e),u.lazyRecurse(t.right,e)),n(e);break;case Pn.ConditionalExpression:e=e||this.nextId(),u.recurse(t.test,e),u.if_(e,u.lazyRecurse(t.alternate,e),u.lazyRecurse(t.consequent,e)),n(e);break;case Pn.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",t.name)),(function(){u.if_("inputs"===u.stage||"s",(function(){r&&1!==r&&u.if_(u.isNull(u.nonComputedMember("s",t.name)),u.lazyAssign(u.nonComputedMember("s",t.name),"{}")),u.assign(e,u.nonComputedMember("s",t.name))}))}),e&&u.lazyAssign(e,u.nonComputedMember("l",t.name))),n(e);break;case Pn.MemberExpression:a=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),u.recurse(t.object,a,void 0,(function(){u.if_(u.notNull(a),(function(){t.computed?(o=u.nextId(),u.recurse(t.property,o),u.getStringValue(o),r&&1!==r&&u.if_(u.not(u.computedMember(a,o)),u.lazyAssign(u.computedMember(a,o),"{}")),c=u.computedMember(a,o),u.assign(e,c),i&&(i.computed=!0,i.name=o)):(r&&1!==r&&u.if_(u.isNull(u.nonComputedMember(a,t.property.name)),u.lazyAssign(u.nonComputedMember(a,t.property.name),"{}")),c=u.nonComputedMember(a,t.property.name),u.assign(e,c),i&&(i.computed=!1,i.name=t.property.name))}),(function(){u.assign(e,"undefined")})),n(e)}),!!r);break;case Pn.CallExpression:e=e||this.nextId(),t.filter?(o=u.filter(t.callee.name),l=[],k(t.arguments,(function(t){var e=u.nextId();u.recurse(t,e),l.push(e)})),c=o+"("+l.join(",")+")",u.assign(e,c),n(e)):(o=u.nextId(),a={},l=[],u.recurse(t.callee,o,a,(function(){u.if_(u.notNull(o),(function(){k(t.arguments,(function(e){u.recurse(e,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(t)}))})),c=a.name?u.member(a.context,a.name,a.computed)+"("+l.join(",")+")":o+"("+l.join(",")+")",u.assign(e,c)}),(function(){u.assign(e,"undefined")})),n(e)})));break;case Pn.AssignmentExpression:o=this.nextId(),a={},this.recurse(t.left,void 0,a,(function(){u.if_(u.notNull(a.context),(function(){u.recurse(t.right,o),c=u.member(a.context,a.name,a.computed)+t.operator+o,u.assign(e,c),n(e||c)}))}),1);break;case Pn.ArrayExpression:l=[],k(t.elements,(function(e){u.recurse(e,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(t)}))})),c="["+l.join(",")+"]",this.assign(e,c),n(e||c);break;case Pn.ObjectExpression:l=[],d=!1,k(t.properties,(function(t){t.computed&&(d=!0)})),d?(e=e||this.nextId(),this.assign(e,"{}"),k(t.properties,(function(t){t.computed?(a=u.nextId(),u.recurse(t.key,a)):a=t.key.type===Pn.Identifier?t.key.name:""+t.key.value,o=u.nextId(),u.recurse(t.value,o),u.assign(u.member(e,a,t.computed),o)}))):(k(t.properties,(function(e){u.recurse(e.value,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(u.escape(e.key.type===Pn.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),c="{"+l.join(",")+"}",this.assign(e,c)),n(e||c);break;case Pn.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Pn.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Pn.NGValueParameter:this.assign(e,"v"),n(e||"v")}},getHasOwnProperty:function(t,e){var i=t+"."+e,n=this.current().own;return n.hasOwnProperty(i)||(n[i]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[i]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,i){if(!0===t)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),i&&(n.push("else{"),i(),n.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,i){return i?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,i,n,r,s){var a=this;return function(){a.recurse(t,e,i,n,r,s)}},lazyAssign:function(t,e){var i=this;return function(){i.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(z(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(V(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw wn("esc","IMPOSSIBLE")},nextId:function(t,e){var i="v"+this.state.nextId++;return t||this.current().vars.push(i+(e?"="+e:"")),i},current:function(){return this.state[this.state.computing]}},Rn.prototype={compile:function(t){var e,i,n=this;En(t,n.$filter),(e=Un(t))&&(i=this.recurse(e));var r,s=Tn(t.body);s&&(r=[],k(s,(function(t,e){var i=n.recurse(t);i.isPure=t.isPure,t.input=i,r.push(i),t.watchId=e})));var a=[];k(t.body,(function(t){a.push(n.recurse(t.expression))}));var o=0===t.body.length?U:1===t.body.length?a[0]:function(t,e){var i;return k(a,(function(n){i=n(t,e)})),i};return i&&(o.assign=function(t,e,n){return i(t,n,e)}),r&&(o.inputs=r),o},recurse:function(t,e,i){var n,r,s,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Pn.Literal:return this.value(t.value,e);case Pn.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case Pn.BinaryExpression:case Pn.LogicalExpression:return n=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](n,r,e);case Pn.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Pn.Identifier:return a.identifier(t.name,e,i);case Pn.MemberExpression:return n=this.recurse(t.object,!1,!!i),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(n,r,e,i):this.nonComputedMember(n,r,e,i);case Pn.CallExpression:return s=[],k(t.arguments,(function(t){s.push(a.recurse(t))})),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,i,n,a){for(var o=[],l=0;l<s.length;++l)o.push(s[l](t,i,n,a));var c=r.apply(void 0,o,a);return e?{context:void 0,name:void 0,value:c}:c}:function(t,i,n,a){var o,l=r(t,i,n,a);if(null!=l.value){for(var c=[],d=0;d<s.length;++d)c.push(s[d](t,i,n,a));o=l.value.apply(l.context,c)}return e?{value:o}:o};case Pn.AssignmentExpression:return n=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,i,s,a){var o=n(t,i,s,a),l=r(t,i,s,a);return o.context[o.name]=l,e?{value:l}:l};case Pn.ArrayExpression:return s=[],k(t.elements,(function(t){s.push(a.recurse(t))})),function(t,i,n,r){for(var a=[],o=0;o<s.length;++o)a.push(s[o](t,i,n,r));return e?{value:a}:a};case Pn.ObjectExpression:return s=[],k(t.properties,(function(t){t.computed?s.push({key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}):s.push({key:t.key.type===Pn.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})})),function(t,i,n,r){for(var a={},o=0;o<s.length;++o)s[o].computed?a[s[o].key(t,i,n,r)]=s[o].value(t,i,n,r):a[s[o].key]=s[o].value(t,i,n,r);return e?{value:a}:a};case Pn.ThisExpression:return function(t){return e?{value:t}:t};case Pn.LocalsExpression:return function(t,i){return e?{value:i}:i};case Pn.NGValueParameter:return function(t,i,n){return e?{value:n}:n}}},"unary+":function(t,e){return function(i,n,r,s){var a=t(i,n,r,s);return a=N(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(i,n,r,s){var a=t(i,n,r,s);return a=N(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(i,n,r,s){var a=!t(i,n,r,s);return e?{value:a}:a}},"binary+":function(t,e,i){return function(n,r,s,a){var o=On(t(n,r,s,a),e(n,r,s,a));return i?{value:o}:o}},"binary-":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a),l=e(n,r,s,a),c=(N(o)?o:0)-(N(l)?l:0);return i?{value:c}:c}},"binary*":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)*e(n,r,s,a);return i?{value:o}:o}},"binary/":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)/e(n,r,s,a);return i?{value:o}:o}},"binary%":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)%e(n,r,s,a);return i?{value:o}:o}},"binary===":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)===e(n,r,s,a);return i?{value:o}:o}},"binary!==":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)!==e(n,r,s,a);return i?{value:o}:o}},"binary==":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)==e(n,r,s,a);return i?{value:o}:o}},"binary!=":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)!=e(n,r,s,a);return i?{value:o}:o}},"binary<":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)<e(n,r,s,a);return i?{value:o}:o}},"binary>":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)>e(n,r,s,a);return i?{value:o}:o}},"binary<=":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)<=e(n,r,s,a);return i?{value:o}:o}},"binary>=":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)>=e(n,r,s,a);return i?{value:o}:o}},"binary&&":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)&&e(n,r,s,a);return i?{value:o}:o}},"binary||":function(t,e,i){return function(n,r,s,a){var o=t(n,r,s,a)||e(n,r,s,a);return i?{value:o}:o}},"ternary?:":function(t,e,i,n){return function(r,s,a,o){var l=t(r,s,a,o)?e(r,s,a,o):i(r,s,a,o);return n?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,i){return function(n,r,s,a){var o=r&&t in r?r:n;i&&1!==i&&o&&null==o[t]&&(o[t]={});var l=o?o[t]:void 0;return e?{context:o,name:t,value:l}:l}},computedMember:function(t,e,i,n){return function(r,s,a,o){var l,c,d=t(r,s,a,o);return null!=d&&(l=Cn(l=e(r,s,a,o)),n&&1!==n&&d&&!d[l]&&(d[l]={}),c=d[l]),i?{context:d,name:l,value:c}:c}},nonComputedMember:function(t,e,i,n){return function(r,s,a,o){var l=t(r,s,a,o);n&&1!==n&&l&&null==l[e]&&(l[e]={});var c=null!=l?l[e]:void 0;return i?{context:l,name:e,value:c}:c}},inputs:function(t,e){return function(i,n,r,s){return s?s[e]:t(i,n,r)}}},Fn.prototype={constructor:Fn,parse:function(t){var e=this.getAst(t),i=this.astCompiler.compile(e.ast);return i.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Pn.Literal||t.body[0].expression.type===Pn.ArrayExpression||t.body[0].expression.type===Pn.ObjectExpression)}(e.ast),i.constant=function(t){return t.constant}(e.ast),i.oneTime=e.oneTime,i},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var Kn=r("$sce"),Yn={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Jn=/_([a-z])/g;function Zn(t){return t.replace(Jn,ee)}function Xn(t){var e=[];return N(t)&&k(t,(function(t){e.push(function(t){if("self"===t)return t;if(z(t)){if(t.indexOf("***")>-1)throw Kn("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=et(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(Q(t))return new RegExp("^"+t.source+"$");throw Kn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function tr(){this.SCE_CONTEXTS=Yn;var e=["self"],i=[];this.trustedResourceUrlList=function(t){return arguments.length&&(e=Xn(t)),e},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(t){this.trustedResourceUrlList=t}}),this.bannedResourceUrlList=function(t){return arguments.length&&(i=Xn(t)),i},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(t){this.bannedResourceUrlList=t}}),this.$get=["$injector","$$sanitizeUri",function(n,r){var s=function(t){throw Kn("unsafe","Attempting to use an unsafe value in a safe context.")};function a(e,i){return"self"===e?mr(i,pr)||mr(i,t.document.baseURI?t.document.baseURI:(dr||((dr=t.document.createElement("a")).href=".",dr=dr.cloneNode(!1)),dr.href)):!!e.exec(i.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}n.has("$sanitize")&&(s=n.get("$sanitize"));var l=o(),c={};return c[Yn.HTML]=o(l),c[Yn.CSS]=o(l),c[Yn.MEDIA_URL]=o(l),c[Yn.URL]=o(c[Yn.MEDIA_URL]),c[Yn.JS]=o(l),c[Yn.RESOURCE_URL]=o(c[Yn.URL]),{trustAs:function(t,e){var i=c.hasOwnProperty(t)?c[t]:null;if(!i)throw Kn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||M(e)||""===e)return e;if("string"!=typeof e)throw Kn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new i(e)},getTrusted:function(t,n){if(null===n||M(n)||""===n)return n;var o=c.hasOwnProperty(t)?c[t]:null;if(o&&n instanceof o)return n.$$unwrapTrustedValue();if(W(n.$$unwrapTrustedValue)&&(n=n.$$unwrapTrustedValue()),t===Yn.MEDIA_URL||t===Yn.URL)return r(n.toString(),t===Yn.MEDIA_URL);if(t===Yn.RESOURCE_URL){if(function(t){var n,r,s=hr(t.toString()),o=!1;for(n=0,r=e.length;n<r;n++)if(a(e[n],s)){o=!0;break}if(o)for(n=0,r=i.length;n<r;n++)if(a(i[n],s)){o=!1;break}return o}(n))return n;throw Kn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",n.toString())}if(t===Yn.HTML)return s(n);throw Kn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof l?t.$$unwrapTrustedValue():t}}}]}function er(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,i){if(t&&s<8)throw Kn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=Gt(Yn);n.isEnabled=function(){return t},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,t||(n.trustAs=n.getTrusted=function(t,e){return e},n.valueOf=q),n.parseAs=function(t,i){var r=e(i);return r.literal&&r.constant?r:e(i,(function(e){return n.getTrusted(t,e)}))};var r=n.parseAs,a=n.getTrusted,o=n.trustAs;return k(Yn,(function(t,e){var i=p(e);n[Zn("parse_as_"+i)]=function(e){return r(t,e)},n[Zn("get_trusted_"+i)]=function(e){return a(t,e)},n[Zn("trust_as_"+i)]=function(e){return o(t,e)}})),n}]}function ir(){this.$get=["$window","$document",function(t,e){var i={},n=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,r=E((/android (\d+)/.exec(p((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},l=o.body&&o.body.style,c=!1,d=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),d=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!n||r<4||a),hasEvent:function(t){if("input"===t&&s)return!1;if(M(i[t])){var e=o.createElement("div");i[t]="on"+t in e}return i[t]},csp:ct(),transitions:c,animations:d,android:r}}]}function nr(){this.$get=R((function(t){return new rr(t)}))}function rr(t){var e=this,i={},n=[],r=e.ALL_TASKS_TYPE="$$all$$",s=e.DEFAULT_TASK_TYPE="$$default$$";function a(){var t=n.pop();return t&&t.cb}function o(t){for(var e=n.length-1;e>=0;--e){var i=n[e];if(i.type===t)return n.splice(e,1),i.cb}}e.completeTask=function(e,n){n=n||s;try{e()}finally{!function(t){i[t=t||s]&&(i[t]--,i[r]--)}(n);var l=i[n],c=i[r];if(!c||!l)for(var d,u=c?o:a;d=u(n);)try{d()}catch(e){t.error(e)}}},e.incTaskCount=function(t){i[t=t||s]=(i[t]||0)+1,i[r]=(i[r]||0)+1},e.notifyWhenNoPendingTasks=function(t,e){i[e=e||r]?n.push({type:e,cb:t}):t()}}var sr=r("$templateRequest");function ar(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,i,n,r,s){function a(o,l){a.totalPendingRequests++,z(o)&&!M(i.get(o))||(o=s.getTrustedResourceUrl(o));var c=n.defaults&&n.defaults.transformResponse;return H(c)?c=c.filter((function(t){return t!==Vi})):c===Vi&&(c=null),n.get(o,I({cache:i,transformResponse:c},t)).finally((function(){a.totalPendingRequests--})).then((function(t){return i.put(o,t.data)}),(function(t){return l||(t=sr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText),e(t)),r.reject(t)}))}return a.totalPendingRequests=0,a}]}function or(){this.$get=["$rootScope","$browser","$location",function(t,e,i){return{findBindings:function(t,e,i){var n=t.getElementsByClassName("ng-binding"),r=[];return k(n,(function(t){var n=y.element(t).data("$binding");n&&k(n,(function(n){i?new RegExp("(^|\\s)"+et(e)+"(\\s|\\||$)").test(n)&&r.push(t):-1!==n.indexOf(e)&&r.push(t)}))})),r},findModels:function(t,e,i){for(var n=["ng-","data-ng-","ng\\:"],r=0;r<n.length;++r){var s="["+n[r]+"model"+(i?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}var lr=r("$timeout");function cr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,i,n,r){var s={};function a(a,o,l){W(a)||(l=o,o=a,a=U);var c,d=pt(arguments,3),u=N(l)&&!l,p=(u?n:i).defer(),g=p.promise;return c=e.defer((function(){try{p.resolve(a.apply(null,d))}catch(t){p.reject(t),r(t)}finally{delete s[g.$$timeoutId]}u||t.$apply()}),o,"$timeout"),g.$$timeoutId=c,s[c]=p,g}return a.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw lr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!s.hasOwnProperty(t.$$timeoutId))return!1;var i=t.$$timeoutId,n=s[i];return Hn(n.promise),n.reject("canceled"),delete s[i],e.defer.cancel(i)},a}]}var dr,ur=t.document.createElement("a"),pr=hr(t.location.href);ur.href="http://[::1]";var gr="[::1]"===ur.hostname;function hr(t){if(!z(t))return t;var e=t;s&&(ur.setAttribute("href",e),e=ur.href),ur.setAttribute("href",e);var i=ur.hostname;return!gr&&i.indexOf(":")>-1&&(i="["+i+"]"),{href:ur.href,protocol:ur.protocol?ur.protocol.replace(/:$/,""):"",host:ur.host,search:ur.search?ur.search.replace(/^\?/,""):"",hash:ur.hash?ur.hash.replace(/^#/,""):"",hostname:i,port:ur.port,pathname:"/"===ur.pathname.charAt(0)?ur.pathname:"/"+ur.pathname}}function mr(t,e){return t=hr(t),e=hr(e),t.protocol===e.protocol&&t.host===e.host}function fr(){this.$get=R(t)}function vr(t){var e=t[0]||{},i={},n="";function r(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,s,a,o,l,c=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(c!==n)for(t=(n=c).split("; "),i={},a=0;a<t.length;a++)(o=(s=t[a]).indexOf("="))>0&&(l=r(s.substring(0,o)),M(i[l])&&(i[l]=r(s.substring(o+1))));return i}}function br(){this.$get=vr}function $r(t){var e="Filter";function i(n,r){if(D(n)){var s={};return k(n,(function(t,e){s[e]=i(e,t)})),s}return t.factory(n+e,r)}this.register=i,this.$get=["$injector",function(t){return function(i){return t.get(i+e)}}],i("currency",xr),i("date",Mr),i("filter",yr),i("json",Nr),i("limitTo",zr),i("lowercase",Dr),i("number",Ar),i("orderBy",Br),i("uppercase",jr)}function yr(){return function(t,e,i,n){if(!_(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var s,a;switch(n=n||"$",_r(e)){case"function":s=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":s=function(t,e,i,n){var r=D(t)&&i in t;return!0===e?e=lt:W(e)||(e=function(t,e){return!(M(t)||(null===t||null===e?t!==e:D(e)||D(t)&&!F(t)||(t=p(""+t),e=p(""+e),-1===t.indexOf(e))))}),function(s){return r&&!D(s)?wr(s,t[i],e,i,!1):wr(s,t,e,i,n)}}(e,i,n,a);break;default:return t}return Array.prototype.filter.call(t,s)}}function wr(t,e,i,n,r,s){var a=_r(t),o=_r(e);if("string"===o&&"!"===e.charAt(0))return!wr(t,e.substring(1),i,n,r);if(H(t))return t.some((function(t){return wr(t,e,i,n,r)}));switch(a){case"object":var l;if(r){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&wr(t[l],e,i,n,!0))return!0;return!s&&wr(t,e,i,n,!1)}if("object"===o){for(l in e){var c=e[l];if(!W(c)&&!M(c)){var d=l===n;if(!wr(d?t:t[l],c,i,n,d,d))return!1}}return!0}return i(t,e);case"function":return!1;default:return i(t,e)}}function _r(t){return null===t?"null":typeof t}vr.$inject=["$document"],$r.$inject=["$provide"];var kr=22,Cr=".",Sr="0";function xr(t){var e=t.NUMBER_FORMATS;return function(t,i,n){M(i)&&(i=e.CURRENCY_SYM),M(n)&&(n=e.PATTERNS[1].maxFrac);var r=i?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:Pr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,n).replace(r,i)}}function Ar(t){var e=t.NUMBER_FORMATS;return function(t,i){return null==t?t:Pr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,i)}}function Pr(t,e,i,n,r){if(!z(t)&&!V(t)||isNaN(t))return"";var s,a=!isFinite(t),o=!1,l=Math.abs(t)+"",c="";if(a)c="";else{s=function(t){var e,i,n,r,s,a=0;for((i=t.indexOf(Cr))>-1&&(t=t.replace(Cr,"")),(n=t.search(/e/i))>0?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),n=0;t.charAt(n)===Sr;n++);if(n===(s=t.length))e=[0],i=1;else{for(s--;t.charAt(s)===Sr;)s--;for(i-=n,e=[],r=0;n<=s;n++,r++)e[r]=+t.charAt(n)}return i>kr&&(e=e.splice(0,kr-1),a=i-1,i=1),{d:e,e:a,i}}(l),function(t,e,i,n){var r=t.d,s=r.length-t.i,a=(e=M(e)?Math.min(Math.max(i,s),n):+e)+t.i,o=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{s=Math.max(0,s),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(o>=5)if(a-1<0){for(var d=0;d>a;d--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;s<Math.max(0,e);s++)r.push(0);var u=r.reduceRight((function(t,e,i,n){return e+=t,n[i]=e%10,Math.floor(e/10)}),0);u&&(r.unshift(u),t.i++)}(s,r,e.minFrac,e.maxFrac);var d=s.d,u=s.i,p=s.e,g=[];for(o=d.reduce((function(t,e){return t&&!e}),!0);u<0;)d.unshift(0),u++;u>0?g=d.splice(u,d.length):(g=d,d=[0]);var h=[];for(d.length>=e.lgSize&&h.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)h.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&h.unshift(d.join("")),c=h.join(i),g.length&&(c+=n+g.join("")),p&&(c+="e+"+p)}return t<0&&!o?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Ir(t,e,i,n){var r="";for((t<0||n&&t<=0)&&(n?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=Sr+t;return i&&(t=t.substr(t.length-e)),r+t}function Or(t,e,i,n,r){return i=i||0,function(s){var a=s["get"+t]();return(i>0||a>-i)&&(a+=i),0===a&&-12===i&&(a=12),Ir(a,e,n,r)}}function Er(t,e,i){return function(n,r){var s=n["get"+t]();return r[g((i?"STANDALONE":"")+(e?"SHORT":"")+t)][s]}}function Tr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Lr(t){return function(e){var i,n=Tr(e.getFullYear()),r=(i=e,+new Date(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))-+n);return Ir(1+Math.round(r/6048e5),t)}}function Ur(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}xr.$inject=["$locale"],Ar.$inject=["$locale"];var qr={yyyy:Or("FullYear",4,0,!1,!0),yy:Or("FullYear",2,0,!0,!0),y:Or("FullYear",1,0,!1,!0),MMMM:Er("Month"),MMM:Er("Month",!0),MM:Or("Month",2,1),M:Or("Month",1,1),LLLL:Er("Month",!1,!0),dd:Or("Date",2),d:Or("Date",1),HH:Or("Hours",2),H:Or("Hours",1),hh:Or("Hours",2,-12),h:Or("Hours",1,-12),mm:Or("Minutes",2),m:Or("Minutes",1),ss:Or("Seconds",2),s:Or("Seconds",1),sss:Or("Milliseconds",3),EEEE:Er("Day"),EEE:Er("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,i){var n=-1*i;return(n>=0?"+":"")+(Ir(Math[n>0?"floor":"ceil"](n/60),2)+Ir(Math.abs(n%60),2))},ww:Lr(2),w:Lr(1),G:Ur,GG:Ur,GGG:Ur,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Rr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Fr=/^-?\d+$/;function Mr(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,r){var s,a,o="",l=[];if(n=n||"mediumDate",n=t.DATETIME_FORMATS[n]||n,z(i)&&(i=Fr.test(i)?E(i):function(t){var i;if(i=t.match(e)){var n=new Date(0),r=0,s=0,a=i[8]?n.setUTCFullYear:n.setFullYear,o=i[8]?n.setUTCHours:n.setHours;i[9]&&(r=E(i[9]+i[10]),s=E(i[9]+i[11])),a.call(n,E(i[1]),E(i[2])-1,E(i[3]));var l=E(i[4]||0)-r,c=E(i[5]||0)-s,d=E(i[6]||0),u=Math.round(1e3*parseFloat("0."+(i[7]||0)));return o.call(n,l,c,d,u),n}return t}(i)),V(i)&&(i=new Date(i)),!B(i)||!isFinite(i.getTime()))return i;for(;n;)(a=Rr.exec(n))?n=(l=ut(l,a,1)).pop():(l.push(n),n=null);var c=i.getTimezoneOffset();return r&&(c=bt(r,c),i=yt(i,r,!0)),k(l,(function(e){s=qr[e],o+=s?s(i,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),o}}function Nr(){return function(t,e){return M(e)&&(e=2),mt(t,e)}}Mr.$inject=["$locale"];var Dr=R(p),jr=R(g);function zr(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):E(e),T(e)?t:(V(t)&&(t=t.toString()),_(t)?(i=(i=!i||isNaN(i)?0:E(i))<0?Math.max(0,t.length+i):i,e>=0?Vr(t,i,i+e):0===i?Vr(t,e,t.length):Vr(t,Math.max(0,i+e),i)):t)}}function Vr(t,e,i){return z(t)?t.slice(e,i):h.call(t,e,i)}function Br(t){return function(n,s,a,o){if(null==n)return n;if(!_(n))throw r("orderBy")("notarray","Expected array but received: {0}",n);H(s)||(s=[s]),0===s.length&&(s=["+"]);var l=s.map((function(e){var i=1,n=q;if(W(e))n=e;else if(z(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(i="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=t(e)).constant)){var r=n();n=function(t){return t[r]}}return{get:n,descending:i}})),c=a?-1:1,d=W(o)?o:i,u=Array.prototype.map.call(n,(function(t,i){return{value:t,tieBreaker:{value:i,type:"number",index:i},predicateValues:l.map((function(n){return function(t,i){var n=typeof t;return null===t?n="null":"object"===n&&(t=function(t){return W(t.valueOf)&&e(t=t.valueOf())||F(t)&&e(t=t.toString()),t}(t)),{value:t,type:n,index:i}}(n.get(t),i)}))}}));return u.sort((function(t,e){for(var n=0,r=l.length;n<r;n++){var s=d(t.predicateValues[n],e.predicateValues[n]);if(s)return s*l[n].descending*c}return(d(t.tieBreaker,e.tieBreaker)||i(t.tieBreaker,e.tieBreaker))*c})),u.map((function(t){return t.value}))};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){var i=0,n=t.type,r=e.type;if(n===r){var s=t.value,a=e.value;"string"===n?(s=s.toLowerCase(),a=a.toLowerCase()):"object"===n&&(D(s)&&(s=t.index),D(a)&&(a=e.index)),s!==a&&(i=s<a?-1:1)}else i="undefined"===n?1:"undefined"===r?-1:"null"===n?1:"null"===r||n<r?-1:1;return i}}function Hr(t){return W(t)&&(t={link:t}),t.restrict=t.restrict||"AC",R(t)}Br.$inject=["$parse"];var Gr=R({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===v.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(i)||t.preventDefault()}))}}}}),Wr={};k(qe,(function(t,e){if("multiple"!==t){var i=ki("ng-"+e),n=r;"checked"===t&&(n=function(t,e,n){n.ngModel!==n[i]&&r(t,0,n)}),Wr[i]=function(){return{restrict:"A",priority:100,link:n}}}function r(t,n,r){t.$watch(r[i],(function(t){r.$set(e,!!t)}))}})),k(Fe,(function(t,e){Wr[e]=function(){return{priority:100,link:function(t,i,n){if("ngPattern"===e&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(c);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(n[e],(function(t){n.$set(e,t)}))}}}})),k(["src","srcset","href"],(function(t){var e=ki("ng-"+t);Wr[e]=["$sce",function(i){return{priority:99,link:function(n,r,a){var o=t,l=t;"href"===t&&"[object SVGAnimatedString]"===v.call(r.prop("href"))&&(l="xlinkHref",a.$attr[l]="xlink:href",o=null),a.$set(e,i.getTrustedMediaUrl(a[e])),a.$observe(e,(function(e){e?(a.$set(l,e),s&&o&&r.prop(o,a[l])):"href"===t&&a.$set(l,null)}))}}}]}));var Qr={$addControl:U,$getControls:R([]),$$renameControl:function(t,e){t.$name=e},$removeControl:U,$setValidity:U,$setDirty:U,$setPristine:U,$setSubmitted:U,$$setSubmitted:U},Kr="ng-pending",Yr="ng-submitted";function Jr(t,e,i,n,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(i),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Qr,this.$$element=t,this.$$animate=n,es(this)}Jr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Jr.prototype={$rollbackViewValue:function(){k(this.$$controls,(function(t){t.$rollbackViewValue()}))},$commitViewValue:function(){k(this.$$controls,(function(t){t.$commitViewValue()}))},$addControl:function(t){Ft(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return Gt(this.$$controls)},$$renameControl:function(t,e){var i=t.$name;this[i]===t&&delete this[i],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],k(this.$pending,(function(e,i){this.$setValidity(i,null,t)}),this),k(this.$error,(function(e,i){this.$setValidity(i,null,t)}),this),k(this.$$success,(function(e,i){this.$setValidity(i,null,t)}),this),st(this.$$controls,t),t.$$parentForm=Qr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Js),this.$$animate.addClass(this.$$element,Zs),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Js,Zs+" "+Yr),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,k(this.$$controls,(function(t){t.$setPristine()}))},$setUntouched:function(){k(this.$$controls,(function(t){t.$setUntouched()}))},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==Qr;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Yr),this.$submitted=!0,k(this.$$controls,(function(t){t.$$setSubmitted&&t.$$setSubmitted()}))}},is({clazz:Jr,set:function(t,e,i){var n=t[e];n?-1===n.indexOf(i)&&n.push(i):t[e]=[i]},unset:function(t,e,i){var n=t[e];n&&(st(n,i),0===n.length&&delete t[e])}});var Zr=function(t){return["$timeout","$parse",function(e,i){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Jr,compile:function(i,r){i.addClass(Js).addClass(Ks);var s=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,i,r,a){var o=a[0];if(!("action"in r)){var l=function(e){t.$apply((function(){o.$commitViewValue(),o.$setSubmitted()})),e.preventDefault()};i[0].addEventListener("submit",l),i.on("$destroy",(function(){e((function(){i[0].removeEventListener("submit",l)}),0,!1)}))}(a[1]||o.$$parentForm).$addControl(o);var c=s?n(o.$name):U;s&&(c(t,o),r.$observe(s,(function(e){o.$name!==e&&(c(t,void 0),o.$$parentForm.$$renameControl(o,e),(c=n(o.$name))(t,o))}))),i.on("$destroy",(function(){o.$$parentForm.$removeControl(o),c(t,void 0),I(o,Qr)}))}}}};function n(t){return""===t?i('this[""]').assign:i(t).assign||U}}]},Xr=Zr(),ts=Zr(!0);function es(t){t.$$classCache={},t.$$classCache[Ys]=!(t.$$classCache[Ks]=t.$$element.hasClass(Ks))}function is(t){var e=t.clazz,i=t.set,n=t.unset;function r(t,e,i){i&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!i&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function s(t,e,i){e=e?"-"+Tt(e,"-"):"",r(t,Ks+e,!0===i),r(t,Ys+e,!1===i)}e.prototype.$setValidity=function(t,e,a){var o;M(e)?function(t,e,n,r){t[e]||(t[e]={}),i(t[e],n,r)}(this,"$pending",t,a):function(t,e,i,r){t[e]&&n(t[e],i,r),ns(t[e])&&(t[e]=void 0)}(this,"$pending",t,a),J(e)?e?(n(this.$error,t,a),i(this.$$success,t,a)):(i(this.$error,t,a),n(this.$$success,t,a)):(n(this.$error,t,a),n(this.$$success,t,a)),this.$pending?(r(this,Kr,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(r(this,Kr,!1),this.$valid=ns(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,t,o=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,o,this)}}function ns(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var rs=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ss=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,as=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,os=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ls=/^(\d{4,})-(\d{2})-(\d{2})$/,cs=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ds=/^(\d{4,})-W(\d\d)$/,us=/^(\d{4,})-(\d\d)$/,ps=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gs="keydown wheel mousedown",hs=Nt();k("date,datetime-local,month,time,week".split(","),(function(t){hs[t]=!0}));var ms={text:function(t,e,i,n,r,s){vs(0,e,i,n,r,s),fs(n)},date:$s("date",ls,bs(ls,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":$s("datetimelocal",cs,bs(cs,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:$s("time",ps,bs(ps,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:$s("week",ds,(function(t,e){if(B(t))return t;if(z(t)){ds.lastIndex=0;var i=ds.exec(t);if(i){var n=+i[1],r=+i[2],s=0,a=0,o=0,l=0,c=Tr(n),d=7*(r-1);return e&&(s=e.getHours(),a=e.getMinutes(),o=e.getSeconds(),l=e.getMilliseconds()),new Date(n,0,c.getDate()+d,s,a,o,l)}}return NaN}),"yyyy-Www"),month:$s("month",us,bs(us,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,n,r,s,a,o){var l;if(ys(0,e,0,n,"number"),ws(n),vs(0,e,i,n,r,s),N(i.min)||i.ngMin){var c=i.min||o(i.ngMin)(t);l=_s(c),n.$validators.min=function(t,e){return n.$isEmpty(e)||M(l)||e>=l},i.$observe("min",(function(t){t!==c&&(l=_s(t),c=t,n.$validate())}))}if(N(i.max)||i.ngMax){var d=i.max||o(i.ngMax)(t),u=_s(d);n.$validators.max=function(t,e){return n.$isEmpty(e)||M(u)||e<=u},i.$observe("max",(function(t){t!==d&&(u=_s(t),d=t,n.$validate())}))}if(N(i.step)||i.ngStep){var p=i.step||o(i.ngStep)(t),g=_s(p);n.$validators.step=function(t,e){return n.$isEmpty(e)||M(g)||Ss(e,l||0,g)},i.$observe("step",(function(t){t!==p&&(g=_s(t),p=t,n.$validate())}))}},url:function(t,e,i,n,r,s){vs(0,e,i,n,r,s),fs(n),n.$validators.url=function(t,e){var i=t||e;return n.$isEmpty(i)||ss.test(i)}},email:function(t,e,i,n,r,s){vs(0,e,i,n,r,s),fs(n),n.$validators.email=function(t,e){var i=t||e;return n.$isEmpty(i)||as.test(i)}},radio:function(t,e,i,n){var r=!i.ngTrim||"false"!==tt(i.ngTrim);M(i.name)&&e.attr("name",x()),e.on("change",(function(t){var s;e[0].checked&&(s=i.value,r&&(s=tt(s)),n.$setViewValue(s,t&&t.type))})),n.$render=function(){var t=i.value;r&&(t=tt(t)),e[0].checked=t===n.$viewValue},i.$observe("value",n.$render)},range:function(t,e,i,n,r,s){ys(0,e,0,n,"range"),ws(n),vs(0,e,i,n,r,s);var a=n.$$hasNativeValidators&&"range"===e[0].type,o=a?0:void 0,l=a?100:void 0,c=a?1:void 0,d=e[0].validity,u=N(i.min),p=N(i.max),g=N(i.step),h=n.$render;function m(t,n){e.attr(t,i[t]);var r=i[t];i.$observe(t,(function(t){t!==r&&(r=t,n(t))}))}n.$render=a&&N(d.rangeUnderflow)&&N(d.rangeOverflow)?function(){h(),n.$setViewValue(e.val())}:h,u&&(o=_s(i.min),n.$validators.min=a?function(){return!0}:function(t,e){return n.$isEmpty(e)||M(o)||e>=o},m("min",(function(t){if(o=_s(t),!T(n.$modelValue))if(a){var i=e.val();o>i&&(i=o,e.val(i)),n.$setViewValue(i)}else n.$validate()}))),p&&(l=_s(i.max),n.$validators.max=a?function(){return!0}:function(t,e){return n.$isEmpty(e)||M(l)||e<=l},m("max",(function(t){if(l=_s(t),!T(n.$modelValue))if(a){var i=e.val();l<i&&(e.val(l),i=l<o?o:l),n.$setViewValue(i)}else n.$validate()}))),g&&(c=_s(i.step),n.$validators.step=a?function(){return!d.stepMismatch}:function(t,e){return n.$isEmpty(e)||M(c)||Ss(e,o||0,c)},m("step",(function(t){c=_s(t),T(n.$modelValue)||(a?n.$viewValue!==e.val()&&n.$setViewValue(e.val()):n.$validate())})))},checkbox:function(t,e,i,n,r,s,a,o){var l=xs(o,t,"ngTrueValue",i.ngTrueValue,!0),c=xs(o,t,"ngFalseValue",i.ngFalseValue,!1);e.on("change",(function(t){n.$setViewValue(e[0].checked,t&&t.type)})),n.$render=function(){e[0].checked=n.$viewValue},n.$isEmpty=function(t){return!1===t},n.$formatters.push((function(t){return lt(t,l)})),n.$parsers.push((function(t){return t?l:c}))},hidden:U,button:U,submit:U,reset:U,file:U};function fs(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function vs(t,e,i,n,r,s){var a,o=p(e[0].type);if(!r.android){var l=!1;e.on("compositionstart",(function(){l=!0})),e.on("compositionupdate",(function(t){(M(t.data)||""===t.data)&&(l=!1)})),e.on("compositionend",(function(){l=!1,c()}))}var c=function(t){if(a&&(s.defer.cancel(a),a=null),!l){var r=e.val(),c=t&&t.type;"password"===o||i.ngTrim&&"false"===i.ngTrim||(r=tt(r)),(n.$viewValue!==r||""===r&&n.$$hasNativeValidators)&&n.$setViewValue(r,c)}};if(r.hasEvent("input"))e.on("input",c);else{var u=function(t,e,i){a||(a=s.defer((function(){a=null,e&&e.value===i||c(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)})),r.hasEvent("paste")&&e.on("paste cut drop",u)}e.on("change",c),hs[o]&&n.$$hasNativeValidators&&o===i.type&&e.on(gs,(function(t){if(!a){var e=this[d],i=e.badInput,n=e.typeMismatch;a=s.defer((function(){a=null,e.badInput===i&&e.typeMismatch===n||c(t)}))}})),n.$render=function(){var t=n.$isEmpty(n.$viewValue)?"":n.$viewValue;e.val()!==t&&e.val(t)}}function bs(t,e){return function(i,n){var r,s;if(B(i))return i;if(z(i)){if('"'===i.charAt(0)&&'"'===i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),rs.test(i))return new Date(i);if(t.lastIndex=0,r=t.exec(i)){r.shift(),s=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},k(r,(function(t,i){i<e.length&&(s[e[i]]=+t)}));var a=new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0);return s.yyyy<100&&a.setFullYear(s.yyyy),a}}return NaN}}function $s(t,e,i,n){return function(r,s,a,o,l,c,d,u){ys(0,s,0,o,t),vs(0,s,a,o,l,c);var p,g,h="time"===t||"datetimelocal"===t;if(o.$parsers.push((function(i){return o.$isEmpty(i)?null:e.test(i)?w(i,p):void(o.$$parserName=t)})),o.$formatters.push((function(t){if(t&&!B(t))throw na("datefmt","Expected `{0}` to be a date",t);if($(t)){p=t;var e=o.$options.getOption("timezone");return e&&(g=e,p=yt(p,e,!0)),function(t,e){var i=n;h&&z(o.$options.getOption("timeSecondsFormat"))&&(i=n.replace("ss.sss",o.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=d("date")(t,i,e);return h&&o.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,"")),r}(t,e)}return p=null,g=null,""})),N(a.min)||a.ngMin){var m=a.min||u(a.ngMin)(r),f=y(m);o.$validators.min=function(t){return!$(t)||M(f)||i(t)>=f},a.$observe("min",(function(t){t!==m&&(f=y(t),m=t,o.$validate())}))}if(N(a.max)||a.ngMax){var v=a.max||u(a.ngMax)(r),b=y(v);o.$validators.max=function(t){return!$(t)||M(b)||i(t)<=b},a.$observe("max",(function(t){t!==v&&(b=y(t),v=t,o.$validate())}))}function $(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function y(t){return N(t)&&!B(t)?w(t)||void 0:t}function w(t,e){var n=o.$options.getOption("timezone");g&&g!==n&&(e=$t(e,bt(g)));var r=i(t,e);return!isNaN(r)&&n&&(r=yt(r,n)),r}}}function ys(t,e,i,n,r){var s=e[0];(n.$$hasNativeValidators=D(s.validity))&&n.$parsers.push((function(t){var i=e.prop(d)||{};if(!i.badInput&&!i.typeMismatch)return t;n.$$parserName=r}))}function ws(t){t.$parsers.push((function(e){return t.$isEmpty(e)?null:os.test(e)?parseFloat(e):void(t.$$parserName="number")})),t.$formatters.push((function(e){if(!t.$isEmpty(e)){if(!V(e))throw na("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}))}function _s(t){return N(t)&&!V(t)&&(t=parseFloat(t)),T(t)?void 0:t}function ks(t){return(0|t)===t}function Cs(t){var e=t.toString(),i=e.indexOf(".");if(-1===i){if(-1<t&&t<1){var n=/e-(\d+)$/.exec(e);if(n)return Number(n[1])}return 0}return e.length-i-1}function Ss(t,e,i){var n=Number(t),r=!ks(n),s=!ks(e),a=!ks(i);if(r||s||a){var o=r?Cs(n):0,l=s?Cs(e):0,c=a?Cs(i):0,d=Math.max(o,l,c),u=Math.pow(10,d);n*=u,e*=u,i*=u,r&&(n=Math.round(n)),s&&(e=Math.round(e)),a&&(i=Math.round(i))}return(n-e)%i==0}function xs(t,e,i,n,r){var s;if(N(n)){if(!(s=t(n)).constant)throw na("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,n);return s(e)}return r}var As=["$browser","$sniffer","$filter","$parse",function(t,e,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,s,a,o){o[0]&&(ms[p(a.type)]||ms.text)(r,s,a,o[0],e,t,i,n)}}}}],Ps=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,i){if("hidden"===p(i.type))return{pre:function(e,i,n,r){var s=i[0];s.parentNode&&s.parentNode.insertBefore(s,s.nextSibling),Object.defineProperty&&Object.defineProperty(s,"value",t)}}}}},Is=/^(true|false|\d+)$/,Os=function(){function t(t,e,i){var n=N(i)?i:9===s?"":null;t.prop("value",n),e.$set("value",i)}return{restrict:"A",priority:100,compile:function(e,i){return Is.test(i.ngValue)?function(e,i,n){t(i,n,e.$eval(n.ngValue))}:function(e,i,n){e.$watch(n.ngValue,(function(e){t(i,n,e)}))}}}},Es=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,n){t.$$addBindingInfo(i,n.ngBind),i=i[0],e.$watch(n.ngBind,(function(t){i.textContent=Dt(t)}))}}}}],Ts=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,n,r){var s=t(n.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(n,s.expressions),n=n[0],r.$observe("ngBindTemplate",(function(t){n.textContent=M(t)?"":t}))}}}}],Ls=["$sce","$parse","$compile",function(t,e,i){return{restrict:"A",compile:function(n,r){var s=e(r.ngBindHtml),a=e(r.ngBindHtml,(function(e){return t.valueOf(e)}));return i.$$addBindingClass(n),function(e,n,r){i.$$addBindingInfo(n,r.ngBindHtml),e.$watch(a,(function(){var i=s(e);n.html(t.getTrustedHtml(i)||"")}))}}}}],Us=R({restrict:"A",require:"ngModel",link:function(t,e,i,n){n.$viewChangeListeners.push((function(){t.$eval(i.ngChange)}))}});function qs(t,e){var i;return t="ngClass"+t,["$parse",function(a){return{restrict:"AC",link:function(o,l,c){var d,u=l.data("$classCounts"),p=!0;function g(t,e){var i=[];return k(t,(function(t){(e>0||u[t])&&(u[t]=(u[t]||0)+e,u[t]===+(e>0)&&i.push(t))})),i.join(" ")}u||(u=Nt(),l.data("$classCounts",u)),"ngClass"!==t&&(i||(i=a("$index",(function(t){return 1&t}))),o.$watch(i,(function(t){var i;t===e?(i=g(r(i=d),1),c.$addClass(i)):function(t){t=g(r(t),-1),c.$removeClass(t)}(d),p=t}))),o.$watch(a(c[t],s),(function(t){p===e&&function(t,e){var i=r(t),s=r(e),a=n(i,s),o=n(s,i),l=g(a,-1),d=g(o,1);c.$addClass(d),c.$removeClass(l)}(d,t),d=t}))}}}];function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var i=[];t:for(var n=0;n<t.length;n++){for(var r=t[n],s=0;s<e.length;s++)if(r===e[s])continue t;i.push(r)}return i}function r(t){return t&&t.split(" ")}function s(t){if(!t)return t;var e=t;return H(t)?e=t.map(s).join(" "):D(t)?e=Object.keys(t).filter((function(e){return t[e]})).join(" "):z(t)||(e=t+""),e}}var Rs=qs("",!0),Fs=qs("Odd",0),Ms=qs("Even",1),Ns=Hr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ds=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],js={},zs={blur:!0,focus:!0};function Vs(t,e,i,n,r,s){return{restrict:"A",compile:function(a,o){var l=t(o[n]);return function(t,n){n.on(r,(function(n){var r=function(){l(t,{$event:n})};if(e.$$phase)if(s)t.$evalAsync(r);else try{r()}catch(t){i(t)}else t.$apply(r)}))}}}}k("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=ki("ng-"+t);js[e]=["$parse","$rootScope","$exceptionHandler",function(i,n,r){return Vs(i,n,r,e,t,zs[t])}]}));var Bs=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,r,s,a){var o,l,c;i.$watch(r.ngIf,(function(i){i?l||a((function(i,s){l=s,i[i.length++]=e.$$createComment("end ngIf",r.ngIf),o={clone:i},t.enter(i,n.parent(),n)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),o&&(c=Mt(o.clone),t.leave(c).done((function(t){!1!==t&&(c=null)})),o=null))}))}}}],Hs=["$templateRequest","$anchorScroll","$animate",function(t,e,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(n,r){var s=r.ngInclude||r.src,a=r.onload||"",o=r.autoscroll;return function(n,r,l,c,d){var u,p,g,h=0,m=function(){p&&(p.remove(),p=null),u&&(u.$destroy(),u=null),g&&(i.leave(g).done((function(t){!1!==t&&(p=null)})),p=g,g=null)};n.$watch(s,(function(s){var l=function(t){!1===t||!N(o)||o&&!n.$eval(o)||e()},p=++h;s?(t(s,!0).then((function(t){if(!n.$$destroyed&&p===h){var e=n.$new();c.template=t;var o=d(e,(function(t){m(),i.enter(t,null,r).done(l)}));g=o,(u=e).$emit("$includeContentLoaded",s),n.$eval(a)}}),(function(){n.$$destroyed||p===h&&(m(),n.$emit("$includeContentError",s))})),n.$emit("$includeContentRequested",s)):(m(),c.template=null)}))}}}}],Gs=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,r,s){if(v.call(n[0]).match(/SVG/))return n.empty(),void e(he(s.template,t.document).childNodes)(i,(function(t){n.append(t)}),{futureParentElement:n});n.html(s.template),e(n.contents())(i)}}}],Ws=Hr({priority:450,compile:function(){return{pre:function(t,e,i){t.$eval(i.ngInit)}}}}),Qs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,n){var r=i.ngList||", ",s="false"!==i.ngTrim,a=s?tt(r):r;n.$parsers.push((function(t){if(!M(t)){var e=[];return t&&k(t.split(a),(function(t){t&&e.push(s?tt(t):t)})),e}})),n.$formatters.push((function(t){if(H(t))return t.join(r)})),n.$isEmpty=function(t){return!t||!t.length}}}},Ks="ng-valid",Ys="ng-invalid",Js="ng-pristine",Zs="ng-dirty",Xs="ng-untouched",ta="ng-touched",ea="ng-empty",ia="ng-not-empty",na=r("ngModel");function ra(t,e,i,n,r,s,a,o,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(i.name||"",!1)(t),this.$$parentForm=Qr,this.$options=sa,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(i.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=i,this.$$element=n,this.$$animate=s,this.$$timeout=a,this.$$parse=r,this.$$q=o,this.$$exceptionHandler=e,es(this),(c=this).$$scope.$watch((function(t){var e=c.$$ngModelGet(t);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e}))}ra.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],ra.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var i=this.$$parsedNgModel(e);return W(i)&&(i=t(e)),i},this.$$ngModelSet=function(t,i){W(this.$$parsedNgModel(t))?e(t,{$$$p:i}):this.$$parsedNgModelAssign(t,i)}}else if(!this.$$parsedNgModel.assign)throw na("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,wt(this.$$element))},$render:U,$isEmpty:function(t){return M(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,ia),this.$$animate.addClass(this.$$element,ea)):(this.$$animate.removeClass(this.$$element,ea),this.$$animate.addClass(this.$$element,ia))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Zs),this.$$animate.addClass(this.$$element,Js)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Js),this.$$animate.addClass(this.$$element,Zs),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Xs,ta)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,ta,Xs)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!T(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,i=this.$valid,n=this.$modelValue,r=this.$options.getOption("allowInvalid"),s=this;this.$$runValidators(e,t,(function(t){r||i===t||(s.$modelValue=t?e:void 0,s.$modelValue!==n&&s.$$writeModelToScope())}))}},$$runValidators:function(t,e,i){this.$$currentValidationRunId++;var n,r,s,a,o=this.$$currentValidationRunId,l=this;function c(t,e){o===l.$$currentValidationRunId&&l.$setValidity(t,e)}function d(t){o===l.$$currentValidationRunId&&i(t)}a=l.$$parserName,(M(l.$$parserValid)?(c(a,null),1):(l.$$parserValid||(k(l.$validators,(function(t,e){c(e,null)})),k(l.$asyncValidators,(function(t,e){c(e,null)}))),c(a,l.$$parserValid),l.$$parserValid))?(s=!0,k(l.$validators,(function(i,n){var r=Boolean(i(t,e));s=s&&r,c(n,r)})),!s&&(k(l.$asyncValidators,(function(t,e){c(e,null)})),1)?d(!1):(n=[],r=!0,k(l.$asyncValidators,(function(i,s){var a=i(t,e);if(!Z(a))throw na("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);c(s,void 0),n.push(a.then((function(){c(s,!0)}),(function(){r=!1,c(s,!1)})))})),n.length?l.$$q.all(n).then((function(){d(r)}),U):d(!0))):d(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!M(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(M(t=this.$parsers[i](t))){this.$$parserValid=!1;break}T(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var n=this.$modelValue,r=this.$options.getOption("allowInvalid");function s(){e.$modelValue!==n&&e.$$writeModelToScope()}this.$$rawModelValue=t,r&&(this.$modelValue=t,s()),this.$$runValidators(t,this.$$lastCommittedViewValue,(function(i){r||(e.$modelValue=i?t:void 0,s())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),k(this.$viewChangeListeners,(function(t){try{t()}catch(t){this.$$exceptionHandler(t)}}),this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");V(e[t])?e=e[t]:V(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:V(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var i=this;e>0?this.$$pendingDebounce=this.$$timeout((function(){i.$commitViewValue()}),e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){i.$commitViewValue()}))},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,U))},$$format:function(){for(var t=this.$formatters,e=t.length,i=this.$modelValue;e--;)i=t[e](i);return i},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},is({clazz:ra,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var sa,aa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ra,priority:1,compile:function(e){return e.addClass(Js).addClass(Xs).addClass(Ks),{pre:function(t,e,i,n){var r=n[0],s=n[1]||r.$$parentForm,a=n[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),s.$addControl(r),i.$observe("name",(function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)})),t.$on("$destroy",(function(){r.$$parentForm.$removeControl(r)}))},post:function(e,i,n,r){var s=r[0];function a(){s.$setTouched()}s.$$setUpdateOnEvents(),i.on("blur",(function(){s.$touched||(t.$$phase?e.$evalAsync(a):e.$apply(a))}))}}}}}],oa=/(\s+|^)default(\s+|$)/;function la(t){this.$$options=t}la.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return k(t=I({},t),(function(i,n){"$inherit"===i?"*"===n?e=!0:(t[n]=this.$$options[n],"updateOn"===n&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===n&&(t.updateOnDefault=!1,t[n]=tt(i.replace(oa,(function(){return t.updateOnDefault=!0," "}))))}),this),e&&(delete t["*"],da(t,this.$$options)),da(t,sa.$$options),new la(t)}},sa=new la({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ca=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:sa,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function da(t,e){k(e,(function(e,i){N(t[i])||(t[i]=e)}))}var ua=Hr({terminal:!0,priority:1e3}),pa=r("ngOptions"),ga=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ha=["$compile","$document","$parse",function(e,i,n){var r=t.document.createElement("option"),s=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,i,n){n[0].registerOption=U},post:function(t,o,l,c){for(var d=c[0],u=c[1],p=l.multiple,g=0,h=o.children(),m=h.length;g<m;g++)if(""===h[g].value){d.hasEmptyOption=!0,d.emptyOption=h.eq(g);break}o.empty();var f,v=!!d.emptyOption;a(r.cloneNode(!1)).val("?");var b=function(t,e,i){var r=t.match(ga);if(!r)throw pa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,wt(e));var s=r[5]||r[7],a=r[6],o=/ as /.test(r[0])&&r[1],l=r[9],c=n(r[2]?r[1]:s),d=o&&n(o)||c,u=l&&n(l),p=l?function(t,e){return u(i,e)}:function(t){return ze(t)},g=function(t,e){return p(t,$(t,e))},h=n(r[2]||r[1]),m=n(r[3]||""),f=n(r[4]||""),v=n(r[8]),b={},$=a?function(t,e){return b[a]=e,b[s]=t,b}:function(t){return b[s]=t,b};function y(t,e,i,n,r){this.selectValue=t,this.viewValue=e,this.label=i,this.group=n,this.disabled=r}function w(t){var e;if(!a&&_(t))e=t;else for(var i in e=[],t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i);return e}return{trackBy:l,getTrackByValue:g,getWatchables:n(v,(function(t){for(var e=[],n=w(t=t||[]),s=n.length,a=0;a<s;a++){var o=t===n?a:n[a],l=t[o],c=$(l,o),d=p(l,c);if(e.push(d),r[2]||r[1]){var u=h(i,c);e.push(u)}if(r[4]){var g=f(i,c);e.push(g)}}return e})),getOptions:function(){for(var t=[],e={},n=v(i)||[],r=w(n),s=r.length,a=0;a<s;a++){var o=n===r?a:r[a],c=n[o],u=$(c,o),b=d(i,u),_=p(b,u),k=new y(_,b,h(i,u),m(i,u),f(i,u));t.push(k),e[_]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return l?at(t.viewValue):t.viewValue}}}}}(l.ngOptions,o,t),$=i[0].createDocumentFragment();function y(t,e){var i=r.cloneNode(!1);e.appendChild(i),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,i)}function w(t){var e=f.getOptionFromViewValue(t),i=e&&e.element;return i&&!i.selected&&(i.selected=!0),e}d.generateUnknownOptionValue=function(t){return"?"},p?(d.writeValue=function(t){if(f){var e=t&&t.map(w)||[];f.items.forEach((function(t){t.element.selected&&!rt(e,t)&&(t.element.selected=!1)}))}},d.readValue=function(){var t=o.val()||[],e=[];return k(t,(function(t){var i=f.selectValueMap[t];i&&!i.disabled&&e.push(f.getViewValueFromOption(i))})),e},b.trackBy&&t.$watchCollection((function(){if(H(u.$viewValue))return u.$viewValue.map((function(t){return b.getTrackByValue(t)}))}),(function(){u.$render()}))):(d.writeValue=function(t){if(f){var e=o[0].options[o[0].selectedIndex],i=f.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),i?(o[0].value!==i.selectValue&&(d.removeUnknownOption(),o[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(t)}},d.readValue=function(){var t=f.selectValueMap[o.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),f.getViewValueFromOption(t)):null},b.trackBy&&t.$watch((function(){return b.getTrackByValue(u.$viewValue)}),(function(){u.$render()}))),v&&(e(d.emptyOption)(t),o.prepend(d.emptyOption),d.emptyOption[0].nodeType===Vt?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),u.$render(),e.on("$destroy",(function(){var t=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,t&&u.$render()})))}):d.emptyOption.removeClass("ng-scope")),t.$watchCollection(b.getWatchables,(function(){var t=f&&d.readValue();if(f)for(var e=f.items.length-1;e>=0;e--){var i=f.items[e];N(i.group)?Te(i.element.parentNode):Te(i.element)}f=b.getOptions();var n={};if(f.items.forEach((function(t){var e;N(t.group)?((e=n[t.group])||(e=s.cloneNode(!1),$.appendChild(e),e.label=null===t.group?"null":t.group,n[t.group]=e),y(t,e)):y(t,$)})),o[0].appendChild($),u.$render(),!u.$isEmpty(t)){var r=d.readValue();(b.trackBy||p?lt(t,r):t===r)||(u.$setViewValue(r),u.$render())}}))}}}}],ma=["$locale","$interpolate","$log",function(t,e,i){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,o){var l,c=o.count,d=o.$attr.when&&a.attr(o.$attr.when),u=o.offset||0,g=s.$eval(d)||{},h={},m=e.startSymbol(),f=e.endSymbol(),v=m+c+"-"+u+f,b=y.noop;function $(t){a.text(t||"")}k(o,(function(t,e){var i=r.exec(e);if(i){var n=(i[1]?"-":"")+p(i[2]);g[n]=a.attr(o.$attr[e])}})),k(g,(function(t,i){h[i]=e(t.replace(n,v))})),s.$watch(c,(function(e){var n=parseFloat(e),r=T(n);if(r||n in g||(n=t.pluralCat(n-u)),!(n===l||r&&T(l))){b();var a=h[n];M(a)?(null!=e&&i.debug("ngPluralize: no rule defined for '"+n+"' in "+d),b=U,$()):b=s.$watch(a,$),l=n}}))}}}],fa=r("ngRef"),va=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,i){var n=ki(nt(e)),r=t(i.ngRef),s=r.assign||function(){throw fa("nonassign",'Expression in ngRef="{0}" is non-assignable!',i.ngRef)};return function(t,e,a){var o;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)o=e;else if(!(o=e.data("$"+a.ngRefRead+"Controller")))throw fa("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,i.ngRef)}else o=e.data("$"+n+"Controller");s(t,o=o||e),e.on("$destroy",(function(){r(t)===o&&s(t,null)}))}}}}],ba=["$parse","$animate","$compile",function(t,e,i){var n="$$NG_REMOVED",s=r("ngRepeat"),a=function(t,e,i,n,r,s,a){t[i]=n,r&&(t[r]=s),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},o=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]},c=function(t,e,i){return ze(i)},d=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var g=p.ngRepeat,h=i.$$createComment("end ngRepeat",g),m=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",g);var f=m[1],v=m[2],b=m[3],$=m[4];if(!(m=f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);var y,w=m[3]||m[1],C=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);if($){var S={$id:ze},x=t($);y=function(t,e,i,n){return C&&(S[C]=e),S[w]=i,S.$index=n,x(t,S)}}return function(t,i,r,p,m){var f=Nt();t.$watchCollection(v,(function(r){var p,v,$,x,A,P,I,O,E,T,L,U,q=i[0],R=Nt();if(b&&(t[b]=r),_(r))E=r,O=y||c;else for(var F in O=y||d,E=[],r)u.call(r,F)&&"$"!==F.charAt(0)&&E.push(F);for(x=E.length,L=new Array(x),p=0;p<x;p++)if(A=r===E?p:E[p],P=r[A],I=O(t,A,P,p),f[I])T=f[I],delete f[I],R[I]=T,L[p]=T;else{if(R[I])throw k(L,(function(t){t&&t.scope&&(f[t.id]=t)})),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",g,I,P);L[p]={id:I,scope:void 0,clone:void 0},R[I]=!0}for(var M in S&&(S[w]=void 0),f){if(U=Mt((T=f[M]).clone),e.leave(U),U[0].parentNode)for(p=0,v=U.length;p<v;p++)U[p][n]=!0;T.scope.$destroy()}for(p=0;p<x;p++)if(A=r===E?p:E[p],P=r[A],(T=L[p]).scope){$=q;do{$=$.nextSibling}while($&&$[n]);o(T)!==$&&e.move(Mt(T.clone),null,q),q=l(T),a(T.scope,p,w,P,C,A,x)}else m((function(t,i){T.scope=i;var n=h.cloneNode(!1);t[t.length++]=n,e.enter(t,null,q),q=n,T.clone=t,R[T.id]=T,a(T.scope,p,w,P,C,A,x)}));f=R}))}}}}],$a="ng-hide",ya="ng-hide-animate",wa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,n){e.$watch(n.ngShow,(function(e){t[e?"removeClass":"addClass"](i,$a,{tempClasses:ya})}))}}}],_a=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,n){e.$watch(n.ngHide,(function(e){t[e?"addClass":"removeClass"](i,$a,{tempClasses:ya})}))}}}],ka=Hr((function(t,e,i){t.$watchCollection(i.ngStyle,(function(t,i){i&&t!==i&&k(i,(function(t,i){e.css(i,"")})),t&&e.css(t)}))})),Ca=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,r,s){var a=r.ngSwitch||r.on,o=[],l=[],c=[],d=[],u=function(t,e){return function(i){!1!==i&&t.splice(e,1)}};i.$watch(a,(function(i){for(var n,r;c.length;)t.cancel(c.pop());for(n=0,r=d.length;n<r;++n){var a=Mt(l[n].clone);d[n].$destroy(),(c[n]=t.leave(a)).done(u(c,n))}l.length=0,d.length=0,(o=s.cases["!"+i]||s.cases["?"])&&k(o,(function(i){i.transclude((function(n,r){d.push(r);var s=i.element;n[n.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:n};l.push(a),t.enter(n,s.parent(),s)}))}))}))}}}],Sa=Hr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,n,r){var s=i.ngSwitchWhen.split(i.ngSwitchWhenSeparator).sort().filter((function(t,e,i){return i[e-1]!==t}));k(s,(function(t){n.cases["!"+t]=n.cases["!"+t]||[],n.cases["!"+t].push({transclude:r,element:e})}))}}),xa=Hr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,n,r){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:r,element:e})}}),Aa=r("ngTransclude"),Pa=["$compile",function(t){return{restrict:"EAC",compile:function(e){var i=t(e.contents());return e.empty(),function(t,e,n,r,s){if(!s)throw Aa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",wt(e));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude="");var a=n.ngTransclude||n.ngTranscludeSlot;function o(){i(t,(function(t){e.append(t)}))}s((function(t,i){t.length&&function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n.nodeType!==zt||n.nodeValue.trim())return!0}}(t)?e.append(t):(o(),i.$destroy())}),null,a),a&&!s.isSlotFilled(a)&&o()}}}}],Ia=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,i){if("text/ng-template"===i.type){var n=i.id,r=e[0].text;t.put(n,r)}}}}],Oa={$setViewValue:U,$render:U};function Ea(t,e){t.prop("selected",e),t.attr("selected",e)}var Ta=["$element","$scope",function(e,i){var n=this,r=new He;n.selectValueMap={},n.ngModelCtrl=Oa,n.multiple=!1,n.unknownOption=a(t.document.createElement("option")),n.hasEmptyOption=!1,n.emptyOption=void 0,n.renderUnknownOption=function(t){var i=n.generateUnknownOptionValue(t);n.unknownOption.val(i),e.prepend(n.unknownOption),Ea(n.unknownOption,!0),e.val(i)},n.updateUnknownOption=function(t){var i=n.generateUnknownOptionValue(t);n.unknownOption.val(i),Ea(n.unknownOption,!0),e.val(i)},n.generateUnknownOptionValue=function(t){return"? "+ze(t)+" ?"},n.removeUnknownOption=function(){n.unknownOption.parent()&&n.unknownOption.remove()},n.selectEmptyOption=function(){n.emptyOption&&(e.val(""),Ea(n.emptyOption,!0))},n.unselectEmptyOption=function(){n.hasEmptyOption&&Ea(n.emptyOption,!1)},i.$on("$destroy",(function(){n.renderUnknownOption=U})),n.readValue=function(){var t=e.val(),i=t in n.selectValueMap?n.selectValueMap[t]:t;return n.hasOption(i)?i:null},n.writeValue=function(t){var i=e[0].options[e[0].selectedIndex];if(i&&Ea(a(i),!1),n.hasOption(t)){n.removeUnknownOption();var r=ze(t);e.val(r in n.selectValueMap?r:t);var s=e[0].options[e[0].selectedIndex];Ea(a(s),!0)}else n.selectUnknownOrEmptyOption(t)},n.addOption=function(t,e){if(e[0].nodeType!==Vt){Ft(t,'"option value"'),""===t&&(n.hasEmptyOption=!0,n.emptyOption=e);var i=r.get(t)||0;r.set(t,i+1),o()}},n.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.delete(t),""===t&&(n.hasEmptyOption=!1,n.emptyOption=void 0)):r.set(t,e-1))},n.hasOption=function(t){return!!r.get(t)},n.$hasEmptyOption=function(){return n.hasEmptyOption},n.$isUnknownOptionSelected=function(){return e[0].options[0]===n.unknownOption[0]},n.$isEmptyOptionSelected=function(){return n.hasEmptyOption&&e[0].options[e[0].selectedIndex]===n.emptyOption[0]},n.selectUnknownOrEmptyOption=function(t){null==t&&n.emptyOption?(n.removeUnknownOption(),n.selectEmptyOption()):n.unknownOption.parent().length?n.updateUnknownOption(t):n.renderUnknownOption(t)};var s=!1;function o(){s||(s=!0,i.$$postDigest((function(){s=!1,n.ngModelCtrl.$render()})))}var l=!1;function c(t){l||(l=!0,i.$$postDigest((function(){i.$$destroyed||(l=!1,n.ngModelCtrl.$setViewValue(n.readValue()),t&&n.ngModelCtrl.$render())})))}n.registerOption=function(t,e,i,r,s){var a,l;i.$attr.ngValue?i.$observe("value",(function(t){var i,r=e.prop("selected");N(l)&&(n.removeOption(a),delete n.selectValueMap[l],i=!0),l=ze(t),a=t,n.selectValueMap[l]=t,n.addOption(t,e),e.attr("value",l),i&&r&&c()})):r?i.$observe("value",(function(t){var i;n.readValue();var r=e.prop("selected");N(a)&&(n.removeOption(a),i=!0),a=t,n.addOption(t,e),i&&r&&c()})):s?t.$watch(s,(function(t,r){i.$set("value",t);var s=e.prop("selected");r!==t&&n.removeOption(r),n.addOption(t,e),r&&s&&c()})):n.addOption(i.value,e),i.$observe("disabled",(function(t){("true"===t||t&&e.prop("selected"))&&(n.multiple?c(!0):(n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$render()))})),e.on("$destroy",(function(){var t=n.readValue(),e=i.value;n.removeOption(e),o(),(n.multiple&&t&&-1!==t.indexOf(e)||t===e)&&c(!0)}))}}],La=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ta,priority:1,link:{pre:function(t,e,i,n){var r=n[0],s=n[1];if(s){if(r.ngModelCtrl=s,e.on("change",(function(){r.removeUnknownOption(),t.$apply((function(){s.$setViewValue(r.readValue())}))})),i.multiple){r.multiple=!0,r.readValue=function(){var t=[];return k(e.find("option"),(function(e){if(e.selected&&!e.disabled){var i=e.value;t.push(i in r.selectValueMap?r.selectValueMap[i]:i)}})),t},r.writeValue=function(t){k(e.find("option"),(function(e){var i=!!t&&(rt(t,e.value)||rt(t,r.selectValueMap[e.value]));i!==e.selected&&Ea(a(e),i)}))};var o,l=NaN;t.$watch((function(){l!==s.$viewValue||lt(o,s.$viewValue)||(o=Gt(s.$viewValue),s.$render()),l=s.$viewValue})),s.$isEmpty=function(t){return!t||0===t.length}}}else r.registerOption=U},post:function(t,e,i,n){var r=n[1];if(r){var s=n[0];r.$render=function(){s.writeValue(r.$viewValue)}}}}}},Ua=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,i){var n,r;return N(i.ngValue)||(N(i.value)?n=t(i.value,!0):(r=t(e.text(),!0))||i.$set("value",e.text())),function(t,e,i){var s="$selectController",a=e.parent(),o=a.data(s)||a.parent().data(s);o&&o.registerOption(t,e,i,n,r)}}}}],qa=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,n,r){if(r){var s=n.hasOwnProperty("required")||t(n.ngRequired)(e);n.ngRequired||(n.required=!0),r.$validators.required=function(t,e){return!s||!r.$isEmpty(e)},n.$observe("required",(function(t){s!==t&&(s=t,r.$validate())}))}}}}],Ra=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,i){var n,r;return i.ngPattern&&(n=i.ngPattern,r="/"===i.ngPattern.charAt(0)&&c.test(i.ngPattern)?function(){return i.ngPattern}:t(i.ngPattern)),function(t,e,i,s){if(s){var a=i.pattern;i.ngPattern?a=r(t):n=i.pattern;var o=Na(a,n,e);i.$observe("pattern",(function(t){var i=o;o=Na(t,n,e),(i&&i.toString())!==(o&&o.toString())&&s.$validate()})),s.$validators.pattern=function(t,e){return s.$isEmpty(e)||M(o)||o.test(e)}}}}}}],Fa=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,n,r){if(r){var s=n.maxlength||t(n.ngMaxlength)(e),a=Da(s);n.$observe("maxlength",(function(t){s!==t&&(a=Da(t),s=t,r.$validate())})),r.$validators.maxlength=function(t,e){return a<0||r.$isEmpty(e)||e.length<=a}}}}}],Ma=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,n,r){if(r){var s=n.minlength||t(n.ngMinlength)(e),a=Da(s)||-1;n.$observe("minlength",(function(t){s!==t&&(a=Da(t)||-1,s=t,r.$validate())})),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=a}}}}}];function Na(t,e,i){if(t){if(z(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,wt(i));return t}}function Da(t){var e=E(t);return T(e)?-1:e}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var e;if(!Lt){var i=dt();(o=M(i)?t.jQuery:i?t[i]:void 0)&&o.fn.on?(a=o,I(o.fn,{scope:Ue.scope,isolateScope:Ue.isolateScope,controller:Ue.controller,injector:Ue.injector,inheritedData:Ue.inheritedData})):a=fe,e=a.cleanData,a.cleanData=function(t){for(var i,n,r=0;null!=(n=t[r]);r++)(i=(a._data(n)||{}).events)&&i.$destroy&&a(n).triggerHandler("$destroy");e(t)},y.element=a,Lt=!0}}(),function(e){I(e,{errorHandlingConfig:i,bootstrap:Pt,copy:at,extend:I,merge:O,equals:lt,element:a,forEach:k,injector:ei,noop:U,bind:gt,toJson:mt,fromJson:ft,identity:q,isUndefined:M,isDefined:N,isString:z,isFunction:W,isObject:D,isNumber:V,isElement:it,isArray:H,version:Qt,isDate:B,callbacks:{$$counter:0},getTestability:Ot,reloadWithDebugInfo:It,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ut,$$minErr:r,$$csp:ct,$$encodeUriSegment:Ct,$$encodeUriQuery:St,$$lowercase:p,$$stringify:Dt,$$uppercase:g}),l=function(t){var e=r("$injector"),i=r("ng");function n(t,e,i){return t[e]||(t[e]=i())}var s=n(t,"angular",Object);return s.$$minErr=s.$$minErr||r,n(s,"module",(function(){var t={};return function(r,s,a){var o={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name","module")}(r),s&&t.hasOwnProperty(r)&&(t[r]=null),n(t,r,(function(){if(!s)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],n=[],l=[],c=u("$injector","invoke","push",n),d={_invokeQueue:t,_configBlocks:n,_runBlocks:l,info:function(t){if(N(t)){if(!D(t))throw i("aobj","Argument '{0}' must be an object","value");return o=t,this}return o},requires:s,name:r,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:u("$provide","value"),constant:u("$provide","constant","unshift"),decorator:p("$provide","decorator",n),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:c,run:function(t){return l.push(t),this}};return a&&c(a),d;function u(e,i,n,r){return r||(r=t),function(){return r[n||"push"]([e,i,arguments]),d}}function p(e,i,n){return n||(n=t),function(t,s){return s&&W(s)&&(s.$$moduleName=r),n.push([e,i,arguments]),d}}}))}}))}(t),l("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Qn}),t.provider("$compile",$i).directive({a:Gr,input:As,textarea:As,form:Xr,script:Ia,select:La,option:Ua,ngBind:Es,ngBindHtml:Ls,ngBindTemplate:Ts,ngClass:Rs,ngClassEven:Ms,ngClassOdd:Fs,ngCloak:Ns,ngController:Ds,ngForm:ts,ngHide:_a,ngIf:Bs,ngInclude:Hs,ngInit:Ws,ngNonBindable:ua,ngPluralize:ma,ngRef:va,ngRepeat:ba,ngShow:wa,ngStyle:ka,ngSwitch:Ca,ngSwitchWhen:Sa,ngSwitchDefault:xa,ngOptions:ha,ngTransclude:Pa,ngModel:aa,ngList:Qs,ngChange:Us,pattern:Ra,ngPattern:Ra,required:qa,ngRequired:qa,minlength:Ma,ngMinlength:Ma,maxlength:Fa,ngMaxlength:Fa,ngValue:Os,ngModelOptions:ca}).directive({ngInclude:Gs,input:Ps}).directive(Wr).directive(js),t.provider({$anchorScroll:ii,$animate:ci,$animateCss:pi,$$animateJs:oi,$$animateQueue:li,$$AnimateRunner:ui,$$animateAsyncRun:di,$browser:hi,$cacheFactory:mi,$controller:Ii,$document:Oi,$$isDocumentHidden:Ei,$exceptionHandler:Ti,$filter:$r,$$forceReflow:Li,$interpolate:Zi,$interval:tn,$$intervalFactory:en,$http:Qi,$httpParamSerializer:ji,$httpParamSerializerJQLike:zi,$httpBackend:Yi,$xhrFactory:Ki,$jsonpCallbacks:nn,$location:$n,$log:yn,$parse:Nn,$rootScope:Wn,$q:Dn,$$q:jn,$sce:er,$sceDelegate:tr,$sniffer:ir,$$taskTrackerFactory:nr,$templateCache:fi,$templateRequest:ar,$$testability:or,$timeout:cr,$window:fr,$$rAF:Gn,$$jqLite:je,$$Map:Ge,$$cookieReader:br})}]).info({angularVersion:"1.8.3"})}(y),y.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,n=function(t,e){var i=e;void 0===i&&(i=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var n=Math.pow(10,i);return{v:i,f:(t*n|0)%n}}(t,e);return 1==i&&0==n.v?"one":"other"}})}]),a((function(){!function(e,i){var n,r,s={};if(k(xt,(function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))})),k(xt,(function(t){var i,s=t+"app";!n&&(i=e.querySelector("["+s.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(s))})),n){if(!At)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");s.strictDi=null!==function(t,e){var i,n,r=xt.length;for(n=0;n<r;++n)if(i=xt[n]+"strict-di",z(i=t.getAttribute(i)))return i;return null}(n),i(n,r?[r]:[],s)}}(t.document,Pt)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},6695:(t,e,i)=>{i(4426),t.exports=angular},198:()=>{!function(){"use strict";function t(t){const e=this;e.close=function(t,i){t.preventDefault(),e.list.splice(i,1)},e.list=t.list}angular.module("vfApp").component("alertList",{controller:t,template:"\n        <div ng-repeat=\"alert in $ctrl.list track by $index\"\n            ng-if=\"alert.msg\"\n            ng-class=\"['alert alert-dismissible fade show', {\n                'alert-warning': alert.type === 'warning',\n                'alert-danger': alert.type === 'danger',\n                'alert-info': alert.type === 'info',\n                'alert-success': alert.type === 'success',\n                'alert-secondary':\n                    alert.type !== 'warning' &&\n                    alert.type !== 'danger' &&\n                    alert.type !== 'info' &&\n                    alert.type !== 'success',\n            }]\">\n            {{ alert.msg }}\n\t\t\t<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n        </div>\n    "}),t.$inject=["Alerts"]}()},5014:()=>{!function(){"use strict";angular.module("vfApp").component("bsBreadcrumb",{bindings:{breadcrumb:"<"},template:'\n\t\t<nav aria-label="breadcrumb">\n\t\t\t<ol class="breadcrumb p-2 bg-light rounded">\n\t\t\t\t<li aria-current="page"\n\t\t\t\t\tng-repeat="item in $ctrl.breadcrumb track by $index"\n\t\t\t\t\tng-class="[\'breadcrumb-item\', { \'active\':$last }]">\n\t\t\t\t\t<a ng-if="!$last" ng-href="{{ item.link }}">\n\t\t\t\t\t\t{{ item.title }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<span ng-if="$last">\n\t\t\t\t\t\t{{ item.title }}\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ol>\n\t\t</nav>\n\t'})}()},9759:()=>{!function(){"use strict";angular.module("vfApp").component("bsSpinner",{template:'\n        <div class="d-flex justify-content-center">\n            <div class="spinner-border" role="status">\n                <span class="visually-hidden">Loading...</span>\n            </div>\n        </div>\n\t'})}()},743:()=>{!function(){"use strict";function t(t,e,i,n){e.cartQty=0,e.currentYear=new Date,e.loadingText="Let me grab that...",e.punchoutOnly=t.get("vf.user.punchoutOnly"),e.user=i,this.$onInit=function(){n.urlParser.param("auth_token")&&(t.put("vf.auth.token",n.urlParser.param("auth_token")),i.loadCustomer().then((function(){window.location.assign(n.getPageUrl("catalog"))}))),"cc-return"===window.location.pathname.split("/")[1]?e.isCCReturn=!0:e.isCCReturn=!1,i.isAuthed||(t.get("vf.user.defaultBillingProfile")&&t.remove("vf.user.defaultBillingProfile"),t.get("vf.user.defaultShippingProfile")&&t.remove("vf.user.defaultShippingProfile"))}}angular.module("vfApp").component("vfHelper",{controller:t}),t.$inject=["$cookies","$rootScope","User","Utils"]}()},510:()=>{!function(){"use strict";function t(t,e){const i=this;function n(){i.product.favorite=!i.product.favorite,i.isInProgress=!1}i.$onInit=function(){i.isLoggedIn=!(!e.isAuthed||!e.email),i.isInProgress=!1},i.onClickFavorite=function(e){i.isInProgress=!0,i.product.favorite?t.remove(e).then((function(){n()})):t.add(e).then((function(){n()}))}}angular.module("vfApp").component("productListItemFavoriteButton",{bindings:{product:"<"},controller:t,template:'\n\t<button class="btn btn-link px-2 me-1"\n\t\tng-if="$ctrl.isLoggedIn"\n\t\tng-click="$ctrl.onClickFavorite($ctrl.product[\'product_id\'])">\n\t\t<i ng-class="[\'bi\',\n\t\t\t{\'bi-heart\': !$ctrl.product.favorite,\n\t\t\t\'bi-heart-fill\': $ctrl.product.favorite}]"\n\t\t\tng-hide="$ctrl.isInProgress"></i>\n\t\t<span class="visually-hidden">\n\t\t\t{{ $ctrl.product.favorite ? \'Remove from\' : \'Add to\' }} Favorites\n\t\t</span>\n\t\t<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"\n\t\t\tng-show="$ctrl.isInProgress"></span>\n\t</button>\n\t'}),t.$inject=["Favorites","User"]}()},2559:()=>{!function(){"use strict";angular.module("vfApp").component("productListItemImage",{bindings:{imageTitle:"<",imageSrc:"<"},controller:function(){this.imgPlaceholder="/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png"},template:'\n\t<div class="ratio ratio-1x1">\n\t\t<img class="card-img-top lazy" loading="lazy" style="object-fit:contain;" alt=""\n\t\t\tng-src="{{ $ctrl.imageSrc ? $ctrl.imageSrc : $ctrl.imgPlaceholder }}">\n\t</div>\n\t'})}()},82:()=>{!function(){"use strict";function t(t){const e=this;e.numResults=0,e.productSlug=localized.settings.general.product_slug||"products",e.submit=function(i){e.isInProgress=!0;const n={q:i};t.list(n).then((t=>{e.products=t.data.product_briefs.map((t=>{return{url:`/${e.productSlug}/${t.slug}`,name:t.description,price:t.price,sku:t.sku,uom:t.uom,imageUrl:(i=t.images,i&&0!==i.length?Object.values(i)[0].thumb_url:"/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png")};var i})),e.numResults=t.data.num_results})).catch((t=>{console.error(t)})).finally((function(){e.isInProgress=!1}))}}angular.module("vfApp").component("vfSearch",{controller:t,templateUrl:"vfSearch.html"}),t.$inject=["Products"]}()},7149:()=>{!function(){"use strict";angular.module("vfApp").component("vfSpinner",{bindings:{size:"@?",text:"@?"},template:'\n\t\t\x3c!-- wp:spacer {"height":30} --\x3e\n\t\t<div style="height:30px" aria-hidden="true" class="wp-block-spacer"\n\t\t\tng-if="$ctrl.size !== \'sm\'"></div>\n\t\t\x3c!-- /wp:spacer --\x3e\n\t\t<div class="d-flex align-items-center"\n\t\t\tng-if="$ctrl.text">\n\t\t\t<strong>{{ $ctrl.text }}&hellip;</strong>\n\t\t\t<div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>\n\t\t</div>\n\t\t<div class="d-flex justify-content-center"\n\t\t\tng-if="$ctrl.size !== \'sm\' && !$ctrl.text">\n\t\t\t<div class="spinner-border" role="status">\n\t\t\t\t<span class="visually-hidden">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="vertical-align:middle"\n\t\t\tng-if="$ctrl.size === \'sm\'">\n\t\t</span>\n\t\t\x3c!-- wp:spacer {"height":30} --\x3e\n\t\t<div style="height:30px" aria-hidden="true" class="wp-block-spacer"\n\t\t\tng-if="$ctrl.size !== \'sm\'"></div>\n\t\t\x3c!-- /wp:spacer --\x3e\n\t\t'})}()},8110:()=>{!function(){"use strict";angular.module("vfApp").filter("tel",(function(){return function(t){if(!t)return"";const e=t.toString().trim().replace("/^+/","");if(e.match(/[^0-9]/))return t;let i,n,r;switch(e.length){case 1:case 2:case 3:n=e;break;default:11===e.length?(i=e.slice(0,1),n=e.slice(1,4),r=e.slice(4)):(n=e.slice(0,3),r=e.slice(3))}return r&&11===e.length?(i="1",r=r.slice(0,3)+"-"+r.slice(3,7),(i+" ("+n+") "+r).trim()):r?(r.length>3&&(r=r.slice(0,3)+"-"+r.slice(3,7)),("("+n+") "+r).trim()):"("+n}}))}()},6045:()=>{!function(){"use strict";angular.module("vfApp").constant("usStates",{AL:{name:"Alabama",id:"AL"},AK:{name:"Alaska",id:"AK"},AS:{name:"American Samoa",id:"AS"},AZ:{name:"Arizona",id:"AZ"},AR:{name:"Arkansas",id:"AR"},CA:{name:"California",id:"CA"},CO:{name:"Colorado",id:"CO"},CT:{name:"Connecticut",id:"CT"},DE:{name:"Delaware",id:"DE"},DC:{name:"District Of Columbia",id:"DC"},FM:{name:"Federated States Of Micronesia",id:"FM"},FL:{name:"Florida",id:"FL"},GA:{name:"Georgia",id:"GA"},GU:{name:"Guam",id:"GU"},HI:{name:"Hawaii",id:"HI"},ID:{name:"Idaho",id:"ID"},IL:{name:"Illinois",id:"IL"},IN:{name:"Indiana",id:"IN"},IA:{name:"Iowa",id:"IA"},KS:{name:"Kansas",id:"KS"},KY:{name:"Kentucky",id:"KY"},LA:{name:"Louisiana",id:"LA"},ME:{name:"Maine",id:"ME"},MH:{name:"Marshall Islands",id:"MH"},MD:{name:"Maryland",id:"MD"},MA:{name:"Massachusetts",id:"MA"},MI:{name:"Michigan",id:"MI"},MN:{name:"Minnesota",id:"MN"},MS:{name:"Mississippi",id:"MS"},MO:{name:"Missouri",id:"MO"},MT:{name:"Montana",id:"MT"},NE:{name:"Nebraska",id:"NE"},NV:{name:"Nevada",id:"NV"},NH:{name:"New Hampshire",id:"NH"},NJ:{name:"New Jersey",id:"NJ"},NM:{name:"New Mexico",id:"NM"},NY:{name:"New York",id:"NY"},NC:{name:"North Carolina",id:"NC"},ND:{name:"North Dakota",id:"ND"},MP:{name:"Northern Mariana Islands",id:"MP"},OH:{name:"Ohio",id:"OH"},OK:{name:"Oklahoma",id:"OK"},OR:{name:"Oregon",id:"OR"},PW:{name:"Palau",id:"PW"},PA:{name:"Pennsylvania",id:"PA"},PR:{name:"Puerto Rico",id:"PR"},RI:{name:"Rhode Island",id:"RI"},SC:{name:"South Carolina",id:"SC"},SD:{name:"South Dakota",id:"SD"},TN:{name:"Tennessee",id:"TN"},TX:{name:"Texas",id:"TX"},UT:{name:"Utah",id:"UT"},VT:{name:"Vermont",id:"VT"},VI:{name:"Virgin Islands",id:"VI"},VA:{name:"Virginia",id:"VA"},WA:{name:"Washington",id:"WA"},WV:{name:"West Virginia",id:"WV"},WI:{name:"Wisconsin",id:"WI"},WY:{name:"Wyoming",id:"WY"}})}()},8852:(t,e,i)=>{!function(){"use strict";const t=i(1126).Z;angular.module("vfApp").component("wpLatestComments",{bindings:{comments:"<"},controller:function(){const t=this;t.ratingTotal=5,t.getRepeater=function(){return new Array(t.ratingTotal)}},template:t})}()},2920:(t,e,i)=>{!function(){"use strict";const t=i(8213).Z;angular.module("vfApp").component("wpSpacer",{bindings:{heightInPixels:"<?"},controller:function(){const t=this;t.$onInit=function(){t.heightInPixels=t.heightInPixels||100}},template:t})}()},6550:()=>{!function(){"use strict";function t(t){const e=this;e.$onInit=function(){!function(){e.isLoading=!0;const{collectionId:i}=e,n=localized.settings.general.product_slug||"products",r={col_id:i,rpp:100};t.viewCollection(r).then((t=>{e.products=t.collection.products.data.map((t=>({imgSrc:t.image?t.image.small_url:"/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png",name:t.description,price:t.price,uomDesc:t.uomdesc,uomQty:t.uomqty,url:`/${n}/${t.slug}`}))),e.slides=function(t){const e=[],i=Math.ceil(t.length/4),n=t;for(let t=0;t<i;t++){const t=n.slice(0,4);e.push(t),n.splice(0,4)}return e}(e.products),e.isLoading=!1}))}()}}angular.module("vfApp").component("collectionCarousel",{bindings:{collectionId:"<"},templateUrl:"collectionCarousel.html",controller:t}),t.$inject=["Collections"]}()},7613:()=>{!function(){"use strict";angular.module("vfApp").component("collectionCategoryListItem",{bindings:{category:"<"},controller:function(){this.imgPlaceholder="/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png",this.catSlug=localized.settings.general.cat_slug||"categories"},templateUrl:"collectionCategoryListItem.html"})}()},6660:()=>{!function(){"use strict";angular.module("vfApp").component("collectionCategoryList",{bindings:{categories:"<"},controller:function(){const t=this;t.isShowingCategories=!1,t.onClickToggle=function(){jQuery("#collectionCategories").collapse("toggle"),t.isShowingCategories=!t.isShowingCategories}},templateUrl:"collectionCategoryList.html"})}()},2172:()=>{!function(){"use strict";function t(t,e){const i=this;function n(){i.product.favorite=!i.product.favorite,i.isInProgress=!1}i.isLoggedIn=!(!e.isAuthed||!e.email),i.onClickFavorite=function(e){i.isInProgress=!0,i.product.favorite?t.remove(e).then((function(){n()})):t.add(e).then((function(){n()}))},i.isInProgress=!1}angular.module("vfApp").component("collectionFavoriteButton",{bindings:{product:"<"},controller:t,templateUrl:"collectionFavoriteButton.html"}),t.$inject=["Favorites","User"]}()},5965:()=>{!function(){"use strict";angular.module("vfApp").component("collectionGalleryItem",{bindings:{item:"<"},controller:function(){const t=localized.settings.general.product_slug||"products",e=this;e.$onInit=function(){e.imageSmall=e.item.image.small_url,e.imageThumb=e.item.image.thumb_url,e.title=e.item.description,e.url=`/${t}/${e.item.slug}`}},templateUrl:"collectionGalleryItem.html"})}()},5702:()=>{!function(){"use strict";function t(t,e){const i=this;i.$onInit=function(){if(i.collectionId){const{collectionId:n}=i;!function(n){const r={col_id:n,rpp:16};e.viewCollection(r).then((e=>{e.errors.length?e.errors.forEach((e=>t.errors(e))):(i.collection=e.collection,i.products=e.collection.products.data.filter((t=>t.image)))})).catch((t=>{console.error(t)})).finally((function(){i.isLoading=!1}))}(n)}},i.isLoading=!0}angular.module("vfApp").component("vfCollectionGallery",{bindings:{collectionId:"<"},controller:t,templateUrl:"vfCollectionGallery.html"}),t.$inject=["Alerts","Collections"]}()},7002:()=>{!function(){"use strict";angular.module("vfApp").component("collectionImage",{bindings:{imageTitle:"<",imageSrc:"<"},controller:function(){this.imgPlaceholder="/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png"},templateUrl:"collectionImage.html"})}()},1264:()=>{!function(){"use strict";function t(t){const e=this;e.changePage=function(i,n){n&&n.preventDefault(),t.search("pg",i),e.onChange({page:i})}}angular.module("vfApp").component("collectionPagination",{bindings:{data:"<",onChange:"&"},controller:t,templateUrl:"collectionPagination.html"}),t.$inject=["$location"]}()},9844:()=>{!function(){"use strict";function t(t,e){const i=this;i.getAvailableQty=function(t){const{available_qty:e,cart_qty:i}=t;if(Number.isInteger(e))return e-i>=0?e-i:0},i.hasDisabledGuests=localized.settings.store.options["Disable Guests"],i.isAddingToCart=!1,i.isSignedIn=e.isAuthed&&e.email,i.onClickAdd=function(e){i.isAddingToCart=!0,t.add(e,1).then((function(){i.product.cart_qty?i.product.cart_qty=i.product.cart_qty+1:i.product.cart_qty=1,i.product.available_qty&&(i.product.available_qty=i.product.available_qty-1)})).finally((function(){i.isAddingToCart=!1}))},i.productSlug=localized.settings.general.product_slug||"products"}angular.module("vfApp").component("collectionProductListItem",{bindings:{product:"<",viewAs:"<"},controller:t,templateUrl:"collectionProductListItem.html"}),t.$inject=["Cart","User"]}()},3124:()=>{!function(){"use strict";angular.module("vfApp").component("collectionProductList",{bindings:{products:"<"},controller:function(){this.viewAs="grid"},templateUrl:"collectionProductList.html"})}()},4643:()=>{!function(){"use strict";function t(t,e,i){const n=this;function r(){n.isLoading=!0,i.viewCollection(n.params).then((e=>{e.collection.products.current_page>e.collection.products.last_page?(n.params.page=e.collection.products.last_page,t.search("pg",n.params.page),r()):(n.title=e.collection.name,n.collection=e.collection,n.description=e.collection.description,n.categories=e.collection_categories,n.products=e.collection.products.data,n.isLoading=!1)})).catch((t=>{console.error(t)}))}n.$onInit=function(){Number.isInteger(Number(t.search().pg))||t.search("pg",null),n.params={col_id:n.collectionId,page:Number(t.search().pg)>0?t.search().pg:1,rpp:16},Number.isInteger(Number(n.collectionId))?(r(),jQuery("#collectionCategories").collapse()):(e.warning("Invalid or missing collection ID."),n.isLoading=!1)},n.changePage=function(t){n.params.page=t,r()}}angular.module("vfApp").component("vfCollection",{templateUrl:"vfCollection.html",bindings:{collectionId:"<"},controller:t}),t.$inject=["$location","Alerts","Collections"]}()},7323:()=>{!function(){"use strict";function t(t,e,i){e.isAuthed&&!0===t.punchoutOnly&&!e.isGuest?i.goToPage(i.getPageUrl("welcome")):i.goToPage(i.getPageUrl("catalog"))}angular.module("vfApp").component("vfHome",{controller:t}),t.$inject=["$rootScope","User","Utils"]}()},8081:()=>{!function(){"use strict";function t(t,e,i,n){const r=this;r.$onInit=function(){r.productId&&Number.isInteger(Number(r.productId))?function(){const t={product_id:r.productId};e.get(t).$promise.then((t=>{var e;0===t.errors.length?(r.brandName=function(t){return t.brand_name?t.brand_name:t.manufacturer}(t),r.brandLink=function(t){const e=n.getPageUrl("catalog");return t.brand_name?`${e}?brand_name=${t.brand_name}`:`${e}?manufacturer=${t.manufacturer}`}(t),r.price=t.price,r.product=t,r.isFavorite=r.product.favorite||!1,r.url=`/${r.productSlug}/${r.product.slug}`,r.imageSrc=(e=t.images,Object.values(e).length?Object.values(e)[0].small_url:"/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png")):t.errors.forEach((t=>r.errors.push(t)))})).catch((t=>{console.error("reject",t)})).finally((function(){r.isLoading=!1}))}():(r.errors.push("Missing or invalid product ID in shortcode."),r.isLoading=!1)},r.errors=[],r.isAddingToCart=!1,r.isLoading=!0,r.isSignedIn=i.isAuthed&&!i.isGuest,r.onClickAddToCart=function(){const e=r.productId;r.isAddingToCart=!0,t.add(e,1).then((t=>t.data)).then((t=>{0===t.errors.length?(r.product.cart_qty+=1,r.isAddingToCart=!1):t.errors.forEach((t=>r.errors.push(t)))}),(t=>{r.isError=!0,console.error("Rejected:",t.data)}))},r.onClickFavorites=function(){const e={product_id:r.productId};i.isAuthed&&(r.isTogglingFavorite=!0,r.isFavorite?t.removeFavorite(e).then((()=>{r.isFavorite=!1,r.isTogglingFavorite=!1})):t.addFavorite(e).then((()=>{r.isFavorite=!0,r.isTogglingFavorite=!1})))},r.productSlug=localized.settings.general.product_slug||"products"}angular.module("vfApp").component("vfProductCard",{bindings:{productId:"<"},templateUrl:"vfProductCard.html",controller:t}),t.$inject=["Cart","Products","User","Utils"]}()},9935:()=>{function t(t){return t(`${localized.apiURL}/catalog/products/:productId/reviews`,{productId:"@id"})}angular.module("vfApp").factory("ProductReview",t),t.$inject=["$resource"]},4856:()=>{!function(){"use strict";function t(t,e){const i=this;i.$onInit=function(){i.pageUrls={cart:e.getPageUrl("cart")}},i.isAddingToCart=!1,i.updateQty=function(t){i.item.savedCartQty=t},i.onAddToCart=function(e,n){i.isAddingToCart=!0,t.add(e,n).then((t=>{0===t.data.errors.length?(i.item.cartQty=t.data.cart.items[e].qty,i.item.realAvailableQty=i.item.stockQty-i.item.cartQty,i.item.savedCartQty=i.item.savedCartQty>i.item.realAvailableQty?1:i.item.savedCartQty):i.errors=t.data.errors,i.isAddingToCart=!1})).finally((()=>{i.isAddingToCart=!1}))}}angular.module("vfApp").component("savedCartAddToCart",{templateUrl:"savedCartAddToCart.html",bindings:{item:"="},controller:t}),t.$inject=["Cart","Utils"]}()},6883:()=>{!function(){"use strict";function t(t,e){const i=this;i.title="Add to Favorites",i.onToggleFavorite=function(){i.isTogglingFavorite=!0;const n={product_id:i.productId};e.email?i.isFavorite?(i.title="Removing",t.removeFavorite(n).then((function(){i.isFavorite=!1,i.title="Add to Favorites",i.isTogglingFavorite=!1}))):(i.title="Adding to Favorites",t.addFavorite(n).then((function(){i.isFavorite=!0,i.title="Added to Favorites",i.isTogglingFavorite=!1}))):i.showPrompt=!0},i.isTogglingFavorite=!1}angular.module("vfApp").component("savedCartToggleFavorite",{templateUrl:"savedCartToggleFavorite.html",bindings:{productId:"<",isFavorite:"<"},controller:t}),t.$inject=["Cart","User"]}()},1126:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n='<ol class="wp-block-latest-comments has-dates has-excerpts ps-0"> <li class="wp-block-latest-comments__comment" ng-repeat="comment in $ctrl.comments track by comment.id"> <article> <i aria-hidden="true" ng-repeat="r in $ctrl.getRepeater() track by $index" ng-class="comment.rating >= ( $index + 1 ) ? \'bi-star-fill has-luminous-vivid-amber-color\' :\n                comment.rating >= ( $index + .5 ) ? \'bi-star-half has-luminous-vivid-amber-color\' :\n                \'bi-star\'\n                "> </i> <strong>{{ comment.title }}</strong> <footer class="wp-block-latest-comments__comment-meta"> <span class="wp-block-latest-comments__comment-author"> {{ comment.display_name }} </span> <time class="wp-block-latest-comments__comment-date"> {{ comment.created_at | date: \'mediumDate\' }} </time> </footer> <div class="wp-block-latest-comments__comment-excerpt"> <p>{{ comment.content }}</p> </div> </article> </li> </ol> '},8213:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=' <div aria-hidden="true" class="wp-block-spacer" ng-style="{\'height\': $ctrl.heightInPixels}"> </div> '}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};i.r(t),i.d(t,{afterMain:()=>It,afterRead:()=>xt,afterWrite:()=>Tt,applyStyles:()=>Nt,arrow:()=>se,auto:()=>ht,basePlacements:()=>mt,beforeMain:()=>At,beforeRead:()=>Ct,beforeWrite:()=>Ot,bottom:()=>ut,clippingParents:()=>bt,computeStyles:()=>ce,createPopper:()=>Me,createPopperBase:()=>Fe,createPopperLite:()=>Ne,detectOverflow:()=>Ce,end:()=>vt,eventListeners:()=>ue,flip:()=>Se,hide:()=>Pe,left:()=>gt,main:()=>Pt,modifierPhases:()=>Lt,offset:()=>Ie,placements:()=>kt,popper:()=>yt,popperGenerator:()=>Re,popperOffsets:()=>Oe,preventOverflow:()=>Ee,read:()=>St,reference:()=>wt,right:()=>pt,start:()=>ft,top:()=>dt,variationPlacements:()=>_t,viewport:()=>$t,write:()=>Et});var e=i(6695),n=i.n(e),r=i(7808),s=i.n(r),a=i(878),o=i.n(a),l=i(7131),c=i.n(l),d=(i(7385),i(105)),u=i.n(d);const p={controller:g,template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <div ng-if="$ctrl.isSignedIn"> <form name="form" class="needs-validation" novalidate ng-hide="$ctrl.isAccountCreated"> <div class="mb-3"> <label for="name" class="form-label">Name <small>(required)</small></label> <input type="text" class="form-control" autocomplete="off" id="name" name="name" autocomplete="name" required ng-model="$ctrl.account.name" ng-minlength="2" ng-pattern="$ctrl.formPatterns.name" ng-class="{\n\t\t\t\t\t\t\'is-valid\': form.name.$valid && form.name.$touched,\n\t\t\t\t\t\t\'is-invalid\': form.name.$invalid && form.name.$touched\n\t\t\t\t\t}"/> <p class="invalid-feedback">Please enter your name.</p> </div> <div class="mb-3"> <label for="email" class="form-label">Email</label> <input class="form-control" disabled="disabled" id="email" name="email" ng-model="$ctrl.account.email" type="email"/> <p class="form-text">Email addresses cannot be changed.</p> </div> <div class="mb-3"> <label for="company" class="form-label">Company/Organization</label> <input class="form-control" disabled="disabled" id="company" name="company" ng-model="$ctrl.account.company" type="text"/> <p class="form-text">Company/Organization cannot be changed.</p> </div> <div class="collapse" id="collapsePassword"> <div class="mb-3"> <label for="password" class="form-label">Password <small>(required)</small></label> <div class="input-group"> <input class="form-control" type="password" name="password" id="password" minlength="8" required autocomplete="new-password" aria-describedby="passwordHelp" ng-model="$ctrl.account.password" ng-attr-type="{{\n\t\t\t\t\t\t\t\t$ctrl.isShowingPassword ? \'text\' : \'password\'\n\t\t\t\t\t\t\t}}" ng-pattern="$ctrl.formPatterns.password" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\': form.password.$valid,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tform.password.$invalid &&\n\t\t\t\t\t\t\t\t\tform.password.$touched\n\t\t\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" ng-class="{ active: $ctrl.isShowingPassword }" ng-click="$ctrl.isShowingPassword = !$ctrl.isShowingPassword"> <i class="bi" ng-class="{\n\t\t\t\t\t\t\t\t\t\'bi-eye-fill\': $ctrl.isShowingPassword,\n\t\t\t\t\t\t\t\t\t\'bi-eye-slash-fill\':\n\t\t\t\t\t\t\t\t\t\t!$ctrl.isShowingPassword\n\t\t\t\t\t\t\t\t}"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(form.password) +\n\t\t\t\t\t\t\t\t\t\'%\'\n\t\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\t\'bg-success\': form.password.$valid,\n\t\t\t\t\t\t\t\t\'bg-warning\': form.password.$invalid,\n\t\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(form.password) <\n\t\t\t\t\t\t\t\t\t50\n\t\t\t\t\t\t\t}"></div> </div> <p id="passwordHelp" ng-class="[\n\t\t\t\t\t\t\t\'form-text small\',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\t\tform.password.$invalid &&\n\t\t\t\t\t\t\t\t\tform.password.$touched\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]"> {{ form.password.$valid ? \'Password valid.\' : \'Passwords must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, a special character (*,!,$, etc.) and a number.\' }} </p> </div> <div class="mb-3"> <label for="passwordConfirmation" class="form-label">Reenter Password <small>(required)</small></label> <div class="input-group"> <input class="form-control" type="password" name="passwordConfirmation" id="passwordConfirmation" required autocomplete="new-password" ng-model="$ctrl.account.passwordConfirmation" ng-attr-type="{{\n\t\t\t\t\t\t\t\t$ctrl.isShowingConfirmPassword\n\t\t\t\t\t\t\t\t\t? \'text\'\n\t\t\t\t\t\t\t\t\t: \'password\'\n\t\t\t\t\t\t\t}}" minlength="8" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$valid &&\n\t\t\t\t\t\t\t\t\t$ctrl.account.password ===\n\t\t\t\t\t\t\t\t\t\t$ctrl.account.passwordConfirmation,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t\t\t}" ng-pattern="$ctrl.formPatterns.password" spellcheck="false"/> <button class="btn btn-secondary" ng-class="{\n\t\t\t\t\t\t\t\tactive: $ctrl.isShowingConfirmPassword\n\t\t\t\t\t\t\t}" ng-click="$ctrl.isShowingConfirmPassword = !$ctrl.isShowingConfirmPassword"> <i class="bi" ng-class="{\n\t\t\t\t\t\t\t\t\t\'bi-eye-fill\':\n\t\t\t\t\t\t\t\t\t\t$ctrl.isShowingConfirmPassword,\n\t\t\t\t\t\t\t\t\t\'bi-eye-slash-fill\':\n\t\t\t\t\t\t\t\t\t\t!$ctrl.isShowingConfirmPassword\n\t\t\t\t\t\t\t\t}"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t\t) + \'%\'\n\t\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\t\'bg-success\': form.passwordConfirmation.$valid,\n\t\t\t\t\t\t\t\t\'bg-warning\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid ||\n\t\t\t\t\t\t\t\t\t$ctrl.account.password !==\n\t\t\t\t\t\t\t\t\t\t$ctrl.account.passwordConfirmation,\n\t\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t\t) < 50\n\t\t\t\t\t\t\t}"></div> </div> <p id="passwordConfirmationHelp" ng-class="[\n\t\t\t\t\t\t\t\'form-text small\',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]"> {{ form.passwordConfirmation.$valid && $ctrl.account.password === $ctrl.account.passwordConfirmation ? \'Your passwords match.\' : \'Please verify your password.\' }} </p> </div> </div> <div class="btn-toolbar justify-content-between"> <button class="btn btn-primary me-2" ng-click="$ctrl.onClickUpdate()" ng-disabled="form.$pristine"> {{ $ctrl.isUpdating ? \'Updating\' : \'Update\' }} </button> <button class="btn btn-secondary me-2" ng-hide="$ctrl.isShowingPasswordFields" ng-click="$ctrl.onClickChangePassword()"> Change Password </button> <a class="btn btn-link text-decoration-none" ng-href="{{ $ctrl.pageUrls.addresses }}"> View Saved Addresses </a> <button class="btn btn-link text-decoration-none ms-auto" ng-disabled="$ctrl.isSigningOut" ng-click="$ctrl.onClickSignOut()"> {{ $ctrl.isSigningOut ? \'Signing\' : \'Sign\' }} Out </button> </div> </form> </div> </layout-component> '};function g(t,e,i,n){const r=this;r.$onInit=function(){r.account={name:i.name||null,email:i.email||null,company:i.company||null},r.pageUrls={addresses:n.getPageUrl("addresses"),login:n.getPageUrl("login",{redirect_to:t.path()}),register:n.getPageUrl("register")}},r.alertsList=e.list,r.formPatterns={name:/^[a-zA-Z\u00C0-\u00FF ]{4,30}$/,password:/(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}/},r.getPasswordStrength=function(t){const e=t.$viewValue;let i=0;return e&&(e.length>0&&(i+=20),e.length>=8&&(i+=20),e.match(/[A-Z]+/)&&(i+=20),e.match(/\d+/)&&(i+=20),e.match(/[!@#$%^&*-]+/)&&(i+=20)),i},r.isSignedIn=i.isAuthed&&i.email,r.onClickSignOut=function(){r.isSigningOut=!0,i.logout().then((function(){window.location.href="/"}))},r.onClickUpdate=function(){r.isUpdating=!0;const t={name:r.account.name,email:r.account.email,company:r.account.company,password:r.account.password,password_confirmation:r.account.passwordConfirmation};i.updateInfo(t).then((function(){r.isUpdating=!1})).catch((t=>{console.error(t)}))},this.onClickChangePassword=()=>{this.isShowingPasswordFields=!0,jQuery("#collapsePassword").collapse("show")}}g.$inject=["$location","Alerts","User","Utils"];const h={template:'<div class="dropdown account-menu"> <button ng-class="[\'btn dropdown-toggle\', $ctrl.btnClass]" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false"> <i class="bi bi-person-circle" ng-hide="$ctrl.isSigningIn || $ctrl.isSigningOut"> </i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSigningIn || $ctrl.isSigningOut"></span> <span class="d-none d-md-inline ms-1"> <span ng-hide="$ctrl.isSigningIn || $ctrl.isSigningOut"> {{ $ctrl.isSignedIn ? \'Account\' : \'Sign In\' }} </span> <span ng-show="$ctrl.isSigningIn"> Signing In </span> <span ng-show="$ctrl.isSigningOut"> Signing Out </span> </span> </button> <div class="dropdown-menu dropdown-menu-end"> <div ng-if="$ctrl.isSignedIn"> <h6 class="dropdown-header">{{ \'Hello, \' + $ctrl.firstName }}</h6> <div ng-if="$ctrl.isPunchoutOnly"> <div class="dropdown-divider"></div> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.welcome }}"> <i class="bi bi-cart-fill me-1"></i> Place Order </a> </div> <div class="dropdown-divider"></div> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.account }}"> <i class="bi bi-person-circle me-1" aria-hidden="true"></i> Account </a> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.addresses }}"> <i class="bi bi-people-fill me-1" aria-hidden="true"></i> Address Profiles </a> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.savedCarts }}"> <i class="bi bi-cart-check-fill me-1" aria-hidden="true"></i> Saved Carts </a> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.favorites }}"> <i class="bi bi-heart-fill me-1" aria-hidden="true"></i> Favorites </a> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.orders }}"> <i class="bi bi-box-seam me-1" aria-hidden="true"></i> Orders </a> <div ng-if="$ctrl.isAdmin || $ctrl.isApprover"> <div class="dropdown-divider"></div> <h6 class="dropdown-header">Group Administration</h6> <a class="dropdown-item text-decoration-none" ng-if="$ctrl.isAdmin" ng-href="{{ $ctrl.url.groupAccount }}"> <i class="bi bi-people-fill me-1" aria-hidden="true"></i> Group Account </a> <a class="dropdown-item text-decoration-none" ng-if="$ctrl.isApprover" ng-href="{{ $ctrl.url.groupOrders }}"> <i class="bi bi-box-seam me-1" aria-hidden="true"></i> Group Orders </a> </div> <div class="dropdown-divider"></div> <button class="dropdown-item" ng-click="$ctrl.logout()"> <i class="bi bi-box-arrow-right me-1" aria-hidden="true"></i> Sign out </button> </div> <div ng-if="!$ctrl.isSignedIn"> <form class="px-3 py-2" name="accountMenuForm" id="accountMenuForm" autocomplete="on"> <div class="alert alert-warning small" ng-show="$ctrl.alert"> {{ $ctrl.alert }} </div> <div class="mb-3"> <label for="inputEmail" class="form-label">Email</label> <input type="text" id="inputEmail" name="email" required autocomplete="email" ng-class="[\n\t\t\t\t\t\t\t\'form-control\',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\taccountMenuForm.email.$invalid &&\n\t\t\t\t\t\t\t\t\taccountMenuForm.email.$touched\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]" ng-model="$ctrl.customer.email"/> </div> <div class="mb-3"> <label for="password" class="form-label">Password</label> <div class="input-group"> <input type="password" autocomplete="current-password" name="password" id="password" data-bs-toggle="password" required ng-model="$ctrl.customer.password" ng-attr-type="{{\n\t\t\t\t\t\t\t\t$ctrl.isShowingPassword ? \'text\' : \'password\'\n\t\t\t\t\t\t\t}}" ng-class="[\n\t\t\t\t\t\t\t\t\'form-control\',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\t\taccountMenuForm.password.$invalid &&\n\t\t\t\t\t\t\t\t\t\taccountMenuForm.password.$touched\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]" spellcheck="false"/> <button class="btn btn-outline-secondary" type="button" aria-label="Show password" ng-click="$ctrl.isShowingPassword = !$ctrl.isShowingPassword"> <i ng-class="[\n\t\t\t\t\t\t\t\t\t\'bi\',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\'bi-eye-fill\': $ctrl.isShowingPassword,\n\t\t\t\t\t\t\t\t\t\t\'bi-eye-slash-fill\':\n\t\t\t\t\t\t\t\t\t\t\t!$ctrl.isShowingPassword\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]"></i> </button> </div> </div> <div class="form-check my-2"> <input class="form-check-input" type="checkbox" value="" id="remember-me" ng-model="$ctrl.customer.remember"/> <label class="form-check-label" for="remember-me">Remember me</label> </div> <button class="btn btn-primary my-2" type="submit" autofocus ng-focus="$ctrl.customer.email.length > 0 && $ctrl.customer.password.length > 0" ng-click="$ctrl.login()"> <i class="bi bi-box-arrow-in-right" ng-hide="$ctrl.isSigningIn"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSigningIn"></span> {{ $ctrl.isSigningIn ? \'Signing In\' : \'Sign In\' }} </button> </form> <div class="dropdown-divider"></div> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.forgotPassword }}"> Forgot password? </a> <a class="dropdown-item text-decoration-none" ng-href="{{ $ctrl.url.register }}"> Create an account </a> </div> </div> </div> ',bindings:{btnClass:"@?"},controller:class{static $inject=["User","Utils"];constructor(t,e){this.User=t,this.Utils=e,this.alert="",this.customer={},this.isSigningIn=!1,this.isSigningOut=!1,this.isShowingPassword=!1,this.url={addresses:e.getPageUrl("addresses"),account:e.getPageUrl("account"),savedCarts:e.getPageUrl("saved-carts"),favorites:e.getPageUrl("favorites"),forgotPassword:e.getPageUrl("forgot-password"),groupAccount:e.getPageUrl("group-account"),groupOrders:e.getPageUrl("group-orders"),orders:e.getPageUrl("orders"),register:e.getPageUrl("register"),welcome:"/welcome"}}$onInit(){this.getUserData(),this.btnClass=this.btnClass||"btn-light"}getFirstName(t){return t.includes(" ")?t.substr(0,t.indexOf(" ")):t}getUserData(){this.isAdmin=this.User.group_admin,this.isApprover=this.User.approver,this.isPunchoutOnly=this.User.punchoutOnly,this.isMixedPunchout=this.User.mixedPunchout,this.isSignedIn=this.User.isAuthed&&this.User.email,this.firstName=this.User.name?this.getFirstName(this.User.name):null,this.userName=this.User.name||null,this.setBodyClasses()}login(){if(this.customer.email&&this.customer.password){this.isSigningIn=!0;const t=this.customer;this.User.login(t).then((t=>t.data)).then((t=>{t.errors.length?this.alert=t.errors.join(". "):(this.getUserData(),this.checkPunchout()),this.isSigningIn=!1})).catch((t=>{this.customer.errors=t.data.errors,t.data.errors.length>0&&(this.alert=this.customer.errors.join(". ")),this.isSigningIn=!1}))}else this.isSigningIn=!1,this.alert="Your username or password is blank. Please fill out both fields."}checkPunchout(){this.User.punchoutOnly&&this.Utils.goToPage(this.Utils.getPageUrl("welcome"))}logout(){this.isSigningOut=!0,this.User.logout().then((()=>{window.location.href="/"}))}setBodyClasses(){const t=[];this.isSignedIn&&t.push("vf-signed-in"),this.isAdmin&&t.push("vf-group-admin"),this.isPunchoutOnly&&t.push("is-punchout"),this.isMixedPunchout&&t.push("is-mixed-punchout"),document.body.classList.add(...t)}toggleShowPassword(){this.showPassword=!this.showPassword}}},m=n().module("AccountModule",[]).component("vfAccountMenu",h).component("vfAccount",p).directive("vendorfuelAccountMenu",(()=>({restrict:"C",template:"<vf-account-menu></vf-account-menu>"}))).name;function f(t,e){const i=new URL(t);return Object.entries(e).forEach((t=>{const[e,n]=t;i.searchParams.set(e,n)})),i.href}function v(t){let e=parseInt(t);return isNaN(e)&&(e=0),e}function b(t,e,i,n,r,s,a,o){const l=this;l.details=null,l.shipping_methods=null;try{l.items=JSON.parse(t.get("vf.cart"))}catch(t){l.items={}}l.cartCount=v(t.get("vf.cart.cartCount")),l.zipCode=v(t.get("vf.cart.zip")),l.county=t.get("vf.cart.county"),l.selectedShipping=v(t.get("vf.cart.selectedShipping")),l.squareUpPaymentForm=null,l.paymentMethod=null,l.sandboxEnabled=!1,l.user=a,l.squareUpAppID=null,l.authorizeCard=function(){"squareup"===l.getPaymentMethod()&&l.squareUpPaymentForm.requestCardNonce()},l.getPaymentMethod=function(){return l.paymentMethod},l.setPaymentMethod=function(t){l.paymentMethod=t},l.getShippingMethodID=function(){return l.selectedShippingMethodID},l.setShippingMethodID=function(t){l.selectedShippingMethodID=t},l.loadPaymentForm=function(){},l.getAuthnetPaymentFormTemplate=function(){return"https://api.vendorfuel.com/assets/templates/authnet-payment-form.html"},l.getSquareUpApplicationID=function(){return l.sandboxEnabled?"sandbox-sq0idb-7JFysyB76m-8lyoWdvkp2Q":"sq0idp-XSN1fN7oGs4Q2Unob4UfSQ"},l.getSquareUpPaymentFormTemplate=function(){return"https://api.vendorfuel.com/assets/templates/squareup-payment-form.html"},l.loadSquareUpPaymentForm=function(){l.setPaymentMethod("squareup"),l.squareUpPaymentForm||(l.squareUpPaymentForm=new SqPaymentForm({applicationId:l.getSquareUpApplicationID(),inputClass:"sq-input",autoBuild:!1,inputStyles:[{fontSize:"16px",lineHeight:"24px",padding:"16px",placeholderColor:"#a0a0a0",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"Card Number"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code",placeholder:"Postal"},callbacks:{cardNonceResponseReceived:function(t,e,i){if(t)return console.error("Encountered errors:"),t.forEach((function(t){console.error("  "+t.message)})),void alert("Encountered errors, check browser developer console for more details");s.log(i),l.sq_nonce=e,$scope.payment_info.cc_type=i.card_brand,$scope.payment_info.cc_num=i.last_4,l.completeOrder()}}}),l.squareUpPaymentForm.build())};const c=function(){for(const e in l.shipping_methods)if(Object.prototype.hasOwnProperty.call(l.shipping_methods,e))return s.log(e),t.put("vf.cart.selectedShipping",e,{samesite:"none",secure:!0,path:"/"}),l.selectedShipping=e,e};l.updateFromApi=function(e){l.details=e.cart,l.shipping_methods=e.shipping_methods,angular.isUndefined(e.cart_count)?t.put("vf.cart.cartCount",0,{samesite:"none",secure:!0,path:"/"}):(l.cartCount=v(e.cart_count),t.put("vf.cart.cartCount",e.cart_count,{samesite:"none",secure:!0,path:"/"})),l.items={},l.cartCount>0&&l.details&&angular.forEach(l.details.items,(function(t,e){l.items[e]=t.qty})),t.put("vf.cart",JSON.stringify(l.items),{samesite:"none",secure:!0,path:"/"})},l.addItems=function(t){const n=[],s={};if(angular.forEach(t,(function(e,i){n.push(i),t[i]=parseInt(e)})),n.length<1)return i.when(!1);let c;return 1===n.length?(s.product_id=n[0],s.qty=t[n[0]]):(s.product_id=n,s.qty=t),c=a.isAuthed?i.when(!0):a.guestLogin(),c.then((function(t){return t.data&&t.data.errors&&t.data.errors.length?t:e.post(localized.apiURL+"/cart/add",s)})).then((function(e){return e.data&&e.data.errors&&e.data.errors.length||(angular.forEach(t,(function(t,e){angular.isUndefined(l.items[e])&&(l.items[e]=0),l.items[e]+=t,l.cartCount+=t})),l.updateFromApi(e.data),r.addToCart(e.data),localized.settings.general.redirectToCart&&o.goToPage("cart")),e}))},l.add=function(t,e){const i={};return i[t]=e,l.addItems(i)},l.remove=function(t){return e.post(localized.apiURL+"/cart/remove",{product_id:t}).then((function(e){return l.details?(delete l.details.items[t],r.removeFromCart(e.data),l.update()):e}))},l.update=function(t,n){return""===t||void 0===n?i.when(!1):(l.details.items[n].qty=t,e.post(localized.apiURL+"/cart/update",{items:JSON.stringify(l.details.items[n])}).then((function(t){return l.updateFromApi(t.data),t})))},l.clear=function(){return e.post(localized.apiURL+"/cart/clear",{}).then((t=>(l.updateFromApi(t.data),t)))},l.quote=function(t,i){return e.post(localized.apiURL+"/cart/request-quote",{name:t,contact:i})},l.csv=function(){e.post(localized.apiURL+"/cart/csv")},l.getQty=function(t){return l.items[t]||0},l.fillDetails=function(){const t={};return t.zipcode=l.zipCode,t.county=l.county,t.shipping_method=l.selectedShipping,e.get(f(localized.apiURL+"/cart/view",t)).then((function(t){return l.updateFromApi(t.data),l.selectedShipping||c(),t}))},this.save=t=>{let r=`${localized.apiURL}/cart/saved/modify`;const s={cart_title:t};return e.post(r,s).then((t=>{if(!t.data.saved_cart_id)return i.reject(t);r=`${localized.apiURL}/cart/saved/item/add`;const s={saved_cart_id:t.data.saved_cart_id,product_id:[],qty:{}};return angular.forEach(l.items,((t,e)=>{s.product_id.push(e),s.qty[e]=t})),e.post(r,s).then((t=>(n.message("Cart has been saved."),t)))}))},this.getSavedList=()=>{const t=`${localized.apiURL}/cart/saved/list`;return e.get(t).then((function(t){return t.data.saved_carts}))},l.getSaved=function(t){return e.get(f(localized.apiURL+"/cart/saved/view",{saved_cart_id:t})).then((function(t){return{cart_title:t.data.cart_title,saved_cart_id:t.data.saved_cart_id,subtotal:t.data.subtotal,items:t.data.items}}))},l.getFavorites=function(){return e.post(localized.apiURL+"/cart/favorites/view",{}).then((function(t){return t}))},l.addFavorite=function(t){return e.post(localized.apiURL+"/cart/favorites/add",t).then((function(t){return t}))},l.removeFavorite=function(t){return e.post(localized.apiURL+"/cart/favorites/remove",t).then((function(t){return t}))},l.deleteSaved=function(t){return e.post(localized.apiURL+"/cart/saved/remove",{saved_cart_id:t})},l.removeSavedItem=function(t,i){return e.post(localized.apiURL+"/cart/saved/item/remove",{product_id:i,saved_cart_id:t})},l.addPromoCode=function(t){return angular.isUndefined(t)||t.length<1?i.when(!1):e.post(localized.apiURL+"/cart/promo-code/add",{promo_code:t}).then((function(t){return t.data.promo_code_id&&l.updateFromApi(t.data),t}))},l.removePromoCode=function(t){return e.post(localized.apiURL+"/cart/promo-code/remove",{promo_code_id:t}).then((function(t){return t.data.promo_code_id&&l.updateFromApi(t.data),t}))},l.setZip=function(e){return t.put("vf.cart.zip",e,{samesite:"none",secure:!0,path:"/"}),l.zipCode=e,l.fillDetails().then((function(t){return l.selectedShipping||c(),t}))},l.setCounty=function(e){return t.put("vf.cart.county",e,{samesite:"none",secure:!0,path:"/"}),l.county=e,l.fillDetails()},l.setSelectedShipping=function(e){t.put("vf.cart.selectedShipping",e,{samesite:"none",secure:!0,path:"/"}),l.selectedShipping=e},l.clearShipping=function(){return t.remove("vf.cart.zip",{samesite:"none",secure:!0,path:"/"}),delete l.zipCode,t.remove("vf.cart.county",{samesite:"none",secure:!0,path:"/"}),delete l.county,c(),i.when(!0)},l.partialCheckout=function(e){s.log(e);let r=0;return angular.forEach(e,(function(t){r+=t})),0===r?n.message("You must include at least one item to checkout."):t.put("vf.cart.partial",JSON.stringify(e),{samesite:"none",secure:!0,path:"/"}),i.when(!0)},l.addBySku=function(t,i){return i=parseInt(i)||1,e.post(localized.apiURL+"/cart/add-sku",{sku:t,qty:i}).then((function(t){return s.log(t),t}))},l.getShippingMethods=function(t,i,n){const r={order_id:t,shipping_id:i,zipcode:n};return e.post(localized.apiURL+"/cart/order/shipping/methods",r).then((function(t){return t}))},l.checkout=function(i,n,s,a){const o={};if(void 0!==i&&(o.paypal=i,o.return_url=n,o.cancel_url=s),null!==t.get("vf.cart.partial"))try{o.items=JSON.parse(t.get("vf.cart.partial"))}catch(t){o.items={}}return a&&(o.shipping_id=a),e.post(localized.apiURL+"/cart/checkout",o).then((function(e){return t.put("vf.cart.partial",null,{samesite:"none",secure:!0,path:"/"}),r.beginCheckout(e.data),e}))},l.priceAvailabilityResponse=function(t,i,n){const r={};return r.order_id=t.order.order_id,r.return_url=t.return_url,r.price_availability_response=i,r.reconfirm=n,e.post(localized.apiURL+"/cart/order/price-availability",r).then((function(t){return t}))},l.confirmOrder=function(t){const i={};return i.shipping_id=t.selected_shipping_profile.shipping_id,i.billing_id=t.selected_billing_profile.billing_id,i.order_id=t.order.order_id,i.shipping_method=t.selected_shipping_method,i.shipping_first_name=t.shipping_first_name,i.shipping_last_name=t.shipping_last_name,i.shipping_email=t.shipping_email,i.shipping_address1=t.shipping_address1,i.shipping_address2=t.shipping_address2,i.shipping_city=t.shipping_city,i.shipping_state=t.shipping_state,i.shipping_zip=t.shipping_zip,i.shipping_phone=t.shipping_phone,i.billing_first_name=t.billing_first_name,i.billing_last_name=t.billing_last_name,i.billing_email=t.billing_email,i.billing_address1=t.billing_address1,i.billing_address2=t.billing_address2,i.billing_city=t.billing_city,i.billing_state=t.billing_state,i.billing_zip=t.billing_zip,i.billing_phone=t.billing_phone,i.return_url=t.return_url,localized.settings.general.checkout.company_name_option&&(i.organization=t.extraFields.organization),localized.settings.general.checkout.purchase_order_option&&(i.rr_po_num=t.extraFields.rr_po_num),localized.settings.general.checkout.issuing_office_option&&(i.issuing_office=t.extraFields.issuing_office),localized.settings.general.checkout.cost_center_option&&(i.cost_center_code=t.extraFields.cost_center_code),localized.settings.general.checkout.attention_option&&(i.attention=t.extraFields.attention),localized.settings.general.checkout.notes_option&&(i.notes=t.extraFields.notes),""!==t.extraFields.f1&&(i.f1=t.extraFields.f1),""!==t.extraFields.f2&&(i.f2=t.extraFields.f2),""!==t.extraFields.f3&&(i.f3=t.extraFields.f3),""!==t.extraFields.f4&&(i.f4=t.extraFields.f4),""!==t.extraFields.f5&&(i.f5=t.extraFields.f5),""!==t.extraFields.f6&&(i.f6=t.extraFields.f6),e.post(localized.apiURL+"/cart/order/confirm",i).then((function(t){return t}))},l.confirmPaypalOrder=function(t){const i={};return i.order_id=t.order.order_id,i.paypal=1,i.shipping_method=t.selected_shipping_method,i.shipping_first_name=t.shipping_first_name,i.shipping_last_name=t.shipping_last_name,i.shipping_email=t.shipping_email,i.shipping_address1=t.shipping_address1,i.shipping_address2=t.shipping_address2,i.shipping_city=t.shipping_city,i.shipping_state=t.shipping_state,i.shipping_zip=t.shipping_zip,i.shipping_phone=t.shipping_phone,i.billing_first_name=t.billing_first_name,i.billing_last_name=t.billing_last_name,i.billing_email=t.billing_email,i.billing_address1=t.billing_address1,i.billing_address2=t.billing_address2,i.billing_city=t.billing_city,i.billing_state=t.billing_state,i.billing_zip=t.billing_zip,i.billing_phone=t.billing_phone,void 0!==t.paymentId&&(i.paymentId=t.paymentId),localized.settings.general.checkout.company_name_option&&(i.organization=t.extraFields.organization),localized.settings.general.checkout.purchase_order_option&&(i.rr_po_num=t.extraFields.rr_po_num),localized.settings.general.checkout.issuing_office_option&&(i.issuing_office=t.extraFields.issuing_office),localized.settings.general.checkout.cost_center_option&&(i.cost_center_code=t.extraFields.cost_center_code),localized.settings.general.checkout.attention_option&&(i.attention=t.extraFields.attention),localized.settings.general.checkout.notes_option&&(i.notes=t.extraFields.notes),""!==t.extraFields.f1&&(i.f1=t.extraFields.f1),""!==t.extraFields.f2&&(i.f2=t.extraFields.f2),""!==t.extraFields.f3&&(i.f3=t.extraFields.f3),""!==t.extraFields.f4&&(i.f4=t.extraFields.f4),""!==t.extraFields.f5&&(i.f5=t.extraFields.f5),""!==t.extraFields.f6&&(i.f6=t.extraFields.f6),e.post(localized.apiURL+"/cart/order/confirm",i).then((function(t){return t}))},l.completeOrder=function(t){return e.post(localized.apiURL+"/cart/order/complete",t).then((function(t){return r.purchase(t.data),t}))},l.payfabricUrl=function(t,i){const n={};return n.return_url=t,n.order_id=i,e.post(localized.apiURL+"/cart/order/payfabricUrl",n).then((function(t){return t.data.payfabric_url}))}}b.$inject=["$cookies","$http","$q","Alerts","Analytics","Debug","User","Utils"];const $=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,y={template:'<button class="btn btn-secondary btn-sm w-100 mb-2" ng-click="$ctrl.requestQuote()"> Request Quote </button> <form class="p-3 bg-light" name="form" ng-if="$ctrl.isRequestingQuote"> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isLoading"> <legend>Request quote</legend> <p> <label for="name" class="form-label">Name <small>(required)</small></label> <input type="text" id="name" required ng-model="$ctrl.name" class="form-control"/> </p> <p> <label for="contact" class="form-label">Email <small>(required)</small></label> <input type="email" id="contact" required ng-model="$ctrl.contact" ng-pattern="$ctrl.emailPattern" class="form-control"/> </p> </fieldset> <button class="btn btn-primary" ng-disabled="form.$invalid || $ctrl.isLoading" ng-click="$ctrl.submit()"> {{ $ctrl.isLoading ? \'Submitting\' : \'Submit\' }} </button> </form> ',controller:class{static $inject=["$window","Cart"];emailPattern=$;constructor(t,e){this.$window=t,this.Cart=e}requestQuote(){this.isRequestingQuote=!0}submit(){this.isLoading=!0,this.Cart.quote(this.name,this.contact).then((t=>t.data)).then((t=>{t.errors.length||(this.isRequestingQuote=!1)})).finally((()=>{this.isLoading=!1,this.$window.scrollTo(0,0)}))}}},w={template:'<button class="btn btn-secondary btn-sm w-100 mb-2" ng-click="$ctrl.downloadCSV()"> Download as CSV </button> ',controller:class{static $inject=["$http"];constructor(t){this.$http=t}downloadCSV(){const t=`${localized.apiURL}/cart/csv`;this.$http.post(t,{}).then((t=>{const e=new Blob([t.data],{type:"text/csv"}),i=URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download="cart.csv",document.body.appendChild(n),n.click()}))}}},_={template:'<button class="btn btn-secondary w-100 btn-sm mb-2" ng-click="$ctrl.openSplitCartModal()"> Split Checkout </button> <div class="modal fade" id="splitCheckoutModal" tabindex="-1" aria-labelledby="splitCheckoutModalLabel" aria-hidden="true"> <div class="modal-dialog modal-lg"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">Partial Checkout</h3> </div> <div class="modal-body"> <div class="btn-toolbar justify-content-end"> <button class="btn btn-primary btn-sm" ng-click="$ctrl.toggleAll()"> Toggle All </button> </div> <div class="row mb-3" ng-repeat="item in $ctrl.items track by $index"> <div class="col-sm-7" ng-click="$ctrl.changeIncludes(item)" style="cursor:pointer"> <div class="row"> <div class="col-sm-3"> <button type="button" class="btn w-100 p-0" ng-model="item.included" ng-class="\n\t\t\t\t\t\t\t\t\t\t(item.included &&\n\t\t\t\t\t\t\t\t\t\t\t\'btn-success active\') ||\n\t\t\t\t\t\t\t\t\t\t\'btn-danger\'\n\t\t\t\t\t\t\t\t\t"> <i class="bi bi-check" ng-show="item.included">Included</i> <i class="bi bi-x" ng-hide="item.included">Excluded</i> <div ng-repeat="img in item.images" ng-if="$index < 1"> <img class="w-100" ng-src="{{ img.thumb_url }}"/> </div> </button> </div> <div class="col-sm-9"> <span>{{ item.description }}</span> <div> <div>Item #: {{ item.sku }}</div> <div> Mfg Part #: {{ item.mfg_part_num }} </div> </div> </div> </div> </div> <div class="col-sm-3"> <div class="input-group"> <input ng-disabled="!item.included" limit-to="4" type="number" class="text-center form-control" ng-change="$ctrl.handleChange( $index )" ng-model-options="{ debounce: 250 }" ng-model="item.qty" min="0"/> <button ng-disabled="!item.included" ng-class="[\'btn\', {\n\t\t\t\t\t\t\t\t\t\'btn-success\': $ctrl.qtyUpdateIsHidden[$index],\n\t\t\t\t\t\t\t\t\t\'btn-warning\': $ctrl.updatingQty[$index] && !$ctrl.updated,\n\t\t\t\t\t\t\t\t}]" type="button" ng-click="$ctrl.updateQty(item, $index)"> <i ng-if="\n\t\t\t\t\t\t\t\t\t\t$ctrl.updatingQty[$index] &&\n\t\t\t\t\t\t\t\t\t\t!$ctrl.updated\n\t\t\t\t\t\t\t\t\t" class="bi bi-arrow-repeat"></i> <i ng-if="!$ctrl.updatingQty[$index]" class="bi bi-check"></i> </button> </div> </div> <div class="col-sm-2">{{ item.item_total | currency }}</div> </div> </div> <div class="modal-footer"> <button type="submit" ng-click="$ctrl.splitCheckout()" class="btn btn-primary" ng-disabled="!$ctrl.includes || $ctrl.checkUpdating()"> Partial Checkout </button> <button type="button" ng-click="$ctrl.cancel()" class="btn btn-secondary"> Cancel </button> </div> </div> </div> </div> ',controller:class{static $inject=["Cart","Utils"];allToggle=!1;qtyUpdateIsHidden=[];updatingQty=[];constructor(t,e){this.Cart=t,this.Utils=e,this.includes=0,this.modal=jQuery("#splitCheckoutModal")}handleChange(t){this.qtyUpdateIsHidden[t]=!1,this.updatingQty[t]=!0,this.updated=!1}changeIncludes(t){t.included=!t.included,t.included?(this.includes++,this.includes!==this.numItems||this.allToggle||(this.allToggle=!0)):(this.includes--,!this.includes&&this.allToggle&&(this.allToggle=!1))}toggleAll(){this.allToggle=!this.allToggle,this.includes=0,this.allToggle&&(this.includes=this.numItems),n().forEach(this.items,((t,e)=>{this.items[e].included=this.allToggle}))}checkUpdating(){for(let t=0;t<this.updatingQty.length;t++)if(this.updatingQty[t])return!0}updateQty(t,e){this.updatingQty[e]=!0,this.updated=!1,t.item_total=t.qty*t.price,this.updated=!0,this.qtyUpdateIsHidden[e]=!0,this.updatingQty[e]=!1}openSplitCartModal(){this.modal.modal("show"),this.items=n().copy(this.Cart.details.items),this.numItems=Object.keys(this.items).length}cancel(){this.modal.modal("hide"),this.reset()}reset(){this.qtyUpdateIsHidden=[],this.updatingQty=[]}splitCheckout(){const t={};n().forEach(this.items,(e=>{e.included&&(t[e.product_id]=e.qty)})),this.Cart.partialCheckout(t).then((()=>{this.Utils.goToPage(this.Utils.getPageUrl("checkout"))}))}}},k={bindings:{isFavorite:"<",productId:"<"},controller:C,template:'<button class="btn btn-link btn-sm pt-2" ng-show="$ctrl.isLoggedIn" ng-click="$ctrl.toggleFavorite($ctrl.productId)" ng-attr-title="{{\n\t\t$ctrl.isFavorite ? \'Remove from Favorites\' : \'Add to Favorites\'\n\t}}"> <i ng-class="{\n\t\t\t\'bi bi-heart-fill\': $ctrl.isFavorite,\n\t\t\t\'bi bi-heart\': !$ctrl.isFavorite\n\t\t}" ng-hide="$ctrl.isInProgress"> </i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isInProgress"></span> <span class="d-none d-lg-inline"> <span ng-if="$ctrl.isFavorite"> {{ $ctrl.isInProgress ? \'Removing\' : \'Remove\' }} from Favorites </span> <span ng-if="!$ctrl.isFavorite"> {{ $ctrl.isInProgress ? \'Adding\' : \'Add\' }} to Favorites </span> </span> </button> '};function C(t,e){const i=this;i.isInProgress=!1,i.isLoggedIn=e.isAuthed&&!e.isGuest,i.toggleFavorite=function(e){i.isInProgress=!0,i.isFavorite?t.remove(e).then((function(){i.isFavorite=!1,i.isInProgress=!1})):t.add(e).then((function(){i.isFavorite=!0,i.isInProgress=!1}))}}C.$inject=["Favorites","User"];const S={template:'<div class="p-5 bg-light text-center" ng-if="!$ctrl.isLoading && !$ctrl.cart.items"> <h2>Your shopping cart is empty.</h2> <p> Please go to the <a ng-href="{{ $ctrl.pageUrls.catalog }}">Catalog</a> to continue shopping or <span ng-if="!$ctrl.isSignedIn"> <a ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> to access any previously Saved Carts. </span> <span ng-if="$ctrl.isSignedIn"> go to your previously <a ng-href="{{ $ctrl.pageUrls.savedCarts }}">Saved Carts</a>. </span> </p> <div class="btn-toolbar justify-content-center"> <a class="btn btn-primary" ng-href="{{ $ctrl.pageUrls.catalog }}"> Go to Catalog </a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.pageUrls.login }}" ng-if="!$ctrl.isSignedIn"> Sign In </a> <a class="btn btn-secondary ms-2" href="{{ $ctrl.pageUrls.savedCarts }}" is-style-outline="true" ng-if="$ctrl.isSignedIn"> Saved Carts </a> </div> </div> <div ng-show="!$ctrl.isLoading && $ctrl.cart.items" class="row d-none d-lg-flex px-3"> <div class="col-10 offset-2"> <div class="row has-text-align-center"> <div class="col-4">Item Description</div> <div class="col-4">Quantity</div> <div class="col-2">Unit Price</div> <div class="col-2">Extended</div> </div> </div> </div> <div class="list-group mb-3"> <div class="list-group-item" ng-repeat="item in $ctrl.cart.items track by $index"> <div class="row align-items-center"> <div class="col-4 col-lg-2"> <a ng-href="/{{ $ctrl.productSlug }}/{{ item.slug }}" ng-attr-title="{{ item.description }}"> <img class="img-fluid lazy" loading="lazy" ng-repeat="img in item.images" ng-if="$index < 1" ng-src="{{ img.thumb_url || $ctrl.imgPlacerholder }}"/> <img class="img-fluid lazy" loading="lazy" ng-if="item.images.length <= 0" ng-src="{{ $ctrl.imgPlacerholder }}"/> </a> </div> <div class="col-8 col-lg-10"> <div class="row"> <div class="col-12 col-lg-4 order-lg-1"> <a class="text-decoration-none" ng-href="/{{ $ctrl.productSlug }}/{{ item.slug }}" ng-attr-title="{{ item.description }}"> {{ item.description }} </a> <p class="small"> <strong>SKU: </strong>{{ item.sku }} </p> </div> <div class="col-12 col-lg-2 order-lg-3"> <p class="border-bottom pb-2 mb-2 d-lg-none"> Unit Price: <strong>{{ item.price | currency }}<small ng-if="item.uom">/{{ item.uom }}</small></strong> </p> <p class="d-none d-lg-block has-text-align-center"> <span class="text-nowrap">{{ item.price | currency }}</span><small ng-if="item.uom">/{{ item.uom }}</small> </p> </div> <div class="col-12 col-lg-2 order-lg-4"> <p class="mb-2 d-lg-none"> Extended: <strong>{{ item.item_total | currency }}</strong> </p> <p class="d-none d-lg-block has-text-align-center text-nowrap"> {{ item.item_total | currency }} </p> </div> <div class="col-12 col-lg-4 order-lg-2"> <div class="input-group"> <button class="btn btn-primary" type="button" title="Add quantity in cart." ng-click="$ctrl.updateQty(item.qty + 1, item.product_id, $index)" ng-disabled="$ctrl.updatingQty[$index] ||\n\t\t\t\t\t\t\t\t\t\titem.available_qty &&\n\t\t\t\t\t\t\t\t\t\t( item.qty >= item.available_qty || item.available_qty < 1 )"> <i class="bi bi-plus"></i> </button> <input class="form-control" name="qtyAdd" type="text" min="1" required readonly="readonly" max="{{ item.available_qty }}" ng-min="1" ng-max="item.available_qty" ng-model="item.qty" ng-disabled="$ctrl.updatingQty[$index] ||\n\t\t\t\t\t\t\t\t\t\titem.available_qty && item.available_qty < 1" ng-change="$ctrl.updateQty(item.qty, item.product_id, $index)"/> <button class="btn btn-primary" type="button" title="Reduce quantity in cart." ng-click="$ctrl.updateQty(item.qty - 1, item.product_id, $index)" ng-disabled="$ctrl.updatingQty[$index] ||\n\t\t\t\t\t\t\t\t\t\titem.qty <= 1 ||\n\t\t\t\t\t\t\t\t\t\t( item.available_qty && item.available_qty < 1 )"> <i class="bi bi-dash"></i> </button> </div> <button class="btn btn-link btn-sm pt-2" title="Remove item from cart." ng-click="$ctrl.remove(item.product_id)"> <i class="bi bi-cart-dash-fill"></i> Remove From Cart </button> <cart-add-to-favorites is-favorite="item.isFavorite" product-id="item.product_id"> </cart-add-to-favorites> </div> </div> <button class="btn btn-link btn-sm prop65-popover" data-content="{{ item.prop65Warning }}" ng-if="item.prop65"> <img loading="lazy" style="width:1rem" ng-src="{{ $ctrl.warningIcon }}" ng-attr-title="{{ ctrl.prop65Warning }}"/> <span class="d-none d-md-inline"> California esidents: See Prop. 65 warning </span> <span class="d-md-none"> CA Prop. 65 warning </span> </button> </div> </div> </div> </div> ',bindings:{isLoading:"<",cart:"<"},require:{cartController:"^cartComponent"},controller:x};function x(t,e,i){const n=this;function r(t){if(t.prop65){let e=t.prop65.warning;return e=e.replace(/(^warning:)/gi,"").trim(),e=e.replace(/(www.p65warnings.ca.gov)/gi,'<a href="https://$&" target="_blank">$&</a>'),e}return null}this.warningIcon=`${localized.dir.url}public/images/warning.svg`,n.$onInit=function(){n.isSignedIn=e.isAuthed&&e.email,n.pageUrls={catalog:i.getPageUrl("catalog"),login:i.getPageUrl("login"),register:i.getPageUrl("register"),savedCarts:i.getPageUrl("saved-carts")},n.productSlug=localized.settings.general.product_slug||"products"},n.imgPlacerholder="/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png",n.remove=function(e){t.remove(e).then((function(){n.cartController.getCart()}))},n.updateQty=function(e,i,r){n.updatingQty[r]=!0,t.update(e,i).then((function(t){n.cartController.updateCart(t.data),n.updatingQty[r]=!1}))},n.updatingQty=[],n.$onChanges=t=>{if(t.cart&&t.cart.currentValue){jQuery(".prop65-popover").popover({html:!0,placement:"bottom",title:"<strong>WARNING: </strong>",trigger:"click hover focus"});for(const t in n.cart.items)t&&(n.cart.items[t].prop65Warning=r(n.cart.items[t]))}}}x.$inject=["Cart","User","Utils"];const A={template:'<form ng-submit="$ctrl.addPromoCode($ctrl.code)"> <label for="promo-code" class="form-label">Promo Code</label> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isAddingPromoCode"> <div class="input-group"> <input type="text" id="promo-code" class="form-control" aria-label="Promo code" required ng-model="$ctrl.code" minlength="1" maxlength="12"/> <button class="btn btn-secondary" type="submit">Apply</button> </div> </fieldset> <small class="form-text">Enter promo code if you have one.</small> </form> <div class="alert alert-success fade show" ng-repeat="item in $ctrl.promoCodes track by $index"> <button type="button" class="btn-close" ng-click="$ctrl.removePromoCode(item.promo_code_id)" aria-label="Remove promo code" title="Remove promo code"></button> <h5 class="alert-heading"> Promo code: <span class="badge text-bg-light">{{ item.code }}</span> </h5> <span ng-if="item.discount_type === \'percentage\'">{{ item.discount | number : 0 }}% OFF</span> <span ng-if="item.discount_type === \'discount\'">{{ item.discount_total | currency }} OFF</span> <hr/> <p class="mb-0">Discount: {{ item.discount_total | currency }}</p> </div> ',bindings:{promoCodes:"=",promoDiscount:"=",totalAmount:"="},require:{cartController:"^cartComponent"},controller:P};function P(t){const e=this;e.addPromoCode=function(i){e.isAddingPromoCode=!0,t.addPromoCode(i).then((t=>t.data)).then((t=>{!t.warnings.length&&t.cart&&(e.promoCodes=t.cart.promo_codes,e.promoDiscount=t.cart.promo_discount,e.totalAmount=e.cartController.toNumber(t.cart.total_amount)),e.isAddingPromoCode=!1,e.code=""})).catch((function(t){console.error(t)}))},e.removePromoCode=function(i){e.isRemovingPromoCode=!0,t.removePromoCode(i).then((t=>t.data)).then((t=>{!t.warnings.length&&t.cart&&(e.promoCodes=t.cart.promo_codes,e.promoDiscount=t.cart.promo_discount,e.totalAmount=e.cartController.toNumber(t.cart.total_amount),e.isRemovingPromoCode=!0)}))}}P.$inject=["Cart"];const I={template:'<p ng-if="$ctrl.cartCount > 0" class="has-medium-font-size d-none d-lg-block"> <ng-pluralize count="$ctrl.cartCount" when="{\'0\': \'No items in your cart.\',\n\t\t\t\t\'one\': \'1 item in your cart.\',\n\t\t\t\t\'other\': \'{} items in your cart.\'}"> </ng-pluralize> </p> <div class="row d-md-none" ng-if="$ctrl.cartCount > 0"> <div class="col-md-8"> <div class="row"> <div class="col-auto"> <ng-pluralize count="$ctrl.cartCount" when="{\'0\': \'No items.\',\n\t\t\t\t\t\t\t\'one\': \'1 item.\',\n\t\t\t\t\t\t\t\'other\': \'{} items.\'}"> </ng-pluralize> </div> <div class="col text-end"> <small>Estimated Total:</small> {{ $ctrl.totalAmount | currency }} </div> </div> </div> <div class="col-md-4"> <form ng-if="$ctrl.cart.punchout" method="POST" style="display:inline" action="{{ $ctrl.cart.punchout.return_url }}"> <input type="hidden" name="cxml-urlencoded" id="cxml-urlencoded" value="{{ $ctrl.cart.punchout.cxml }}"/><input type="submit" value="Checkout" id="btnCheckoutPO" class="btn btn-primary w-100 btn-lg my-2"/> </form> <a ng-if="!$ctrl.cart.punchout" class="btn btn-primary w-100 my-3" ng-href="{{ $ctrl.pageUrls.checkout }}">Checkout<i class="bi bi-chevron-right"></i></a> </div> </div> ',bindings:{totalAmount:"<",cartCount:"<",cart:"<"},controller:O};function O(t){const e=this;e.$onInit=function(){e.pageUrls={checkout:t.getPageUrl("checkout")}}}O.$inject=["Utils"];const E={template:'<layout-component> <div class="alert alert-info text-center" ng-if="!$ctrl.isAuthed"> <h3>Your shopping cart is empty.</h3> <p class="mb-0"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.catalog }}">continue shopping</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">sign in</a> to view your current cart or any saved carts. </p> </div> <div class="d-flex justify-content-center" ng-if="$ctrl.isAuthed && $ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="alert alert-info" ng-if="\n\t\t\t$ctrl.showFreeShipping &&\n\t\t\t$ctrl.totalAmount &&\n\t\t\t$ctrl.minOrderAmount &&\n\t\t\t$ctrl.minOrderAmount > $ctrl.totalAmount\n\t\t"> Add {{ $ctrl.minOrderAmount - $ctrl.totalAmount | currency }} to your cart to qualify for free shipping. </div> <div class="row" ng-if="$ctrl.isAuthed"> <div class="col"> <cart-summary total-amount="$ctrl.totalAmount" cart-count="$ctrl.cartCount" cart="$ctrl.cart"> </cart-summary> <cart-items cart="$ctrl.cart" is-loading="$ctrl.isLoading" ng-show="!$ctrl.isLoading"> </cart-items> </div> <div class="col-sm-3" ng-if="$ctrl.cart && $ctrl.cart.items"> <cart-promo-code promo-codes="$ctrl.promoCodes" promo-discount="$ctrl.promoDiscount" total-amount="$ctrl.totalAmount"></cart-promo-code> <cart-order-details cart="$ctrl.cart" total-amount="$ctrl.totalAmount" subtotal="$ctrl.subtotal" cart-count="$ctrl.cartCount" promo-discount="$ctrl.promoDiscount"> </cart-order-details> </div> </div> </layout-component> ',controller:T};function T(t,e,i,r){const s=this;this.showFreeShipping=localized.settings.general.showFreeShipping,this.$onInit=()=>{s.isAuthed=e.isAuthed(),s.pageUrls={catalog:r.getPageUrl("catalog"),login:r.getPageUrl("login",{redirect_to:t.path()})},s.isAuthed&&this.getCart()},this.getCart=()=>{s.isLoading=!0,i.fillDetails().then((t=>{s.cartCount=t.data.cart_count,t.data.cart?(s.cart=t.data.cart,s.subtotal=this.toNumber(s.cart.subtotal),s.totalAmount=this.toNumber(s.cart.total_amount),n().forEach(s.cart.items,(t=>{t.price=this.toNumber(t.price),t.item_total=this.toNumber(t.item_total),t.isFavorite=t.favorite})),s.promoCodes=s.cart.promo_codes,s.promoDiscount=s.cart.promo_discount,this.setMinOrderAmount(t.data.shipping_methods),s.isLoading=!1):(s.cart=null,s.subtotal=0,s.totalAmount=0,s.isLoading=!1)}))},this.setMinOrderAmount=t=>{if(t){const e=t.filter((t=>t.freeIfTotal));if(e.length)return this.minOrderAmount=Math.min(...e.map((t=>t.freeOrderTotal)))}},this.updateCart=t=>{s.cart=t.cart,s.cartCount=t.cart_count,s.subtotal=this.toNumber(s.cart.subtotal),s.totalAmount=this.toNumber(s.cart.total_amount),n().forEach(s.cart.items,(t=>{t.price=this.toNumber(t.price),t.item_total=this.toNumber(t.item_total)}))},this.clear=()=>{i.clear().then((()=>{s.cart=null,s.cartCount=0,s.subtotal=0,s.totalAmount=0}))},this.toNumber=t=>n().isNumber(t)?t:Number(t.replace(",",""))}T.$inject=["$location","Auth","Cart","Utils"];const L={bindings:{btnClass:"@?"},template:'<div class="dropdown"> <button ng-class="[\'btn dropdown-toggle\', $ctrl.btnClass]" type="button" data-bs-toggle="dropdown" aria-expanded="false"> <i ng-class="[\n\t\t\t\t\'bi\',\n\t\t\t\t{\n\t\t\t\t\t\'bi-cart\': !$ctrl.cartCount,\n\t\t\t\t\t\'bi-cart-fill\': $ctrl.cartCount\n\t\t\t\t}\n\t\t\t]"></i> <span class="badge rounded-pill text-bg-danger" ng-if="$ctrl.cartCount"> {{ $ctrl.cartCount }} </span> <span class="d-none d-md-inline ms-1">Cart</span> </button> <div class="dropdown-menu dropdown-menu-end"> <div class="d-flex justify-content-center" ng-if="$ctrl.isInProgress"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="!$ctrl.isInProgress"> <a class="dropdown-item dropdown-header text-decoration-none" title="Edit Cart" ng-href="{{ $ctrl.cartUrl }}"> <ng-pluralize count="$ctrl.cartCount" when="{\'0\': \'No items in your cart.\',\n\t\t\t\t\t\t\'one\': \'One item in your cart.\',\n\t\t\t\t\t\t\'other\': \'{} items in your cart.\'}"> </ng-pluralize> <span class="badge text-bg-success" ng-if="$ctrl.totalAmount > 0"> Total: {{ $ctrl.totalAmount | currency }} </span> </a> <div class="alert alert-info small mx-2 my-2 p-2 lh-sm" ng-if="\n\t\t\t\t\t$ctrl.showFreeShipping &&\n\t\t\t\t\t$ctrl.cartCount &&\n\t\t\t\t\t$ctrl.minOrderAmount &&\n\t\t\t\t\t$ctrl.minOrderAmount > $ctrl.totalAmount\n\t\t\t\t"> Add {{ $ctrl.minOrderAmount - $ctrl.totalAmount | currency }} to your cart to qualify for free shipping. </div> <div class="dropdown-divider" ng-if="$ctrl.cartCount"></div> <a class="dropdown-item small lh-sm py-2 text-wrap text-decoration-none" ng-attr-title="View {{ item.description }}" ng-repeat="item in $ctrl.cartItems track by $index" ng-href="/{{ $ctrl.productSlug }}/{{ item.slug }}"> <div class="d-flex justify-content-between align-items-start"> {{ item.description }} <span class="badge text-bg-secondary rounded-pill"> {{ item.qty }} </span> </div> <div class="small"> <span class="text-muted">SKU:</span> {{ item.sku }} </div> <span class="text-success">{{ item.price | currency }}</span> {{ item.uom ? \'/\' + item.uom : \'\' }} </a> </div> <div ng-if="$ctrl.cartCount"> <div class="dropdown-divider"></div> <a class="dropdown-item text-decoration-none" title="Edit Cart" ng-href="{{ $ctrl.cartUrl }}"> <i class="bi bi-cart-fill me-1"></i> Go to Cart </a> </div> </div> </div> ',controller:class{static $inject=["Cart","User","Utils"];showFreeShipping=localized.settings.general.showFreeShipping;constructor(t,e,i){this.Cart=t,this.User=e,this.Utils=i,this.cartUrl=this.Utils.getPageUrl("cart"),this.productSlug=localized.settings.general.product_slug}$onInit(){this.btnClass=this.btnClass||"btn-light"}$doCheck(){this.User.isAuthed?this.cartCount!==this.Cart.cartCount&&(this.cartCount=this.Cart.cartCount,this.getCartDetails()):this.cartCount=0}getCartDetails(){this.isInProgress=!0,this.Cart.fillDetails().then((t=>t.data)).then((t=>{t.cart?(this.cartItems=this.getCartItems(t.cart.items),this.totalAmount=Number(t.cart.total_amount)):(this.cartItems=[],this.totalAmount=0),this.setMinOrderAmount(t.shipping_methods)})).finally((()=>{this.isInProgress=!1}))}getCartItems(t){return Object.values(t)}setMinOrderAmount(t){if(t?.length){const e=t.filter((t=>t.freeIfTotal));if(e.length)return this.minOrderAmount=Math.min(...e.map((t=>t.freeOrderTotal)))}}}},U=n().module("CartModule",[]).component("cartAddToFavorites",k).component("cartDownloadCsv",w).component("cartItems",S).component("cartOrderDetails",{template:'<h2 class="h4 mt-4 pt-4 border-top">Your Order</h2> <table class="table"> <tbody> <tr> <th scope="row">Subtotal</th> <td class="text-end"> {{ $ctrl.subtotal | currency }} </td> </tr> <tr ng-show="$ctrl.promoDiscount > 0"> <th scope="row">Discounts</th> <td class="text-end"> {{ $ctrl.promoDiscount | currency }} </td> </tr> </tbody> <tfoot> <tr> <th scope="row">Estimated Total</th> <td class="text-end"> {{ $ctrl.totalAmount | currency }} </td> </tr> </tfoot> </table> <p>Please proceed to checkout for final total.</p> <div ng-if="!$ctrl.isSignedIn"> <p> Sign in or create an account now and enjoy an easier and faster checkout process. </p> <div class="btn-toolbar justify-content-center"> <a class="btn btn-primary btn-lg w-100 mb-2" ng-href="{{ $ctrl.pageUrls.checkout }}"> Checkout as Guest </a> </div> <div class="hstack justify-content-around gap-3 mb-3"> <a class="btn btn-link ms-auto" ng-href="{{ $ctrl.pageUrls.register }}?referrer=cart">Register</a> <div class="vr"></div> <a class="btn btn-link me-auto" ng-href="{{ $ctrl.pageUrls.login }}">Sign in</a> </div> </div> <div ng-if="$ctrl.isSignedIn"> <form ng-if="$ctrl.cart.punchout" method="POST" style="display:inline" action="{{ $ctrl.cart.punchout.return_url }}"> <input type="hidden" name="cxml-urlencoded" id="cxml-urlencoded" value="{{ $ctrl.cart.punchout.cxml }}"/><input type="submit" value="Checkout" id="btnCheckoutPO" class="btn btn-primary w-100 btn-lg my-2"/> </form> <div class="btn-toolbar justify-content-center" ng-if="!$ctrl.cart.punchout"> <a class="btn btn-primary btn-lg w-100 mb-2" ng-href="{{ $ctrl.pageUrls.checkout }}"> Checkout </a> </div> </div> <div class="btn-toolbar justify-content-center align-items-stretch mb-2"> <button class="btn btn-secondary flex-grow-1 me-2" ng-disabled="$ctrl.isSaveCartFormVisible || $ctrl.isClearCartFormVisible" ng-if="$ctrl.isSignedIn" ng-click="$ctrl.handleToggleSaveCartForm()"> Save Cart </button> <button class="btn btn-danger flex-grow-1" ng-disabled="$ctrl.isClearCartFormVisible || $ctrl.isSaveCartFormVisible" ng-click="$ctrl.handleToggleClearCartForm()"> Clear Cart </button> </div> <div class="card mb-3" ng-if="$ctrl.isSaveCartFormVisible"> <form name="saveCartForm" class="card-body" ng-submit="$ctrl.saveCart($ctrl.cartName)"> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isBusy"> <div class="mb-3"> <label for="cart-name" class="form-label">Saved Cart Name <small>(required)</small></label> <div class="input-group"> <input type="text" class="form-control" id="cart-name" aria-describedby="cart-name-help" ng-model="$ctrl.cartName" minlength="1" ng-minlength="1" required/> <button class="btn btn-secondary" ng-disabled="saveCartForm.$invalid || $ctrl.isBusy" ng-click="$ctrl.saveCart($ctrl.cartName)"> Save </button> </div> <small id="cart-name-help" class="form-text">Please enter a name for your saved cart.</small> </div> <div ng-if="$ctrl.savedCarts"> <p class="small"> You can also add your current cart items to a previously <a ng-href="{{ $ctrl.pageUrls.savedCarts }}">saved carts</a>. </p> <div class="list-group mb-3"> <button type="button" class="list-group-item d-flex justify-content-between align-items-baselint text-start" ng-click="$ctrl.updateSavedCart( item.cart_title )" ng-repeat="item in $ctrl.savedCarts"> <span> {{ item.cart_title }} </span> <span class="badge text-bg-light rounded-pill">{{ item.num_items | number }} items</span> </button> </div> </div> <div class="btn-toolbar"> <button class="btn btn-outline-primary border-0 ms-auto" ng-click="$ctrl.handleToggleSaveCartForm()"> {{ $ctrl.hasSavedCart ? \'Close\' : \'Cancel\' }} </button> </div> </fieldset> </form> </div> <div ng-if="$ctrl.isClearCartFormVisible" class="card mb-3 border-warning"> <div class="card-body"> <p>This will clear all items from your shopping cart.</p> <div class="hstack justify-content-end gap-2"> <button type="button" class="btn btn-outline-primary border-0" ng-click="$ctrl.handleToggleClearCartForm()" ng-disabled="$ctrl.isBusy"> Cancel </button> <button type="button" class="btn btn-danger" ng-click="$ctrl.clearCart()" ng-disabled="$ctrl.isBusy"> Clear </button> </div> </div> </div> <cart-split-checkout></cart-split-checkout> <cart-request-quote></cart-request-quote> <cart-download-csv></cart-download-csv> ',require:{cartController:"^cartComponent"},bindings:{subtotal:"=",totalAmount:"=",cartCount:"=",promoDiscount:"=",cart:"="},controller:class{static $inject=["$location","Cart","User","Utils"];isSaveCartFormVisible=!1;constructor(t,e,i,n){this.$location=t,this.Cart=e,this.User=i,this.Utils=n,this.isAuthed=this.User.isAuthed,this.isSignedIn=this.User.isAuthed&&this.User.email,this.isGuest=this.User.isGuest,this.pageUrls={checkout:this.Utils.getPageUrl("checkout"),login:this.Utils.getPageUrl("login",{redirect_to:this.$location.path()}),register:this.Utils.getPageUrl("register"),savedCarts:this.Utils.getPageUrl("saved-carts")}}$onInit(){this.getSavedCarts()}updateSavedCart(t){this.saveCart(t)}clearCart(){this.cartController.clear(),this.isClearCartFormVisible=!1}getSavedCarts(){this.Cart.getSavedList().then((t=>{this.savedCarts=t}))}handleToggleClearCartForm(){this.isClearCartFormVisible=!this.isClearCartFormVisible}handleToggleSaveCartForm(){this.hasSavedCart=!1,this.isSaveCartFormVisible=!this.isSaveCartFormVisible}saveCart(t){this.isBusy=!0,this.Cart.save(t).then((()=>{this.getSavedCarts(),this.hasSavedCart=!0,this.isBusy=!1}))}}}).component("cartPromoCode",A).component("cartRequestQuote",y).component("cartSplitCheckout",_).component("cartSummary",I).component("cartComponent",E).component("vfCartMenu",L).directive("vendorfuelCartMenu",(()=>({restrict:"C",template:"<vf-cart-menu></vf-cart-menu>"}))).service("Cart",b).name;function q(t,e,i){const r=[{name:"Most Relevant",value:"relevance",icon:"bi bi-sort-down"},{name:"Price Low-High",value:"pricea",icon:"bi bi-sort-numeric-down"},{name:"Price High-Low",value:"priced",icon:"bi bi-sort-numeric-down-alt"},{name:"Title Ascending",value:"descriptiona",icon:"bi bi-sort-alpha-down"},{name:"Title Descending",value:"descriptiond",icon:"bi bi-sort-alpha-down-alt"}],s={filters:{isShowingOnlyStock:!0===t.search().available_stock,isShowingRecycled:!0===t.search().recycled,isShowingGSA:!0===t.search().gsa,isShowingCoreList:!0===t.search().core_list,isShowingAbilityOne:!0===t.search().ability_one},currentPage:t.search().pg?Number(t.search().pg):1,query:t.search().q?decodeURIComponent(t.search().q.replace("%","")):"",refinements:function(){const e=[],i=t.search().brand_name?[t.search().brand_name].flat():null,r=t.search().manufacturer?[t.search().manufacturer].flat():null;return n().forEach(i,(function(t){e.push({facet:"Brand",key:decodeURIComponent(t)})})),n().forEach(r,(function(t){e.push({facet:"Manufacturer",key:decodeURIComponent(t)})})),e}(),orderBy:t.search().sortby?r.find((e=>e.value===t.search().sortby)):r[0]};return{getAttributes:function(){return s.attributes},getFacets:function(t){return"brand_name"===t?s.brands:"manufacturer"===t?s.manufacturers:void 0},getBreadcrumb:function(){return s.breadcrumb},getCategories:function(){return s.categories},getCategoryId:o,getCatalog:function(){const e=a();return i.list(e).then((t=>t.data)).then((e=>{var i,n,r;return s.attributes=function(e){if(e)return Object.entries(e).map((t=>{const[e,n]=t,r={key:e,values:[]};return Object.entries(n).forEach((t=>{const[e,n]=t;r.values.push({value:e,results:n,isChecked:i(r.key,e)})})),r}));function i(e,i){const n=`attr:${e}`,r=t.search()[n];return Array.isArray(r)?r.includes(i):!!r&&r===i}}(e.attributes),s.brands=u(e.facets.brand_name,"brand_name"),s.manufacturers=u(e.facets.manufacturer,"manufacturer"),s.breadcrumb=e?function(t){const e=[];if(t)for(const i of t)e.push({title:i.title,link:`/categories/${i.slug}`});return e}(e.category_hierarchy):null,s.category=e.category?e.category:null,s.categories=e?function(t){const e=t.facets,i=t.main_categories||[];for(const t of i)e["categories.lvl0"]&&e["categories.lvl0"][t.title]?t.results=e["categories.lvl0"][t.title]:t.results=0;if(t.category){const e=t.category_hierarchy[0],n=i.findIndex((t=>t.title===e.title));if(n>-1){const e=t.category_hierarchy;i[n].tree=e,i[n].active=!0,i[n].subcategories=t.sub_categories}}return i}(e):null,s.collection=e.collection?e.collection:null,s.currentPage=e.currentPage?e.currentPage:1,s.description=e.category?e.category.description:null,s.filters={isShowingOnlyStock:!(!(i=e.filters)||!i.available_stock),isShowingRecycled:!(!i||!i.recycled),isShowingGSA:!(!i||!i.gsa),isShowingCoreList:!(!i||!i.core_list),isShowingAbilityOne:!(!i||!i.ability_one)},s.hits=e.product_briefs?e.product_briefs:null,s.numResults=e.num_results?e.num_results:0,s.pagination=function(t){const e=[],i=t.totalPages;for(let t=1;t<=i;t++)e.push(t);return e}(e),s.title=(r=s).category?r.category.title:r.collection?r.collection.name:r.mfg?r.mfg.name:"Catalog",s.totalPages=e.totalPages?e.totalPages:1,s.errors=e.errors,(n=e.sub_categories).length&&(s.subcategories=n),s})).catch((t=>{console.error(t)}))},getCurrentPage:function(){return s.currentPage},getDataLength:()=>s.hits.length,getDescription:function(){return s.description},getFilters:function(){return s.filters},getNumResults:function(){return s.numResults},getManufacturers:function(){return s.manufacturers},getParams:a,getPagination:function(){return s.pagination},getQuery:function(){return s.query},getRefinements:c,getSortBy:d,getSubcategories:()=>s.subcategories?s.subcategories.filter((t=>t.results)):null,getTitle:function(){return s.title},getTotalPages:function(){return s.totalPages},changeCurrentPage:function(t){s.currentPage=t?Number(t):1,e.$emit("catalog.params:changes","Update the catalog.")},changeRefinement:function(t){if(!0===t.value)s.refinements.some((e=>e.facet===t.facet&&e.key===t.key))||(s.currentPage=1,s.refinements.push(t));else{const e=s.refinements.findIndex((e=>e.facet===t.facet&&e.key===t.key));e>=0&&s.refinements.splice(e,1);const i=s.brands.findIndex((e=>e.key===t.key));i>=0&&(s.brands[i].value.checked=!1);const n=s.manufacturers.findIndex((e=>e.key===t.key));if(n>=0&&(s.manufacturers[n].value.checked=!1),"Brand"!==t.facet&&"Manufacturer"!==t.facet){const e=s.attributes.findIndex((e=>e.facet===t.facet));if(e>=0){const i=s.attributes[e].values.findIndex((e=>e.key===t.key));s.attributes[e].values[i].value.checked=!1}}}},changeSortBy:function(t){s.orderBy=t,e.$emit("catalog.params:changes","Update the catalog.")},changeQuery:function(t){s.query=t,e.$emit("catalog.params:changes","Update the catalog.")},clearRefinements:function(){s.refinements=[],t.search("brand_name",null),t.search("manufacturer",null),e.$emit("catalog.params:changes","Update the catalog.")},searchFacets:function(t,n){if(""!==t)return t=t.replace(/[^0-9A-z\s]/gi," "),function(t,e){const n={cat:s.categoryId,facetName:t||"",facetQuery:e||"",q:""};return i.list(n).then((function(t){return t.data.facet_search_results}))}(n,t).then((function(t){if("brand_name"===n){if(t.length>0){const e=[];for(const i of t)e.push({facet:"Brand",key:i.value,value:{results:i.count,highlighted:i.highlighted,checked:!!c().find((t=>t.key===i.value))}});s.brands=e}}else if("manufacturer"===n&&t.length>0){const e=[];for(const i of t)e.push({facet:"Manufacturer",key:i.value,value:{results:i.count,highlighted:i.highlighted,checked:!!c().find((t=>t.key===i.value))}});s.manufacturers=e}e.$emit("catalog:facetSearched",{facet:n,results:t.length})}))},setCatalogId:function(e,i){if(t.search().cat){const e=t.search().cat;t.search("category",e),t.search("cat",null)}"/catalog/"===location.pathname?(s.categoryId=t.search().category?Number(t.search().category):null,s.collectionId=t.search().collection?Number(t.search().collection):null,s.mfgId=t.search().mfg?Number(t.search().mfg):null):e&&(s.categoryId="CATEGORY"===i?e:null,s.collectionId="COLLECTION"===i?e:null,s.mfgId="MANUFACTURER"===i?Number(e):null)}};function a(){const e=t.search();return{ability_one:e.ability_one,available_stock:e.available_stock,cat:o(),collection:t.path().includes("catalog")?t.search().collection?Number(t.search().collection):null:s.collectionId,core_list:e.core_list,facetFilters:l(),gsa:e.gsa,mfg:t.path().includes("catalog")?t.search().mfg?Number(t.search().mfg):null:s.mfgId,page:e.pg?Number(e.pg):1,rpp:32,pcrc:!(!e.recycled&&!0!==e.recycled),q:e.q,sortby:d().value}}function o(){return"/catalog/"===location.pathname?t.search().category?Number(t.search().category):null:s.categoryId}function l(){const e=[];return i("brand_name")&&e.push(i("brand_name")),i("manufacturer")&&e.push(i("manufacturer")),e.concat(function(){const e=t.search(),i=/attr:/i,n="attr:";return Object.entries(e).filter((t=>{const[e]=t;return i.test(e)})).map((t=>{const[e,i]=t;return Array.isArray(i)?i.map((t=>`${e.replace(n,"")}: ${t}`)):!!i&&`${e.replace(n,"")}: ${i}`})).filter((t=>t))}()).filter((t=>t.length));function i(e){const i=t.search()[e];return Array.isArray(i)?i.map((t=>`${e}: ${t}`)):i?[`${e}: ${i}`]:void 0}}function c(){return s.refinements}function d(){return s.orderBy}function u(e,i){if(e)return Object.entries(e).map((t=>{const[e,i]=t;return{value:e,results:i,isChecked:n(e)}}));function n(e){const n=t.search()[i];return Array.isArray(n)?n.includes(e):!!n&&n===e}}}q.$inject=["$location","$rootScope","Products"];const R={template:'<ul class="list-unstyled" style="padding-left:0"> <li ng-repeat="item in $ctrl.list | orderBy:\'title\' track by $index"> <div class="d-flex justify-content-between align-items-baseline"> <a ng-href="/{{ $ctrl.catSlug }}/{{ item.slug }}{{ $ctrl.params }}" ng-class="[\'pb-1 text-break\', { \'fw-bold\': item.active }]"> {{ item.title }} </a> <span class="badge text-bg-light ms-2" ng-if="item.results && (!item.tree || item.tree.length === 1)"> {{ $ctrl.isLoading ? \'&hellip;\' : (item.results | number) }} </span> </div> <ul class="children list-unstyled ps-3" ng-if="item.active && item.tree.length"> <li ng-if="item.tree[1]"> <div class="d-flex justify-content-between align-items-baseline"> <a class="fw-bold pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{ item.tree[1].slug }}{{\n\t\t\t\t\t\t\t$ctrl.params\n\t\t\t\t\t\t}}"> {{ item.tree[1].title }} </a> <span class="badge text-bg-light ms-2" ng-if="item.results && item.tree.length === 2"> {{ $ctrl.isLoading ? \'&hellip;\' : (item.results | number) }} </span> </div> <ul class="children list-unstyled ps-3" ng-if="item.tree.length > 1"> <li ng-if="item.tree[2]"> <div class="d-flex justify-content-between align-items-baseline"> <a class="fw-bold pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{\n\t\t\t\t\t\t\t\t\titem.tree[2].slug\n\t\t\t\t\t\t\t\t}}{{ $ctrl.params }}"> {{ item.tree[2].title }} </a> <span class="badge text-bg-light ms-2" ng-if="item.results && item.tree.length === 3"> {{ $ctrl.isLoading ? \'&hellip;\' : (item.results | number) }} </span> </div> <ul class="children list-unstyled ps-3" ng-if="item.tree.length > 2"> <li ng-if="item.tree[3]"> <div class="d-flex justify-content-between align-items-baseline"> <a class="fw-bold pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{\n\t\t\t\t\t\t\t\t\t\t\titem.tree[3].slug\n\t\t\t\t\t\t\t\t\t\t}}{{ $ctrl.params }}"> {{ item.tree[3].title }} </a> <span class="badge text-bg-light ms-2" ng-if="\n\t\t\t\t\t\t\t\t\t\t\titem.results &&\n\t\t\t\t\t\t\t\t\t\t\titem.tree.length === 4\n\t\t\t\t\t\t\t\t\t\t"> {{ $ctrl.isLoading ? \'&hellip;\' : (item.results | number) }} </span> </div> </li> <li class="d-flex justify-content-between align-items-baseline" ng-repeat="subcategory in item.subcategories | orderBy:\'title\' track by $index" ng-if="\n\t\t\t\t\t\t\t\t\titem.tree.length === 3 &&\n\t\t\t\t\t\t\t\t\tsubcategory.results\n\t\t\t\t\t\t\t\t"> <a class="pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{\n\t\t\t\t\t\t\t\t\t\tsubcategory.slug\n\t\t\t\t\t\t\t\t\t}}{{ $ctrl.params }}"> {{ subcategory.title }} </a> <span class="badge text-bg-light ms-2" ng-if="subcategory.results"> {{ $ctrl.isLoading ? \'&hellip;\' : (subcategory.results | number) }} </span> </li> </ul> </li> <li class="d-flex justify-content-between align-items-baseline" ng-repeat="subcategory in item.subcategories | orderBy:\'title\' track by $index" ng-if="item.tree.length === 2 && subcategory.results"> <a class="pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{\n\t\t\t\t\t\t\t\tsubcategory.slug\n\t\t\t\t\t\t\t}}{{ $ctrl.params }}"> {{ subcategory.title }} </a> <span class="badge text-bg-light ms-2" ng-if="subcategory.results"> {{ $ctrl.isLoading ? \'&hellip;\' : (subcategory.results | number) }} </span> </li> </ul> </li> <li class="d-flex justify-content-between align-items-baseline" ng-repeat="subcategory in item.subcategories | orderBy:\'title\' track by $index" ng-if="item.tree.length === 1 && subcategory.results"> <a class="pb-1 text-break" ng-href="/{{ $ctrl.catSlug }}/{{ subcategory.slug }}{{\n\t\t\t\t\t\t$ctrl.params\n\t\t\t\t\t}}"> {{ subcategory.title }} </a> <span class="badge text-bg-light ms-2" ng-if="subcategory.results"> {{ $ctrl.isLoading ? \'&hellip;\' : (subcategory.results | number) }} </span> </li> </ul> </li> </ul> ',controller:F};function F(t,e,i,n){this.isLoading=!0,this.list=[],this.$onInit=()=>{this.catSlug=localized.settings.general.cat_slug||"categories",i.$on("catalog.data:init",(()=>{this.list=n.getCategories(),this.params=r()})),i.$on("catalog.params:changes",(()=>{this.isLoading=!0})),i.$on("catalog.data:changes",(()=>{this.list=n.getCategories(),this.params=r(),this.isLoading=!1}))};const r=()=>{const i=e.search(),n={brand_name:i.brand_name?i.brand_name:null,manufacturer:i.manufacturer?i.manufacturer:null,q:i.q?i.q:null};return i.brand_name||i.manufacturer||i.q?`?${t(n)}`:""}}F.$inject=["$httpParamSerializer","$location","$rootScope","catalogService"];const M={template:'<div class="d-none d-sm-block" ng-if="$ctrl.subcategories.length"> <div class="row g-2 row-cols-2 row-cols-sm-4 row-cols-md-5 row-cols-lg-6"> <div class="col" ng-repeat="category in $ctrl.subcategories | orderBy:\'title\' | limitTo: $ctrl.limit track by $index"> <div class="card h-100"> <div class="card-img-top p-1 ratio ratio-1x1"> <img loading="lazy" alt="" width="200" height="200" ng-src="{{ category.img_url || $ctrl.placeholder }}"/> </div> <div class="card-body pt-0 px-1 pb-2 text-center lh-sm"> <a class="card-link stretched-link text-decoration-none" ng-href="/{{ $ctrl.rootSlug }}/{{ category.slug }}" ng-attr-title="Go to {{ category.title }}"> {{ category.title }} </a> <span class="text-muted small" ng-if="category.results">({{ category.results | number }})</span> </div> </div> </div> </div> </div> ',bindings:{subcategories:"<"},controller:class{limit=localized.settings.general.subcategoryCardsLimit||null;placeholder=`${localized.dir.url}assets/img/placeholder-150px.png`;rootSlug=localized.settings.general.cat_slug}},N={bindings:{facetName:"@",facetTitle:"@"},controller:D,template:'<div class="input-group input-group-sm mb-2"> <input class="form-control" type="text" list="facets" ng-attr-placeholder="Search {{ $ctrl.facetTitle }}s&hellip;" ng-model="$ctrl.query" ng-keyup="$ctrl.searchFacets($event, $ctrl.query)"/> <button class="btn btn-outline-secondary" title="Search" ng-click="$ctrl.searchFacets($event, $ctrl.query)"> <i class="bi bi-search"></i> </button> <button class="btn btn-outline-secondary" title="Reset" ng-click="$ctrl.resetFacetSearch()" ng-hide="!$ctrl.query.length"> <i class="bi bi-arrow-counterclockwise"></i> </button> <datalist id="facets"> <option ng-repeat="item in $ctrl.facets" ng-value="item.key"></option> </datalist> </div> <form name="facetsForm" novalidate> <fieldset class="border-0 p-0" ng-hide="$ctrl.isInProgress"> <div class="d-flex align-items-baseline justify-content-between" ng-if="$ctrl.isShowingSearchResults"> <small class="card-subtitle mb-2"> <ng-pluralize count="$ctrl.facets.length" when="{\'0\': \'No {{ $ctrl.facetTitle }}s contain &lsquo;{{\n\t\t\t\t\t\t$ctrl.cachedQuery\n\t\t\t\t\t}}&rsquo;.\',\n\t\t\t\t\t  \'one\': \'Showing one {{ $ctrl.facetTitle }} containing &lsquo;{{\n\t\t\t\t\t\t$ctrl.cachedQuery\n\t\t\t\t\t}}&rsquo;.\',\n\t\t\t\t\t  \'other\': \'Showing {} {{ $ctrl.facetTitle }}s containing &lsquo;{{\n\t\t\t\t\t\t$ctrl.cachedQuery\n\t\t\t\t\t}}&rsquo;.\'}"> </ng-pluralize> <span ng-if="$ctrl.hasStockOrRecycledApplied">Turn off any enabled filters to search all {{ $ctrl.facetTitle }}s.</span> </small> <button class="btn btn-link btn-sm" style="word-break:keep-all" ng-click="$ctrl.resetFacetSearch()"> Reset </button> </div> <div class="form-check" ng-repeat="facet in $ctrl.facets | limitTo:$ctrl.limit track by $index"> <input class="form-check-input" type="checkbox" ng-model="facet.isChecked" ng-attr-id="{{ \'attribute-\' + $id }}"/> <label class="form-check-label d-flex justify-content-between align-items-baseline" ng-attr-for="{{ \'attribute-\' + $id }}"> {{ facet.value }} <span class="badge rounded-pill text-bg-light" ng-if="facet.results"> {{ facet.results }} </span> </label> </div> </fieldset> <div class="has-text-align-center" ng-show="$ctrl.isInProgress"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="btn-toolbar justify-content-between" role="toolbar" ng-hide="$ctrl.isInProgress"> <button class="btn btn-sm btn-link w-100 px-0 d-flex align-items-baseline justify-content-between" ng-click="$ctrl.toggleLimit()" ng-if="$ctrl.facets.length > 10" ng-attr-title="{{\n\t\t\t\t$ctrl.limit === 10\n\t\t\t\t\t? \'Show all \' + $ctrl.facetTitle + \'s\'\n\t\t\t\t\t: \'Show fewer \' + $ctrl.facetTitle + \'s\'\n\t\t\t}}"> {{ $ctrl.limit === 10 ? \'Show all\' : \'Show fewer\' }} {{ $ctrl.facetTitle }}s <i aria-hidden="true" ng-class="[\n\t\t\t\t\t\'bi\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'bi-chevron-down\': $ctrl.limit === 10,\n\t\t\t\t\t\t\'bi-chevron-up\': $ctrl.limit > 10\n\t\t\t\t\t}\n\t\t\t\t]"></i> </button> <button class="btn btn-sm btn-secondary" ng-if="facetsForm.$dirty" ng-click="$ctrl.onClickApply($ctrl.facetName, facetsForm)"> Apply </button> </div> </form> '};function D(t,e,i,n){const r=this;function s(){r.facets=n.getFacets(r.facetName),r.query="",r.isShowingSearchResults=!1,r.isInProgress=!1}r.isInProgress=!0,r.isShowingSearchResults=!1,r.isCollapsed=!0,r.limit=10,r.onClickApply=function(i,n){const s=r.facets.filter((t=>t.isChecked)),a=r.facets.filter((t=>!t.isChecked));if(t.search()[i]){const e=t.search()[i];let n=[];Array.isArray(e)?n=e:n.push(e),n=n.filter((t=>a.some((e=>e.value!==t)))),s.forEach((t=>{[e].flat().some((e=>e===t.value))||n.push(t.value)})),t.search(i,n)}else{const e=s.map((t=>t.value));t.search(i,e)}t.search("pg",null),e.$emit("catalog.params:changes"),n.$setPristine()},r.refreshFacets=s,r.resetFacetSearch=function(){s()},r.toggleLimit=function(){r.limit=10===r.limit?1e3:10},e.$on("catalog.params:changes",(()=>{r.isInProgress=!0})),e.$on("catalog.data:init",(()=>{s()})),e.$on("catalog.data:changes",(()=>{s()}));const a=()=>{const e=t.search();return!(!e.recycled&&!0!==e.recycled)},o=()=>{const e=t.search();return"false"!==e.available_stock&&!1!==e.available_stock};function l(e,i){const n=t.search()[e];return Array.isArray(n)?n.includes(i):!!n&&n===i}this.searchFacets=(t,e)=>{if("click"===t.type||13===t.keyCode){this.isInProgress=!0,this.cachedQuery=e,this.hasStockOrRecycledApplied=o()||a();const t={cat:n.getCategoryId(),facetName:this.facetName,facetQuery:e,pcrc:a(),available_stock:o()};i.list(t).then((t=>t.data)).then((t=>{var e,i;this.facets=(e=t.facet_search_results,i=this.facetName,e.map((t=>({value:t.value,results:t.count,isChecked:l(i,t.value)})))),this.isInProgress=!1,this.isShowingSearchResults=!0}))}}}D.$inject=["$location","$rootScope","Products","catalogService"];const j={template:'<div class="accordion" id="accordionFilters"> <div class="accordion-item" ng-if="$ctrl.hasAnyFilters"> <h2 class="accordion-header" id="headingOne"> <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> Filters </button> </h2> <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"> <div class="accordion-body"> <div class="form-check form-switch" ng-if="$ctrl.hasInventory"> <input type="checkbox" class="form-check-input" id="isShowingOnlyStock" ng-model="$ctrl.isShowingOnlyStock" ng-change="$ctrl.toggleFilter(\'isShowingOnlyStock\')" ng-disabled="$ctrl.isLoading"/> <label class="form-check-label" for="isShowingOnlyStock"> Exclude sold-out items </label> </div> <div class="form-check form-switch" ng-if="$ctrl.settings.enableAbilityOne"> <input type="checkbox" class="form-check-input" id="isShowingAbilityOne" ng-model="$ctrl.isShowingAbilityOne" ng-change="$ctrl.toggleFilter(\'isShowingAbilityOne\')" ng-disabled="$ctrl.isLoading"/> <label class="form-check-label" for="isShowingAbilityOne"> Only AbilityOne </label> </div> <div class="form-check form-switch" ng-if="$ctrl.settings.enableCoreList"> <input type="checkbox" class="form-check-input" id="isShowingCoreList" ng-model="$ctrl.isShowingCoreList" ng-change="$ctrl.toggleFilter(\'isShowingCoreList\')" ng-disabled="$ctrl.isLoading"/> <label class="form-check-label" for="isShowingCoreList"> Only Core List </label> </div> <div class="form-check form-switch" ng-if="$ctrl.settings.enableGSA"> <input type="checkbox" class="form-check-input" id="isShowingGSA" ng-model="$ctrl.isShowingGSA" ng-change="$ctrl.toggleFilter(\'isShowingGSA\')" ng-disabled="$ctrl.isLoading"/> <label class="form-check-label" for="isShowingGSA"> Only <abbr title="U.S. General Services Administration">GSA</abbr> </label> </div> <div class="form-check form-switch" ng-if="$ctrl.settings.enableRecyclable"> <input type="checkbox" class="form-check-input" id="isShowingRecycled" ng-model="$ctrl.isShowingRecycled" ng-change="$ctrl.toggleFilter(\'isShowingRecycled\')" ng-disabled="$ctrl.isLoading"/> <label class="form-check-label" for="isShowingRecycled"> Only Recycled <span class="text-success" aria-hidden="true">&#9850;</span> <div class="small"> Items containing any or all <abbr title="Post Consumer Recycled Content">PCRC</abbr>. </div> </label> </div> </div> </div> </div> <div class="accordion-item"> <h2 class="accordion-header" id="headingTwo"> <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"> Categories </button> </h2> <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo"> <div class="accordion-body"> <catalog-categories-list></catalog-categories-list> </div> </div> </div> <div class="accordion-item" ng-if="!$ctrl.settings.disableFacets"> <h2 class="accordion-header" id="headingThree"> <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"> Brands </button> </h2> <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"> <div class="accordion-body"> <catalog-facet-list facet-title="brand" facet-name="brand_name"> </catalog-facet-list> </div> </div> </div> <div class="accordion-item" ng-if="!$ctrl.settings.disableFacets"> <h2 class="accordion-header" id="headingFour"> <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour"> Manufacturers </button> </h2> <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"> <div class="accordion-body"> <catalog-facet-list facet-title="manufacturer" facet-name="manufacturer"> </catalog-facet-list> </div> </div> </div> <div class="accordion-item" ng-if="\n\t\t\t!$ctrl.settings.disableFacets &&\n\t\t\t$ctrl.attributes &&\n\t\t\t$ctrl.attributes.length\n\t\t"> <h2 class="accordion-header" id="headingFive"> <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive"> Attributes </button> </h2> <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"> <div class="accordion-body"> <catalog-attributes-list></catalog-attributes-list> </div> </div> </div> </div> ',controller:z};function z(t,e){this.settings=localized.settings.general,this.hasAnyFilters=localized.settings.store.options["Inventory System"]||localized.settings.general.enableAbilityOne||localized.settings.general.enableCoreList||localized.settings.general.enableGSA||localized.settings.general.enableRecyclable,this.hasInventory=localized.settings.store.options["Inventory System"],this.isLoading=!0,this.$onInit=()=>{e.$on("catalog.params:changes",(()=>{this.isLoading=!0})),e.$on("catalog.data:init",(()=>{this.isLoading=!1,this.refreshFilters()})),e.$on("catalog.data:changes",(()=>{this.isLoading=!1,this.refreshFilters()}))},this.onClickCollapse=()=>{this.isCollapsingFilters=!this.isCollapsingFilters;const t=jQuery("catalog-header").offset();return jQuery("html, body").stop().animate({scrollTop:t.top},500),!1},this.refreshFilters=()=>{const e=t.search();this.isShowingOnlyStock=!!e.available_stock,this.isShowingRecycled=!!e.recycled,this.isShowingGSA=!!e.gsa,this.isShowingCoreList=!!e.core_list,this.isShowingAbilityOne=!!e.ability_one},this.toggleFilter=i=>{if("isShowingOnlyStock"===i){const e=!!this.isShowingOnlyStock||null;t.search("available_stock",e)}else if("isShowingRecycled"===i){const e=!!this.isShowingRecycled||null;t.search("recycled",e)}else if("isShowingGSA"===i){const e=!!this.isShowingGSA||null;t.search("gsa",e)}else if("isShowingCoreList"===i){const e=!!this.isShowingCoreList||null;t.search("core_list",e)}else if("isShowingAbilityOne"===i){const e=!!this.isShowingAbilityOne||null;t.search("ability_one",e)}t.search("pg",null),e.$emit("catalog.params:changes")}}z.$inject=["$location","$rootScope"];const V={bindings:{attribute:"<",isInProgress:"<"},controller:B,template:'<form name="attributeForm"> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isInProgress"> <button class="btn btn-link btn-sm w-100 d-flex align-items-baseline justify-content-between" ng-attr-title="{{\n\t\t\t\t$ctrl.isShowingValues\n\t\t\t\t\t? \'Collapse \' + $ctrl.attribute.key + \' panel\'\n\t\t\t\t\t: \'Expand \' + $ctrl.attribute.key + \' panel\'\n\t\t\t}}" ng-click="$ctrl.isShowingValues = !$ctrl.isShowingValues"> {{ $ctrl.attribute.key }} <i aria-hidden="true" ng-class="[\n\t\t\t\t\t\'bi\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'bi-chevron-up\': $ctrl.isShowingValues,\n\t\t\t\t\t\t\'bi-chevron-down\': !$ctrl.isShowingValues\n\t\t\t\t\t}\n\t\t\t\t]"></i> </button> <div class="px-2 mb-2" ng-show="$ctrl.isShowingValues"> <div class="form-check" ng-repeat="value in $ctrl.attribute.values track by $index"> <input class="form-check-input" type="checkbox" ng-model="value.isChecked" ng-attr-id="{{ \'attribute-\' + $id }}"/> <label class="form-check-label small d-flex justify-content-between align-items-baseline" ng-attr-for="{{ \'attribute-\' + $id }}"> {{ value.value }} <span class="badge rounded-pill text-bg-light" ng-if="value.results"> {{ value.results }} </span> </label> </div> <button class="btn btn-sm btn-secondary mt-2" ng-if="attributeForm.$dirty" ng-click="$ctrl.onClickApply($ctrl.attribute, attributeForm)" ng-disabled="$ctrl.isInProgress"> {{ $ctrl.isInProgress ? \'Applying\' : \'Apply\' }} </button> </div> </fieldset> </form> '};function B(t,e){const i=this;i.$onInit=function(){i.isShowingValues=i.attribute.values.some((t=>t.isChecked))},i.$onChanges=function(){i.isShowingValues=i.attribute.values.some((t=>t.isChecked))},i.onClickApply=function(i,n){const{key:r}=i;(function(e,i){const n=i.map((t=>t.value)),r=`attr:${e}`;t.search(r,n)})(r,Object.values(i.values).filter((t=>t.isChecked))),t.search("pg",null),e.$emit("catalog.params:changes"),n.$setPristine()}}B.$inject=["$location","$rootScope"];const H={controller:G,template:'<div> <div class="input-group input-group-sm"> <span class="input-group-text"> <i class="bi bi-filter"></i> </span> <input class="form-control" type="search" placeholder="Filter attributes..." ng-model="$ctrl.attributesQuery"/> <button ng-if="$ctrl.attributesQuery.length > 0" class="btn btn-outline-secondary" title="Reset" ng-click="$ctrl.attributesQuery = \'\'"> <i class="bi bi-arrow-counterclockwise"></i> </button> </div> <div class="alert alert-warning mb-0 mt-3 small" ng-show="$ctrl.attributes && results.length === 0"> Sorry, no attributes match your filter query. </div> </div> <ul class="list-group list-group-flush mb-1"> <li class="list-group-item p-0" ng-repeat="attribute in $ctrl.attributes | filter:$ctrl.attributesQuery as results track by $index"> <catalog-attributes-list-item attribute="attribute" is-in-progress="$ctrl.isInProgress"> </catalog-attributes-list-item> </li> </ul> '};function G(t,e){const i=this;function n(){i.attributes=e.getAttributes(),i.isInProgress=!1}i.isCollapsed=!1,i.isInProgress=!0,i.refreshAttributes=n,t.$on("catalog.params:changes",(()=>{i.isInProgress=!0})),t.$on("catalog.data:init",(()=>{n()})),t.$on("catalog.data:changes",(()=>{n()}))}G.$inject=["$rootScope","catalogService"];const W={template:'<p class="mb-2"> Displaying <span ng-if="$ctrl.isBusy">&ensp;&hellip;&ensp;results</span> <span ng-if="!$ctrl.isBusy"> {{ $ctrl.composeResults() }} <span ng-if="$ctrl.query">for <q class="fw-bold">{{ $ctrl.query }}</q></span> </span> </p> ',controller:Q};function Q(t,e){this.isBusy=!0,this.max=1e3,this.numResults=0,t.$on("catalog.data:init",(()=>{this.refreshResults()})),t.$on("catalog.params:changes",(()=>{this.isBusy=!0})),t.$on("catalog.data:changes",(()=>{this.refreshResults()})),this.refreshResults=()=>{this.numResults=e.getNumResults(),this.currentPage=e.getCurrentPage(),this.dataLength=e.getDataLength(),this.query=e.getQuery(),this.params=e.getParams(),this.perPage=e.getParams().rpp,this.isBusy=!1},this.composeResults=()=>{const t=1===this.currentPage?1:32*(this.currentPage-1)+1,e=32*(this.currentPage-1)+this.dataLength;return`${this.numResults>32?`${t.toLocaleString()} to ${e.toLocaleString()} of ${this.numResults.toLocaleString()}`:this.numResults.toLocaleString()} results`}}Q.$inject=["$rootScope","catalogService"];const K={template:'<h1> {{ $ctrl.title }} </h1> <p class="border-bottom pb-3 d-none d-md-block" ng-if="$ctrl.description" ng-bind-html="$ctrl.description"></p> <catalog-subcategories ng-if="$ctrl.showSubcategoryCards" subcategories="$ctrl.subcategories"></catalog-subcategories> ',controller:Y};function Y(t,e){this.showSubcategoryCards=localized.settings.general.showSubcategoryCards,this.description="",this.isLoading=!0,this.title="Catalog",t.$on("catalog.data:init",(()=>{this.title=e.getTitle(),this.description=e.getDescription(),this.subcategories=e.getSubcategories()}))}Y.$inject=["$rootScope","catalogService"];const J=n().module("CatalogModule",[]).factory("catalogService",q).component("catalogAttributesListItem",V).component("catalogAttributesList",H).component("catalogCategoriesList",R).component("catalogFacetList",N).component("catalogFilters",j).component("catalogResults",W).component("catalogSubcategories",M).component("catalogTitle",K).name;class Z{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"off";this.label=t,this.value=i,this.isRequired=e,this.autocomplete=n}}const X={bindings:{poPrefix:"@"},template:'<layout-component> <bs-spinner ng-if="$ctrl.isLoading"> </bs-spinner> <div class="alert alert-info text-center" ng-hide="$ctrl.isLoading" ng-if="!$ctrl.order"> <h3>Your shopping cart is empty.</h3> <p> Please go to the <a class="alert-link" ng-href="{{ $ctrl.pageUrls.catalog }}">Catalog</a> to continue shopping or <span ng-if="!$ctrl.isSignedIn"> <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> to access any previously Saved Carts. </span> <span ng-if="$ctrl.isSignedIn"> go to your previously <a class="alert-link" ng-href="{{ $ctrl.pageUrls.savedCarts }}">Saved Carts</a>. </span> </p> <div class="btn-toolbar justify-content-center"> <a class="btn btn-primary" ng-href="{{ $ctrl.pageUrls.catalog }}">Go to Catalog</a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.pageUrls.login }}" ng-if="!$ctrl.isSignedIn"> Sign In </a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.pageUrls.savedCarts }}" ng-if="$ctrl.isSignedIn"> Saved Carts </a> </div> </div> <div ng-if="$ctrl.order"> <ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist" aria-owns="checkout-shipping-tab checkout-billing-tab checkout-delivery-tab checkout-additional-tab checkout-review-tab"> <li class="nav-item"> <a class="nav-link active px-1 px-sm-3" id="checkout-shipping-tab" data-bs-toggle="pill" href="#checkout-shipping" role="tab" aria-controls="checkout-shipping" aria-selected="true"> <i ng-if="$ctrl.isShippingComplete" class="bi bi-check-circle-fill text-success"></i> Shipping </a> </li> <li class="nav-item" ng-hide="$ctrl.isShippingSameAsBilling"> <a class="nav-link px-1 px-sm-3" id="checkout-billing-tab" data-bs-toggle="pill" ng-class="{ disabled: !$ctrl.isShippingComplete }" href="#checkout-billing" role="tab" aria-controls="checkout-billing" aria-selected="false"> <i ng-if="$ctrl.isBillingComplete" class="bi bi-check-circle-fill text-success"></i> Billing </a> </li> <li class="nav-item"> <a class="nav-link px-1 px-sm-3" id="checkout-delivery-tab" data-bs-toggle="pill" ng-class="{ disabled: !$ctrl.isBillingComplete }" href="#checkout-delivery" role="tab" aria-controls="checkout-delivery" aria-selected="false"> <i ng-if="$ctrl.isDeliveryComplete" class="bi bi-check-circle-fill text-success"></i> Delivery </a> </li> <li class="nav-item" ng-show="$ctrl.hasAdditionalInfo"> <a class="nav-link px-1 px-sm-3" id="checkout-additional-tab" data-bs-toggle="pill" ng-class="{ disabled: !$ctrl.isBillingComplete }" href="#checkout-additional" role="tab" aria-controls="checkout-additional" aria-selected="false"> <i ng-if="$ctrl.isExtraFieldsComplete" class="bi bi-check-circle-fill text-success"></i> Additional Info </a> </li> <li class="nav-item"> <a class="nav-link px-1 px-sm-3" id="checkout-review-tab" data-bs-toggle="pill" ng-class="{ disabled: !$ctrl.isDeliveryComplete }" href="#checkout-review" role="tab" aria-controls="checkout-review" aria-selected="false"> Review </a> </li> </ul> </div> <div class="has-text-align-center" ng-if="$ctrl.order && !$ctrl.isSignedIn"> <p> Log in or create an account now and enjoy an easier and faster checkout process. </p> <p> <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.register }}?referrer=checkout">Register</a> | <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.login }}?referrer=checkout">Login</a> </p> </div> <div class="mb-5" ng-if="$ctrl.order"> <div class="tab-content" id="pills-tabContent"> <div class="tab-pane fade show active" id="checkout-shipping" role="tabpanel" aria-labelledby="checkout-shipping-tab"> <checkout-shipping-address billing-address="$ctrl.billingAddress" is-billing-complete="$ctrl.isBillingComplete" is-shipping-complete="$ctrl.isShippingComplete" is-shipping-same-as-billing="$ctrl.isShippingSameAsBilling" shipping-address="$ctrl.shippingAddress"></checkout-shipping-address> </div> <div class="tab-pane fade" id="checkout-billing" role="tabpanel" aria-labelledby="checkout-billing-tab"> <checkout-billing-address billing-address="$ctrl.billingAddress" is-billing-complete="$ctrl.isBillingComplete" shipping-address="$ctrl.shippingAddress"></checkout-billing-address> </div> <div class="tab-pane fade" id="checkout-delivery" role="tabpanel" aria-labelledby="checkout-delivery-tab"> <checkout-shipping-method has-additional-info="$ctrl.hasAdditionalInfo" order-id="$ctrl.order.order_id" zipcode="$ctrl.shippingAddress.zip" is-billing-complete="$ctrl.isBillingComplete" is-shipping-complete="$ctrl.isShippingComplete" is-delivery-complete="$ctrl.isDeliveryComplete" is-ready-to-confirm="$ctrl.isReadyToConfirm" is-shipping-same-as-billing="$ctrl.isShippingSameAsBilling" selected-shipping-method="$ctrl.selectedShippingMethod"> </checkout-shipping-method> </div> <div class="tab-pane fade" id="checkout-additional" role="tabpanel" aria-labelledby="checkout-additional-tab"> <checkout-additional-fields extra-fields="$ctrl.extraFields"> </checkout-additional-fields> </div> <div class="tab-pane fade" id="checkout-review" role="tabpanel" aria-labelledby="checkout-review-tab"> <checkout-finalize-order accepted-payment-types="$ctrl.acceptedPaymentTypes" billing-address="$ctrl.billingAddress" extra-fields="$ctrl.extraFields" order="$ctrl.order" is-ready-to-confirm="$ctrl.isReadyToConfirm" is-shipping-same-as-billing="$ctrl.isShippingSameAsBilling" shipping-address="$ctrl.shippingAddress" selected-shipping-method="$ctrl.selectedShippingMethod"></checkout-finalize-order> </div> </div> </div> </layout-component> ',controller:tt};function tt(t,e,i,n,r){const s=this;this.hasAPIKey=localized.settings.general.api_key,this.pageUrls={catalog:r.getPageUrl("catalog"),login:r.getPageUrl("login",{redirect_to:e.path()}),register:r.getPageUrl("register"),savedCarts:r.getPageUrl("saved-carts")},this.$onInit=()=>{this.hasAPIKey&&n.isAuthed&&(function(){if(!n.isGuest&&n.name){const t=n.name.split(" "),e=t.shift(),i=t.join(" ");s.billingAddress={first_name:e,last_name:i,email:n.email},s.shippingAddress={first_name:e,last_name:i,email:n.email}}}(),s.productSlug=localized.settings.general.product_slug||"products",s.isSignedIn=n.isAuthed&&n.email,this.getCheckout())},this.$onChanges=()=>{"PO_PREFIX"===this.poPrefix&&(this.poPrefix="")},this.getCheckout=()=>{s.isLoading=!0,i.checkout().then((t=>{t.data.errors.length||(s.extraFields=this.getExtraFields(t.data.custom_fields),s.acceptedPaymentTypes=function(t){const e={};return Object.entries(t).forEach((t=>{const[i,n]=t;!0!==n&&1!==n||(e[i]=!0)})),e}(t.data.accepted_payment_types),s.customFields=t.data.custom_fields,s.hasAdditionalInfo=function(){const{general:{checkout:t}}=localized.settings;return Object.values(t).some((t=>!0===t))||Object.keys(s.customFields).length>0}(),s.order=t.data.order,s.shippingMethods=t.data.shipping_methods,s.hasLockedBilling=t.data.lock_billing,s.hasLockedShipping=t.data.lock_shipping)})).finally((()=>{s.isLoading=!1}))},this.getExtraFields=e=>{const i={},{general:{checkout:r}}=localized.settings,s=Object.entries(r).filter((t=>t[1])),a=localized.settings.general.checkout;return s.forEach((e=>{const[r]=e;switch(r){case"attention_option":i.attention=new Z("Attention",a.attention_option_required);break;case"company_name_option":i.organization=new Z("Company/Organization",a.company_name_option_required,n.company,"organization");break;case"cost_center_option":i.cost_center_code=new Z("Cost Center Code",a.cost_center_option_required||"true"===t.get("vf.user.cost_center_is_required")||!1);break;case"issuing_office_option":i.issuing_office=new Z("Issuing Office",a.issuing_office_option_required);break;case"notes_option":i.notes=new Z("Notes",a.notes_option_required);break;case"purchase_order_option":i.rr_po_num=new Z("Purchase Order",a.purchase_order_option_required,this.poPrefix)}})),Object.entries(e).forEach((t=>{const[e,n]=t;i[e]=new Z(n.name,n.required),Array.isArray(n.value)?(n.value.length>1&&(i[e].options=n.value,i[e].value=n.value[0]),1===n.value.length&&n.value[0]&&(i[e].value=n.value[0],i[e].isReadonly=!0)):(i[e].value=n.value,i[e].isReadonly=!0)})),Object.entries(e).filter((t=>t[1].replace_field)).forEach((t=>{const e=t[1].replace_field;i[e]&&delete i[e]})),i},this.showTab=t=>{jQuery(`#checkout-${t}-tab`).tab("show"),window.scrollTo(0,0)}}tt.$inject=["$cookies","$location","Checkout","User","Utils"];const et={template:'<h2>Billing Address</h2> <form name="billingAddressForm" novalidate> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isShippingSameAsBilling"> <div class="row mb-3"> <div class="col-sm-6"> <label for="billing-first-name" class="form-label">First Name <small>(required)</small></label> <input type="text" class="form-control" id="billing-first-name" ng-model="$ctrl.billingAddress.first_name" name="firstName" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.firstName.$invalid\n\t\t\t\t\t}" autocomplete="given-name" required/> <div class="invalid-feedback"> Please enter your First Name. </div> </div> <div class="col-sm-6"> <label for="billing-last-name" class="form-label">Last Name <small>(required)</small></label> <input type="text" class="form-control" id="billing-last-name" ng-model="$ctrl.billingAddress.last_name" autocomplete="family-name" name="lastName" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.lastName.$invalid\n\t\t\t\t\t}" required/> <div class="invalid-feedback">Please enter your Last Name.</div> </div> </div> <div class="row mb-3"> <div class="col-sm-6"> <label for="billing-email" class="form-label">Email Address <small>(required)</small></label> <input type="email" class="form-control" id="billing-email" ng-model="$ctrl.billingAddress.email" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.email.$invalid\n\t\t\t\t\t}" ng-pattern="$ctrl.emailPattern" autocomplete="email" name="email" required/> <div class="invalid-feedback"> Please enter a valid email address. </div> </div> <div class="col-sm-6"> <label for="billing-phone" class="form-label">Phone <small>(required)</small></label> <input autocomplete="tel" id="billing-phone" name="phone" ng-class="[\n\t\t\t\t\t\t\'form-control\',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\t\tbillingAddressForm.phone.$invalid\n\t\t\t\t\t\t}\n\t\t\t\t\t]" ng-model="$ctrl.billingAddress.phone" required type="tel" ui-mask="(299) 999-9999"/> <div class="form-text text-muted small"> Please enter a valid phone number to prevent possible delays in your order. </div> </div> </div> <div class="alert alert-info" ng-if="$ctrl.checkoutCtrl.hasLockedBilling"> Locked Shipping is enabled for your account. Please click the button below to select a saved address or contact your administrator. </div> <button class="btn btn-primary mb-3" ng-if="!$ctrl.isGuest && $ctrl.isAuthed" ng-click="$ctrl.toggleShowSavedAddresses()"> {{ $ctrl.isShowingSavedAddresses ? \'Hide\' : \'Show\' }} Saved Addresses </button> <div id="saved-billing-addresses" ng-show="$ctrl.isShowingSavedAddresses"> <checkout-address-book type="billing" address="$ctrl.billingAddress" is-address-book-updated="$ctrl.isAddressBookUpdated" is-locked="$ctrl.checkoutCtrl.hasLockedBilling" on-select="$ctrl.onSelectedAddress()"> </checkout-address-book> </div> <div class="mb-3" ng-if="!$ctrl.isGuest && $ctrl.isAuthed" ng-hide="\n\t\t\t\t$ctrl.checkoutCtrl.hasLockedBilling &&\n\t\t\t\t!$ctrl.billingAddress.profileName\n\t\t\t"> <label for="billing-profile-name" class="form-label"> Saved Address Name </label> <input type="text" class="form-control" id="billing-profile-name" name="profileName" ng-model="$ctrl.billingAddress.profileName" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling" ng-attr-placeholder="{{\n\t\t\t\t\t$ctrl.checkoutCtrl.hasLockedBilling\n\t\t\t\t\t\t? \'\'\n\t\t\t\t\t\t: \'Example: Home or Office\'\n\t\t\t\t}}"/> </div> <div class="row mb-3"> <div class="col-sm-6"> <label for="billing-address-1" class="form-label">Address Line 1 <small>(required)</small></label> <input type="text" autocomplete="address-line1" class="form-control" id="billing-address-1" ng-model="$ctrl.billingAddress.address1" name="address1" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.address1.$invalid\n\t\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling" required/> <div class="invalid-feedback"> Please enter your Street Address. </div> </div> <div class="col-sm-6"> <label for="billing-address-2" class="form-label">Address Line 2</label> <input type="text" autocomplete="address-line2" class="form-control" id="billing-address-2" name="address2" ng-model="$ctrl.billingAddress.address2" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling"/> </div> </div> <div class="row mb-3"> <div class="col-sm-4"> <label for="billing-city" class="form-label">City <small>(required)</small></label> <input type="text" autocomplete="address-level2" class="form-control" id="billing-city" ng-model="$ctrl.billingAddress.city" name="city" required ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.city.$invalid\n\t\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling"/> <div class="invalid-feedback">Please enter your City.</div> </div> <div class="col-sm-4"> <label for="billing-state" class="form-label">State <small>(required)</small></label> <select class="form-control" id="billing-state" autocomplete="address-level1" name="state" required ng-options="item as item.name for item in $ctrl.stateOptions track by item.id" ng-model="$ctrl.billingAddress.state" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.state.$invalid\n\t\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling"></select> <div class="invalid-feedback">Please select your State.</div> </div> <div class="col-sm-4"> <label for="billing-zip" class="form-label">Postal Code <small>(required)</small></label> <input type="text" autocomplete="postal-code" class="form-control" id="billing-zip" ng-model="$ctrl.billingAddress.zip" name="zip" ng-class="{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tbillingAddressForm.$submitted &&\n\t\t\t\t\t\t\tbillingAddressForm.zip.$invalid\n\t\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedBilling" pattern="\\d{5}(?:[- ]?\\d{4})?$" autocomplete="postal-code" required minlength="5" maxlength="10"/> <div class="invalid-feedback"> Please enter a valid Postal or Zip Code. </div> </div> </div> </fieldset> </form> <div class="row"> <div class="col"> <button class="btn btn-link" ng-click="$ctrl.checkoutCtrl.showTab(\'shipping\')"> <i class="bi bi-chevron-left"></i> Go Back to Shipping </button> </div> <div class="col-md text-end"> <div class="d-flex align-items-baseline justify-content-end"> <checkout-update-saved-address class="me-2" address="$ctrl.billingAddress" is-address-book-updated="$ctrl.isAddressBookUpdated" type="billing" form="billingAddressForm" ng-if="\n\t\t\t\t\tbillingAddressForm.$dirty &&\n\t\t\t\t\t!$ctrl.checkoutCtrl.hasLockedBilling\n\t\t\t\t" handle-change="$ctrl.handleChange()" handle-save="$ctrl.handleSave()"></checkout-update-saved-address> <button class="btn btn-primary" ng-click="$ctrl.confirmBillingAddress(billingAddressForm)"> Go to Delivery Method </button> </div> </div> </div> ',require:{checkoutCtrl:"^vfCheckout"},bindings:{billingAddress:"=",shippingAddress:"<",isBillingComplete:"="},controller:it};function it(t,e){const i=this;this.emailPattern=$,this.handleChange=()=>{this.billingAddress.cachedId=this.billingAddress.id,delete this.billingAddress.id,delete this.billingAddress.billing_id},this.handleSave=()=>{this.billingAddress.cachedId&&(this.billingAddress.id=this.billingAddress.cachedId,this.billingAddress.billing_id=this.billingAddress.cachedId,delete this.billingAddress.cachedId)},this.onSelectedAddress=()=>{i.toggleShowSavedAddresses()},i.isShowingSavedAddresses=!1,i.confirmBillingAddress=function(t){t.$setSubmitted(),t.$valid&&(i.isBillingComplete=!0,setTimeout((function(){i.checkoutCtrl.showTab("delivery")}),500))},i.defaultBillingProfileId=t.defaultBillingProfile||0,i.isAuthed=t.isAuthed,i.isDeleted=!1,i.isGuest=t.isGuest,i.isSelectedProfile=[],i.isCreatingProfile=[],i.status={setDefault:[],update:[],delete:[]},i.stateOptions=e,i.toggleShowSavedAddresses=()=>{i.isShowingSavedAddresses=!i.isShowingSavedAddresses}}it.$inject=["User","usStates"];const nt={bindings:{acceptedPaymentTypes:"<",billingAddress:"<",extraFields:"<",shippingAddress:"<",order:"<",selectedShippingMethod:"<",isReadyToConfirm:"<",isShippingSameAsBilling:"<"},controller:rt,require:{checkoutCtrl:"^vfCheckout"},template:'<h2 class="my-3 py-3 border-bottom">Review Order</h2> <price-availability ng-if="$ctrl.priceAvailability && !$ctrl.isOrderConfirmed" price-availability="$ctrl.priceAvailability" on-complete="$ctrl.completePriceAvailability( data )" order="$ctrl.order"> </price-availability> <div class="d-flex justify-content-center" ng-if="!$ctrl.isOrderConfirmed && !$ctrl.priceAvailability"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="$ctrl.isOrderConfirmed"> <h3>Address</h3> <div class="row"> <div class="col-sm-4"> <h4 ng-if="!$ctrl.isShippingSameAsBilling"> Shipping Address </h4> <address> <strong>{{ $ctrl.confirmedOrder.first_name }} {{ $ctrl.confirmedOrder.last_name }}</strong><br/> {{ $ctrl.confirmedOrder.address1 }}<br/> <span ng-if="$ctrl.confirmedOrder.address2">{{ $ctrl.confirmedOrder.address2 }}<br/></span> {{ $ctrl.confirmedOrder.city }}, {{ $ctrl.confirmedOrder.state }} {{ $ctrl.confirmedOrder.zip }}<br/> <a href="mailto:{{$ctrl.confirmedOrder.email}}">{{$ctrl.confirmedOrder.email}}</a><br/> {{ $ctrl.confirmedOrder.phone | tel }} </address> <button class="btn btn-secondary btn-sm" ng-click="$ctrl.checkoutCtrl.showTab(\'shipping\')"> Edit Address </button> </div> <div class="col-sm-4" ng-if="!$ctrl.isShippingSameAsBilling"> <h4>Billing Address</h4> <address> <strong>{{ $ctrl.confirmedOrder.bill_first_name }} {{ $ctrl.confirmedOrder.bill_last_name }}</strong><br/> {{ $ctrl.confirmedOrder.bill_address1 }}<br/> <span ng-if="$ctrl.confirmedOrder.bill_address2">{{ $ctrl.confirmedOrder.bill_address2 }}<br/></span> {{ $ctrl.confirmedOrder.bill_city }}, {{ $ctrl.confirmedOrder.bill_state }} {{ $ctrl.confirmedOrder.bill_zip }}<br/> <a href="mailto:{{$ctrl.confirmedOrder.bill_email}}">{{$ctrl.confirmedOrder.bill_email}}</a><br/> {{ $ctrl.confirmedOrder.bill_phone | tel }} </address> <button class="btn btn-secondary btn-sm" ng-click="$ctrl.checkoutCtrl.showTab(\'billing\')"> Edit Address </button> </div> <div class="col-sm-4" ng-if="$ctrl.extraFields.length > 0"> <table class="tables"> <tbody> <tr ng-repeat="field in $ctrl.extraFields track by $index"> <th scope="row"> {{ field.key }} </th> <td> {{ field.value }} </td> </tr> </tbody> </table> </div> </div> <div class="row mt-3 pt-3 border-top"> <div class="col"> <h3>Items <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.cart }}">Edit Cart</a></h3> </div> <div class="col text-end"> <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.catalog }}">Forget something? Go back to Shopping</a> </div> </div> <table class="table"> <thead> <tr> <th scope="row" id="item"> Item </th> <th scope="row" id="quantity"> <abbr title="Quantity"> QTY </abbr> </th> <th scope="row" id="price" class="text-end"> Price </th> <th scope="row" id="extended" class="text-end"> Extended </th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.confirmedItems track by $index"> <td headers="item"> <div class="hstack gap-2 align-items-start"> <img alt="" ng-if="item.images.length" ng-src="{{ item.images[0].thumb_url }}" height="40" width="40"/> <div> <a ng-href="/{{ $ctrl.productSlug }}/{{item.slug}}"> {{item.description}} </a> <div class="small text-secondary">SKU: {{ item.sku }}</div> <div> <small ng-if="item.prop65"> <img loading="lazy" style="width:1rem" ng-src="{{ $ctrl.warningIcon }}" ng-attr-alt="{{item.prop65.warning}}"> <a tabindex="0" class="prop65-popover" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-content="{{item.prop65.warning}}" ng-init="$ctrl.initPopover()"> <span class="d-none d-md-inline"> California residents: See Prop. 65 warning </span> <span class="d-md-none"> CA Prop. 65 Warning </span> </a> </small> <em class="small" ng-if="item.additional_shipping">Subject to additional shipping charges.</em> </div> </div> </div> </td> <td headers="quantity"> {{item.qty}} </td> <td headers="price" class="text-end"> {{item.price | currency }} </td> <td headers="extended" class="text-end"> {{item.price * item.qty | currency}} </td> </tr> </tbody> <tfoot> <tr class="text-end"> <th id="subtotal" colspan="3"> Subtotal </th> <td headers="subtotal"> {{$ctrl.confirmedOrder.subtotal | currency}} </td> </tr> <tr class="text-end"> <td colspan="2"> <em class="small" ng-if="$ctrl.hasAdditionalShipping">*One or more items in this order is subject to additional shipping charges.</em> </td> <th id="shipping"> Shipping </th> <td headers="shipping"> {{ $ctrl.confirmedOrder.shipping | currency }}{{ $ctrl.hasAdditionalShipping ? \'*\' : \'\' }} </td> </tr> <tr class="text-end text-success" ng-if="$ctrl.confirmedOrder.discount"> <td id="discount" colspan="3"> Discounts </td> <td headers="discount"> -{{$ctrl.confirmedOrder.discount | currency}} </td> </tr> <tr class="text-end"> <th id="tax" colspan="3"> Tax </th> <td headers="tax"> {{$ctrl.confirmedOrder.tax | currency}} </td> </tr> <tr class="text-end"> <th id="total" colspan="3"> Total </th> <td headers="total"> <b>{{$ctrl.confirmedOrder.total_amt | currency}}</b> </td> </tr> </tfoot> </table> <a class="btn btn-link btn-sm" ng-href="{{ $ctrl.pageUrls.cart }}" ng-if="!$ctrl.confirmedOrder.discount"> Add a promo code? </a> <div class="row"> <div class="col"> <button class="btn btn-link" ng-click="$ctrl.checkoutCtrl.showTab(\'additional\')" ng-if="$ctrl.extraFields.length"> <i class="bi bi-chevron-left"></i> Go Back to Additional Info </button> <button class="btn btn-link" ng-click="$ctrl.checkoutCtrl.showTab(\'delivery\')" ng-if="!$ctrl.extraFields.length"> <i class="bi bi-chevron-left"></i> Go Back to Delivery Method </button> </div> </div> <div class="my-3 py-3 border-top"> <h3>Payment</h3> <ul class="nav nav-tabs mb-3" id="myTab" role="tablist"> <li class="nav-item" role="presentation" ng-if="$ctrl.acceptedPaymentTypes.credit_line"> <a id="credit-line-tab" data-bs-toggle="tab" href="#credit-line" role="tab" aria-controls="credit-line" aria-selected="false" ng-class="[\'nav-link\', {\n                        \'active\': $ctrl.acceptedPaymentTypes.credit_line\n                    }]"> Credit Line </a> </li> <li class="nav-item" role="presentation" ng-if="\n                    $ctrl.acceptedPaymentTypes.payfabric ||\n                    $ctrl.acceptedPaymentTypes.stripe ||\n                    $ctrl.acceptedPaymentTypes.squareup ||\n                    $ctrl.acceptedPaymentTypes.qualpay ||\n                    $ctrl.acceptedPaymentTypes.authnet"> <a id="card-tab" data-bs-toggle="tab" href="#card" role="tab" aria-controls="card" aria-selected="true" ng-class="[\'nav-link\', {\n                        \'active\':\n                            ! $ctrl.acceptedPaymentTypes.credit_line && (\n                            $ctrl.acceptedPaymentTypes.payfabric ||\n                            $ctrl.acceptedPaymentTypes.stripe ||\n                            $ctrl.acceptedPaymentTypes.squareup ||\n                            $ctrl.acceptedPaymentTypes.qualpay ||\n                            $ctrl.acceptedPaymentTypes.authnet )\n                    }]"> <i class="bi bi-credit-card-fill"></i> Credit/Debit Card</a> </li> <li class="nav-item" role="presentation" ng-if="$ctrl.acceptedPaymentTypes.paypal_checkout"> <a class="nav-link" id="paypal-tab" data-bs-toggle="tab" href="#paypal" role="tab" aria-controls="paypal" aria-selected="false"> PayPal </a> </li> </ul> <div class="tab-content" id="myTabContent"> <div id="credit-line" role="tabpanel" aria-labelledby="credit-line-tab" ng-if="$ctrl.acceptedPaymentTypes.credit_line" ng-class="[\'tab-pane fade\', {\n                    \'show active\': $ctrl.acceptedPaymentTypes.credit_line\n                }]"> <checkout-payment-credit-line order-id="$ctrl.order.order_id"> </checkout-payment-credit-line> </div> <div id="card" role="tabpanel" aria-labelledby="card-tab" ng-class="[\'tab-pane fade\', {\n                    \'show active\':\n                        ! $ctrl.acceptedPaymentTypes.credit_line && (\n                        $ctrl.acceptedPaymentTypes.payfabric ||\n                        $ctrl.acceptedPaymentTypes.stripe ||\n                        $ctrl.acceptedPaymentTypes.squareup ||\n                        $ctrl.acceptedPaymentTypes.qualpay ||\n                        $ctrl.acceptedPaymentTypes.authnet )\n                }]"> <iframe id="payfabricFrame" class="payfabric-frame w-100" style="border:none;min-height:15rem;background:url(\'/wp-content/plugins/vendorfuel/assets/img/payfabric_loading.gif\') center center no-repeat" ng-src="{{$ctrl.payfabricUrl}}" ng-if="$ctrl.acceptedPaymentTypes.payfabric"> </iframe> <checkout-payment-stripe ng-if="$ctrl.acceptedPaymentTypes.stripe" order-id="$ctrl.order.order_id"> </checkout-payment-stripe> <checkout-payment-square ng-if="$ctrl.acceptedPaymentTypes.squareup" confirmed-order="$ctrl.confirmedOrder" order-id="$ctrl.order.order_id"> </checkout-payment-square> <checkout-payment-qualpay ng-if="$ctrl.acceptedPaymentTypes.qualpay" confirmed-order="$ctrl.confirmedOrder" order-id="$ctrl.order.order_id" qualpay="$ctrl.qualpay"> </checkout-payment-qualpay> <checkout-payment-authnet ng-if="$ctrl.acceptedPaymentTypes.authnet" order-id="$ctrl.order.order_id" confirmed-order="$ctrl.confirmedOrder"> </checkout-payment-authnet> </div> <div class="tab-pane fade" id="paypal" role="tabpanel" aria-labelledby="paypal-tab" ng-if="$ctrl.acceptedPaymentTypes.paypal_checkout"> <checkout-payment-paypal order-id="$ctrl.order.order_id" confirmed-order="$ctrl.confirmedOrder" paypal-create-order="$ctrl.paypalCreateOrder"> </checkout-payment-paypal> </div> </div> </div> </div> '};function rt(t,e,i){const n=this;function r(){window.onbeforeunload=function(t){t.preventDefault(),t.returnValue=""};const t={selected_shipping_profile:{shipping_id:n.shippingAddress.shipping_id||0},selected_billing_profile:{billing_id:n.billingAddress?.billing_id||0},order:n.order,selected_shipping_method:n.selectedShippingMethod,shipping_first_name:n.shippingAddress.first_name,shipping_last_name:n.shippingAddress.last_name,shipping_email:n.shippingAddress.email,shipping_address1:n.shippingAddress.address1,shipping_address2:n.shippingAddress.address2,shipping_city:n.shippingAddress.city,shipping_state:n.shippingAddress.state.id,shipping_zip:n.shippingAddress.zip,shipping_phone:n.shippingAddress.phone,billing_first_name:n.isShippingSameAsBilling?n.shippingAddress.first_name:n.billingAddress.first_name,billing_last_name:n.isShippingSameAsBilling?n.shippingAddress.last_name:n.billingAddress.last_name,billing_email:n.isShippingSameAsBilling?n.shippingAddress.email:n.billingAddress.email,billing_address1:n.isShippingSameAsBilling?n.shippingAddress.address1:n.billingAddress.address1,billing_address2:n.isShippingSameAsBilling?n.shippingAddress.address2:n.billingAddress.address2,billing_city:n.isShippingSameAsBilling?n.shippingAddress.city:n.billingAddress.city,billing_state:n.isShippingSameAsBilling?n.shippingAddress.state.id:n.billingAddress.state.id,billing_zip:n.isShippingSameAsBilling?n.shippingAddress.zip:n.billingAddress.zip,billing_phone:n.isShippingSameAsBilling?n.shippingAddress.phone:n.billingAddress.phone,return_url:n.returnUrl,extraFields:(i=n.checkoutCtrl.extraFields,Object.fromEntries(Object.entries(i).map((t=>(t[1]=t[1].value,t)))))};var i;n.isOrderConfirmed=!1,n.confirmedOrder={},e.confirmOrder(t).then((t=>t.data)).then((t=>{n.confirmedOrder=t.order,n.priceAvailability=t.priceAvailability,n.priceAvailability||s(t)}))}function s(t){var e;n.setHasAdditionShipping(n.confirmedOrder.items),n.confirmedItems=(e=n.confirmedOrder.items,Object.values(e).map((t=>(t.prop65&&(t.prop65.warning=t.prop65.warning.replace(/(^warning:)/gi,"").trim().replace(/(www.p65warnings.ca.gov)/gi,'<a href="https://$&" target="_blank">$&</a>')),t)))),n.extraFields=function(t){const e=[],i={Organization:t.organization,"P.O. Number":t.rr_po_num,"Issuing Office":t.issuing_office,"Cost Center Code":t.cost_center_code,Attention:t.attention,Notes:t.notes};Object.entries(i).forEach((t=>{const[i,n]=t;n&&""!==n&&e.push({key:i,value:n})}));for(let i=1;i<7;i++)t[`f${i}_value`]&&e.push({key:t[`f${i}_name`],value:t[`f${i}_value`]});return e}(t.order),n.payfabricUrl=t.payfabric_url,n.isOrderConfirmed=!0,n.paypalCreateOrder=t.paypal_create_order||null,n.qualpay={transientKey:t.qualpay_transient_key||null,merchantId:t.qualpay_merchant_id||null}}this.warningIcon=`${localized.dir.url}public/images/warning.svg`,n.$onInit=function(){var e;n.pageUrls={cart:i.getPageUrl("cart"),catalog:i.getPageUrl("catalog")},n.productSlug=localized.settings.general.product_slug||"products",(e=n.acceptedPaymentTypes).payfabric||e.stripe||e.squareup||e.qualpay||e.authnet||e.paypal_checkout||e.credit_line||t.warning("No Active Payment Gateways."),jQuery("a#checkout-review-tab").on("shown.bs.tab",(function(){n.isReadyToConfirm&&r()}))},n.isPopoversInit=!1,n.confirmOrder=r,n.isOrderConfirmed=!1,n.initPopover=()=>{const t=jQuery(".prop65-popover");n.isPopoversInit||(t.popover({trigger:"hover focus",html:!0,title:"<strong>WARNING: </strong>"}),n.isPopoversInit=!0)},n.$onChanges=function(t){t.order&&t.order.currentValue&&(n.returnUrl=`https://${window.location.hostname}/cc-return/?OrderID=${n.order.order_id}`)},this.completePriceAvailability=t=>{const i=t,r={order:{order_id:n.order.order_id},return_url:n.returnUrl};e.priceAvailabilityResponse(r,i,!0).then((t=>{t.data.errors.length||(n.confirmedOrder=t.data.order,s(t.data))}))},this.setHasAdditionShipping=t=>{this.hasAdditionalShipping=Object.values(t).some((t=>t.additional_shipping))}}rt.$inject=["Alerts","Checkout","Utils"];const st={template:'<h2>Shipping Address</h2> <form name="shippingAddressForm" novalidate> <div class="row mb-3"> <div class="col-sm-6"> <label for="shipping-first-name" class="form-label">First Name <small>(required)</small></label> <input type="text" class="form-control" id="shipping-first-name" ng-model="$ctrl.shippingAddress.first_name" name="firstName" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.firstName.$invalid\n\t\t\t\t}" autocomplete="given-name" required/> <div class="invalid-feedback">Please enter your First Name.</div> </div> <div class="col-sm-6"> <label for="shipping-last-name" class="form-label">Last Name <small>(required)</small></label> <input type="text" class="form-control" id="shipping-last-name" ng-model="$ctrl.shippingAddress.last_name" name="lastName" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.lastName.$invalid\n\t\t\t\t}" autocomplete="family-name" required/> <div class="invalid-feedback">Please enter your Last Name.</div> </div> </div> <div class="row mb-3"> <div class="col-sm-6"> <label for="shipping-email" class="form-label">Email Address <small>(required)</small></label> <input type="email" class="form-control" id="shipping-email" ng-model="$ctrl.shippingAddress.email" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.email.$invalid\n\t\t\t\t}" ng-pattern="$ctrl.emailPattern" autocomplete="email" name="email" required/> <div class="invalid-feedback"> Please enter a valid email address. </div> </div> <div class="col-sm-6"> <label for="shipping-phone" class="form-label">Phone <small>(required)</small></label> <input autocomplete="tel" id="shipping-phone" name="phone" ng-class="[\n\t\t\t\t\t\'form-control\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\t\tshippingAddressForm.phone.$invalid\n\t\t\t\t\t}\n\t\t\t\t]" ng-model="$ctrl.shippingAddress.phone" required type="tel" ui-mask="(299) 999-9999"/> <div class="form-text text-muted small"> Please enter a valid phone number to prevent possible delays in your order. </div> </div> </div> <div class="alert alert-info" ng-if="$ctrl.checkoutCtrl.hasLockedShipping"> Locked Shipping is enabled for your account. Please click the button below to select a saved address or contact your administrator. </div> <button ng-if="!$ctrl.isGuest && $ctrl.isAuthed" class="btn btn-primary mb-3" ng-click="$ctrl.toggleShowSavedAddresses()"> {{ $ctrl.isShowingSavedAddresses ? \'Hide\' : \'Show\' }} Saved Addresses </button> <div id="saved-shipping-addresses" ng-show="$ctrl.isShowingSavedAddresses"> <checkout-address-book type="shipping" address="$ctrl.shippingAddress" is-address-book-updated="$ctrl.isAddressBookUpdated" is-locked="$ctrl.checkoutCtrl.hasLockedShipping" on-select="$ctrl.onSelectedAddress()"> </checkout-address-book> </div> <div class="mb-3" ng-if="!$ctrl.isGuest && $ctrl.isAuthed" ng-hide="\n\t\t\t$ctrl.checkoutCtrl.hasLockedShipping &&\n\t\t\t!$ctrl.shippingAddress.profileName\n\t\t"> <label for="shipping-profile-name" class="form-label"> Saved Address Name </label> <input type="text" class="form-control" id="shipping-profile-name" name="profileName" ng-model="$ctrl.shippingAddress.profileName" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" ng-attr-placeholder="{{\n\t\t\t\t$ctrl.checkoutCtrl.hasLockedShipping\n\t\t\t\t\t? \'\'\n\t\t\t\t\t: \'Example: Home or Office\'\n\t\t\t}}"/> </div> <div class="row mb-3"> <div class="col-sm-6"> <label for="shipping-address-1" class="form-label">Address Line 1 <small>(required)</small></label> <input type="text" class="form-control" id="shipping-address-1" ng-model="$ctrl.shippingAddress.address1" name="address1" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.address1.$invalid\n\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" autocomplete="address-line1" required/> <div class="invalid-feedback"> Please enter your Street Address. </div> </div> <div class="col-sm-6"> <label for="shipping-address-2" class="form-label">Address Line 2</label> <input type="text" class="form-control" id="shipping-address-2" ng-model="$ctrl.shippingAddress.address2" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" name="address2" autocomplete="address-line2"/> </div> </div> <div class="row mb-3"> <div class="col-sm-4"> <label for="shipping-city" class="form-label">City <small>(required)</small></label> <input type="text" class="form-control" id="shipping-city" ng-model="$ctrl.shippingAddress.city" name="city" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.city.$invalid\n\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" autocomplete="address-level2" required/> <div class="invalid-feedback">Please enter your City.</div> </div> <div class="col-sm-4"> <label for="shipping-state" class="form-label">State <small>(required)</small></label> <select class="form-control" id="shipping-state" ng-options="item as item.name for item in $ctrl.stateOptions track by item.id" name="state" ng-model="$ctrl.shippingAddress.state" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.state.$invalid\n\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" autocomplete="address-level1" required></select> <div class="invalid-feedback">Please select your State.</div> </div> <div class="col-sm-4"> <label for="shipping-zip" class="form-label">Postal Code <small>(required)</small></label> <input type="text" class="form-control" id="shipping-zip" ng-model="$ctrl.shippingAddress.zip" name="zip" ng-class="{\n\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\tshippingAddressForm.$submitted &&\n\t\t\t\t\t\tshippingAddressForm.zip.$invalid\n\t\t\t\t}" ng-disabled="$ctrl.checkoutCtrl.hasLockedShipping" pattern="\\d{5}(?:[- ]?\\d{4})?$" autocomplete="postal-code" required minlength="5" maxlength="10"/> <div class="invalid-feedback"> Please enter a valid Postal or Zip Code. </div> </div> </div> </form> <div class="row"> <div class="col"> <div class="form-check mb-2" ng-if="!$ctrl.checkoutCtrl.hasLockedBilling"> <input type="checkbox" class="form-check-input" id="billing-shipping-same" ng-model="$ctrl.isShippingSameAsBilling"/> <label class="form-check-label" for="billing-shipping-same">Billing is same as shipping address.</label> </div> </div> <div class="col-md text-end"> <div class="d-flex align-items-baseline justify-content-end"> <checkout-update-saved-address class="me-2" address="$ctrl.shippingAddress" is-address-book-updated="$ctrl.isAddressBookUpdated" type="shipping" form="shippingAddressForm" ng-if="\n\t\t\t\t\tshippingAddressForm.$dirty &&\n\t\t\t\t\t!$ctrl.checkoutCtrl.hasLockedShipping\n\t\t\t\t" handle-change="$ctrl.handleChange()" handle-save="$ctrl.handleSave()"></checkout-update-saved-address> <button class="btn btn-primary" ng-if="!$ctrl.isShippingSameAsBilling" ng-click="$ctrl.confirmShippingAddress(shippingAddressForm)"> Go to Billing Address </button> <button class="btn btn-primary" ng-if="$ctrl.isShippingSameAsBilling" ng-click="$ctrl.confirmAddress(shippingAddressForm)"> Go to Delivery Method </button> </div> </div> </div> ',require:{checkoutCtrl:"^vfCheckout"},bindings:{billingAddress:"=",isBillingComplete:"=",isShippingComplete:"=",isShippingSameAsBilling:"=",shippingAddress:"="},controller:at};function at(t,e){const i=this;this.emailPattern=$,this.onSelectedAddress=()=>{this.toggleShowSavedAddresses()},this.handleChange=()=>{this.shippingAddress.cachedId=this.shippingAddress.id,delete this.shippingAddress.id,delete this.shippingAddress.shipping_id},this.handleSave=()=>{this.shippingAddress.cachedId&&(this.shippingAddress.id=this.shippingAddress.cachedId,this.shippingAddress.shipping_id=this.shippingAddress.cachedId,delete this.shippingAddress.cachedId)},this.isShowingSavedAddresses=!1,i.confirmAddress=function(t){t.$setSubmitted(),t.$valid&&(i.isShippingComplete=!0,i.isBillingComplete=!0,setTimeout((function(){i.checkoutCtrl.showTab("delivery")}),500))},i.confirmShippingAddress=function(t){t.$setSubmitted(),t.$valid&&(i.isShippingComplete=!0,setTimeout((function(){i.checkoutCtrl.showTab("billing")}),500))},i.defaultShippingProfileId=t.defaultShippingProfile||0,i.isAuthed=t.isAuthed,i.isCreatingProfile=[],i.isDeleted=!1,i.isGuest=t.isGuest,i.isSelectedProfile=[],i.stateOptions=e,i.status={setDefault:[],update:[],delete:[]},i.$onInit=()=>{i.hasLockedBilling=i.checkoutCtrl.hasLockedBilling},this.toggleShowSavedAddresses=()=>{this.isShowingSavedAddresses=!this.isShowingSavedAddresses}}at.$inject=["User","usStates"];const ot={template:'<h2 class="mt-3 py-3">Delivery Method</h2> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="row row-cols-1 row-cols-md-4"> <div class="col mb-4" ng-repeat="item in $ctrl.shippingMethods track by $index"> <div class="card h-100 text-center"> <div class="card-header"> {{ item.label }} </div> <div class="card-body d-flex flex-column"> <p ng-class="[\r\n\t\t\t\t\t\t\'card-text fs-3\',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\'mb-0\':\r\n\t\t\t\t\t\t\t\t(item.freeIfTotal && item.freeOrderTotal) ||\r\n\t\t\t\t\t\t\t\titem.description\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]"> <span ng-if="item.amount"> {{ item.amount | currency }} </span> <span ng-if="!item.amount">FREE</span> </p> <p class="card-text" ng-if="item.freeIfTotal && item.freeOrderTotal"> Get free shipping on orders of {{ item.freeOrderTotal | currency }} or more. </p> <p class="card-text text-secondary" ng-if="item.description"> {{ item.description }} </p> <button class="btn btn-outline-primary mt-auto" ng-disabled="$ctrl.shippingMethods.length === 1" ng-click="\r\n\t\t\t\t\t\t$ctrl.setShippingMethod(\r\n\t\t\t\t\t\t\titem.id,\r\n\t\t\t\t\t\t\titem.shipping_method,\r\n\t\t\t\t\t\t\t$index\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t"> {{ $ctrl.isSelected[$index] ? \'Selected\' : \'Select\' }} <i class="bi bi-check-circle" ng-if="$ctrl.isSelected[$index]"></i> </button> </div> </div> </div> </div> <div class="row"> <div class="col"> <button class="btn btn-link" ng-if="!$ctrl.isShippingSameAsBilling" ng-click="$ctrl.checkoutCtrl.showTab(\'billing\')"> <i class="bi bi-chevron-left"></i> Go Back to Billing </button> <button class="btn btn-link" ng-if="$ctrl.isShippingSameAsBilling" ng-click="$ctrl.checkoutCtrl.showTab(\'shipping\')"> <i class="bi bi-chevron-left"></i> Go Back to Shipping </button> </div> <div class="col-md text-end"> <button class="btn btn-primary" ng-click="$ctrl.confirmDeliveryMethod()"> Go to {{ $ctrl.hasAdditionalInfo ? \'Additional Info\' : \'Review Order\' }} </button> </div> </div> ',require:{checkoutCtrl:"^vfCheckout"},bindings:{orderId:"<",zipcode:"<",selectedShippingMethod:"=",isBillingComplete:"<",isShippingComplete:"<",isDeliveryComplete:"=",isReadyToConfirm:"=",isShippingSameAsBilling:"<",hasAdditionalInfo:"<",shippingMethods:"<"},controller:lt};function lt(t,e){const i=this;i.isLoading=!1,i.confirmDeliveryMethod=function(){let e="review";i.selectedShippingMethod?(i.isReadyToConfirm=!0,i.isDeliveryComplete=!0,setTimeout((function(){i.hasAdditionalInfo&&(e="additional"),i.checkoutCtrl.showTab(e)}),500)):t.warning("Please choose a delivery method.")},i.setShippingMethod=function(t,e,n){i.isSelected.fill(!1),i.selectedShippingMethod=t||e,i.isSelected[n]=!0},i.isSelected=[],i.$onChanges=function(t){t.isBillingComplete&&t.isBillingComplete.currentValue&&function(){i.isLoading=!0;const{orderId:t,zipcode:n}=i;e.getShippingMethods(t,null,n).then((t=>t.data)).then((t=>{t.errors.length||(i.shippingMethods=t.shipping_methods,1===i.shippingMethods.length&&i.setShippingMethod(i.shippingMethods[0].id,i.shippingMethods[0].shipping_method,0)),i.isLoading=!1}))}()}}lt.$inject=["Alerts","Checkout"];const ct=n().module("CheckoutModule",[]).component("vfCheckout",X).component("checkoutBillingAddress",et).component("checkoutFinalizeOrder",nt).component("checkoutShippingAddress",st).component("checkoutShippingMethod",ot).name;var dt="top",ut="bottom",pt="right",gt="left",ht="auto",mt=[dt,ut,pt,gt],ft="start",vt="end",bt="clippingParents",$t="viewport",yt="popper",wt="reference",_t=mt.reduce((function(t,e){return t.concat([e+"-"+ft,e+"-"+vt])}),[]),kt=[].concat(mt,[ht]).reduce((function(t,e){return t.concat([e,e+"-"+ft,e+"-"+vt])}),[]),Ct="beforeRead",St="read",xt="afterRead",At="beforeMain",Pt="main",It="afterMain",Ot="beforeWrite",Et="write",Tt="afterWrite",Lt=[Ct,St,xt,At,Pt,It,Ot,Et,Tt];function Ut(t){return t?(t.nodeName||"").toLowerCase():null}function qt(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Rt(t){return t instanceof qt(t).Element||t instanceof Element}function Ft(t){return t instanceof qt(t).HTMLElement||t instanceof HTMLElement}function Mt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof qt(t).ShadowRoot||t instanceof ShadowRoot)}const Nt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];Ft(r)&&Ut(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});Ft(n)&&Ut(n)&&(Object.assign(n.style,s),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]};function Dt(t){return t.split("-")[0]}var jt=Math.max,zt=Math.min,Vt=Math.round;function Bt(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Ht(){return!/^((?!chrome|android).)*safari/i.test(Bt())}function Gt(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,s=1;e&&Ft(t)&&(r=t.offsetWidth>0&&Vt(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Vt(n.height)/t.offsetHeight||1);var a=(Rt(t)?qt(t):window).visualViewport,o=!Ht()&&i,l=(n.left+(o&&a?a.offsetLeft:0))/r,c=(n.top+(o&&a?a.offsetTop:0))/s,d=n.width/r,u=n.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Wt(t){var e=Gt(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Qt(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Mt(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Kt(t){return qt(t).getComputedStyle(t)}function Yt(t){return["table","td","th"].indexOf(Ut(t))>=0}function Jt(t){return((Rt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zt(t){return"html"===Ut(t)?t:t.assignedSlot||t.parentNode||(Mt(t)?t.host:null)||Jt(t)}function Xt(t){return Ft(t)&&"fixed"!==Kt(t).position?t.offsetParent:null}function te(t){for(var e=qt(t),i=Xt(t);i&&Yt(i)&&"static"===Kt(i).position;)i=Xt(i);return i&&("html"===Ut(i)||"body"===Ut(i)&&"static"===Kt(i).position)?e:i||function(t){var e=/firefox/i.test(Bt());if(/Trident/i.test(Bt())&&Ft(t)&&"fixed"===Kt(t).position)return null;var i=Zt(t);for(Mt(i)&&(i=i.host);Ft(i)&&["html","body"].indexOf(Ut(i))<0;){var n=Kt(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function ee(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ie(t,e,i){return jt(t,zt(e,i))}function ne(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function re(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}const se={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,r=t.options,s=i.elements.arrow,a=i.modifiersData.popperOffsets,o=Dt(i.placement),l=ee(o),c=[gt,pt].indexOf(o)>=0?"height":"width";if(s&&a){var d=function(t,e){return ne("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:re(t,mt))}(r.padding,i),u=Wt(s),p="y"===l?dt:gt,g="y"===l?ut:pt,h=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],m=a[l]-i.rects.reference[l],f=te(s),v=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,b=h/2-m/2,$=d[p],y=v-u[c]-d[g],w=v/2-u[c]/2+b,_=ie($,w,y),k=l;i.modifiersData[n]=((e={})[k]=_,e.centerOffset=_-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Qt(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ae(t){return t.split("-")[1]}var oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function le(t){var e,i=t.popper,n=t.popperRect,r=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,u=t.isFixed,p=a.x,g=void 0===p?0:p,h=a.y,m=void 0===h?0:h,f="function"==typeof d?d({x:g,y:m}):{x:g,y:m};g=f.x,m=f.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),$=gt,y=dt,w=window;if(c){var _=te(i),k="clientHeight",C="clientWidth";_===qt(i)&&"static"!==Kt(_=Jt(i)).position&&"absolute"===o&&(k="scrollHeight",C="scrollWidth"),(r===dt||(r===gt||r===pt)&&s===vt)&&(y=ut,m-=(u&&_===w&&w.visualViewport?w.visualViewport.height:_[k])-n.height,m*=l?1:-1),r!==gt&&(r!==dt&&r!==ut||s!==vt)||($=pt,g-=(u&&_===w&&w.visualViewport?w.visualViewport.width:_[C])-n.width,g*=l?1:-1)}var S,x=Object.assign({position:o},c&&oe),A=!0===d?function(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:Vt(i*r)/r||0,y:Vt(n*r)/r||0}}({x:g,y:m},qt(i)):{x:g,y:m};return g=A.x,m=A.y,l?Object.assign({},x,((S={})[y]=b?"0":"",S[$]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",S)):Object.assign({},x,((e={})[y]=b?m+"px":"",e[$]=v?g+"px":"",e.transform="",e))}const ce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,s=i.adaptive,a=void 0===s||s,o=i.roundOffsets,l=void 0===o||o,c={placement:Dt(e.placement),variation:ae(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,le(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,le(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var de={passive:!0};const ue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,s=void 0===r||r,a=n.resize,o=void 0===a||a,l=qt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach((function(t){t.addEventListener("scroll",i.update,de)})),o&&l.addEventListener("resize",i.update,de),function(){s&&c.forEach((function(t){t.removeEventListener("scroll",i.update,de)})),o&&l.removeEventListener("resize",i.update,de)}},data:{}};var pe={left:"right",right:"left",bottom:"top",top:"bottom"};function ge(t){return t.replace(/left|right|bottom|top/g,(function(t){return pe[t]}))}var he={start:"end",end:"start"};function me(t){return t.replace(/start|end/g,(function(t){return he[t]}))}function fe(t){var e=qt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ve(t){return Gt(Jt(t)).left+fe(t).scrollLeft}function be(t){var e=Kt(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function $e(t){return["html","body","#document"].indexOf(Ut(t))>=0?t.ownerDocument.body:Ft(t)&&be(t)?t:$e(Zt(t))}function ye(t,e){var i;void 0===e&&(e=[]);var n=$e(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),s=qt(n),a=r?[s].concat(s.visualViewport||[],be(n)?n:[]):n,o=e.concat(a);return r?o:o.concat(ye(Zt(a)))}function we(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _e(t,e,i){return e===$t?we(function(t,e){var i=qt(t),n=Jt(t),r=i.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var c=Ht();(c||!c&&"fixed"===e)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+ve(t),y:l}}(t,i)):Rt(e)?function(t,e){var i=Gt(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):we(function(t){var e,i=Jt(t),n=fe(t),r=null==(e=t.ownerDocument)?void 0:e.body,s=jt(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=jt(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+ve(t),l=-n.scrollTop;return"rtl"===Kt(r||i).direction&&(o+=jt(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}(Jt(t)))}function ke(t){var e,i=t.reference,n=t.element,r=t.placement,s=r?Dt(r):null,a=r?ae(r):null,o=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(s){case dt:e={x:o,y:i.y-n.height};break;case ut:e={x:o,y:i.y+i.height};break;case pt:e={x:i.x+i.width,y:l};break;case gt:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=s?ee(s):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case ft:e[c]=e[c]-(i[d]/2-n[d]/2);break;case vt:e[c]=e[c]+(i[d]/2-n[d]/2)}}return e}function Ce(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=void 0===n?t.placement:n,s=i.strategy,a=void 0===s?t.strategy:s,o=i.boundary,l=void 0===o?bt:o,c=i.rootBoundary,d=void 0===c?$t:c,u=i.elementContext,p=void 0===u?yt:u,g=i.altBoundary,h=void 0!==g&&g,m=i.padding,f=void 0===m?0:m,v=ne("number"!=typeof f?f:re(f,mt)),b=p===yt?wt:yt,$=t.rects.popper,y=t.elements[h?b:p],w=function(t,e,i,n){var r="clippingParents"===e?function(t){var e=ye(Zt(t)),i=["absolute","fixed"].indexOf(Kt(t).position)>=0&&Ft(t)?te(t):t;return Rt(i)?e.filter((function(t){return Rt(t)&&Qt(t,i)&&"body"!==Ut(t)})):[]}(t):[].concat(e),s=[].concat(r,[i]),a=s[0],o=s.reduce((function(e,i){var r=_e(t,i,n);return e.top=jt(r.top,e.top),e.right=zt(r.right,e.right),e.bottom=zt(r.bottom,e.bottom),e.left=jt(r.left,e.left),e}),_e(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(Rt(y)?y:y.contextElement||Jt(t.elements.popper),l,d,a),_=Gt(t.elements.reference),k=ke({reference:_,element:$,strategy:"absolute",placement:r}),C=we(Object.assign({},$,k)),S=p===yt?C:_,x={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},A=t.modifiersData.offset;if(p===yt&&A){var P=A[r];Object.keys(x).forEach((function(t){var e=[pt,ut].indexOf(t)>=0?1:-1,i=[dt,ut].indexOf(t)>=0?"y":"x";x[t]+=P[i]*e}))}return x}const Se={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,s=void 0===r||r,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,p=i.altBoundary,g=i.flipVariations,h=void 0===g||g,m=i.allowedAutoPlacements,f=e.options.placement,v=Dt(f),b=l||(v!==f&&h?function(t){if(Dt(t)===ht)return[];var e=ge(t);return[me(t),e,me(e)]}(f):[ge(f)]),$=[f].concat(b).reduce((function(t,i){return t.concat(Dt(i)===ht?function(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,s=i.rootBoundary,a=i.padding,o=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?kt:l,d=ae(n),u=d?o?_t:_t.filter((function(t){return ae(t)===d})):mt,p=u.filter((function(t){return c.indexOf(t)>=0}));0===p.length&&(p=u);var g=p.reduce((function(e,i){return e[i]=Ce(t,{placement:i,boundary:r,rootBoundary:s,padding:a})[Dt(i)],e}),{});return Object.keys(g).sort((function(t,e){return g[t]-g[e]}))}(e,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:m}):i)}),[]),y=e.rects.reference,w=e.rects.popper,_=new Map,k=!0,C=$[0],S=0;S<$.length;S++){var x=$[S],A=Dt(x),P=ae(x)===ft,I=[dt,ut].indexOf(A)>=0,O=I?"width":"height",E=Ce(e,{placement:x,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),T=I?P?pt:gt:P?ut:dt;y[O]>w[O]&&(T=ge(T));var L=ge(T),U=[];if(s&&U.push(E[A]<=0),o&&U.push(E[T]<=0,E[L]<=0),U.every((function(t){return t}))){C=x,k=!1;break}_.set(x,U)}if(k)for(var q=function(t){var e=$.find((function(e){var i=_.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},R=h?3:1;R>0&&"break"!==q(R);R--);e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xe(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ae(t){return[dt,pt,ut,gt].some((function(e){return t[e]>=0}))}const Pe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ce(e,{elementContext:"reference"}),o=Ce(e,{altBoundary:!0}),l=xe(a,n),c=xe(o,r,s),d=Ae(l),u=Ae(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},Ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,s=void 0===r?[0,0]:r,a=kt.reduce((function(t,i){return t[i]=function(t,e,i){var n=Dt(t),r=[gt,dt].indexOf(n)>=0?-1:1,s="function"==typeof i?i(Object.assign({},e,{placement:t})):i,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[gt,pt].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}(i,e.rects,s),t}),{}),o=a[e.placement],l=o.x,c=o.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}},Oe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=ke({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},Ee={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,s=void 0===r||r,a=i.altAxis,o=void 0!==a&&a,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,u=i.padding,p=i.tether,g=void 0===p||p,h=i.tetherOffset,m=void 0===h?0:h,f=Ce(e,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=Dt(e.placement),b=ae(e.placement),$=!b,y=ee(v),w="x"===y?"y":"x",_=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,S="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,x="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(_){if(s){var I,O="y"===y?dt:gt,E="y"===y?ut:pt,T="y"===y?"height":"width",L=_[y],U=L+f[O],q=L-f[E],R=g?-C[T]/2:0,F=b===ft?k[T]:C[T],M=b===ft?-C[T]:-k[T],N=e.elements.arrow,D=g&&N?Wt(N):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=j[O],V=j[E],B=ie(0,k[T],D[T]),H=$?k[T]/2-R-B-z-x.mainAxis:F-B-z-x.mainAxis,G=$?-k[T]/2+R+B+V+x.mainAxis:M+B+V+x.mainAxis,W=e.elements.arrow&&te(e.elements.arrow),Q=W?"y"===y?W.clientTop||0:W.clientLeft||0:0,K=null!=(I=null==A?void 0:A[y])?I:0,Y=L+G-K,J=ie(g?zt(U,L+H-K-Q):U,L,g?jt(q,Y):q);_[y]=J,P[y]=J-L}if(o){var Z,X="x"===y?dt:gt,tt="x"===y?ut:pt,et=_[w],it="y"===w?"height":"width",nt=et+f[X],rt=et-f[tt],st=-1!==[dt,gt].indexOf(v),at=null!=(Z=null==A?void 0:A[w])?Z:0,ot=st?nt:et-k[it]-C[it]-at+x.altAxis,lt=st?et+k[it]+C[it]-at-x.altAxis:rt,ct=g&&st?function(t,e,i){var n=ie(t,e,i);return n>i?i:n}(ot,et,lt):ie(g?ot:nt,et,g?lt:rt);_[w]=ct,P[w]=ct-et}e.modifiersData[n]=P}},requiresIfExists:["offset"]};function Te(t,e,i){void 0===i&&(i=!1);var n,r,s=Ft(e),a=Ft(e)&&function(t){var e=t.getBoundingClientRect(),i=Vt(e.width)/t.offsetWidth||1,n=Vt(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),o=Jt(e),l=Gt(t,a,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!i)&&(("body"!==Ut(e)||be(o))&&(c=(n=e)!==qt(n)&&Ft(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:fe(n)),Ft(e)?((d=Gt(e,!0)).x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=ve(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Le(t){var e=new Map,i=new Set,n=[];function r(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||r(t)})),n}var Ue={placement:"bottom",modifiers:[],strategy:"absolute"};function qe(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Re(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,s=void 0===r?Ue:r;return function(t,e,i){void 0===i&&(i=s);var r,a,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ue,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(i){var r="function"==typeof i?i(o.options):i;u(),o.options=Object.assign({},s,o.options,r),o.scrollParents={reference:Rt(t)?ye(t):t.contextElement?ye(t.contextElement):[],popper:ye(e)};var a,c,p=function(t){var e=Le(t);return Lt.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((a=[].concat(n,o.options.modifiers),c=a.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return o.orderedModifiers=p.filter((function(t){return t.enabled})),o.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var s=r({state:o,name:e,instance:d,options:n});l.push(s||function(){})}})),d.update()},forceUpdate:function(){if(!c){var t=o.elements,e=t.reference,i=t.popper;if(qe(e,i)){o.rects={reference:Te(e,te(i),"fixed"===o.options.strategy),popper:Wt(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(t){return o.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var r=o.orderedModifiers[n],s=r.fn,a=r.options,l=void 0===a?{}:a,u=r.name;"function"==typeof s&&(o=s({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,n=-1}}},update:(r=function(){return new Promise((function(t){d.forceUpdate(),t(o)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){u(),c=!0}};if(!qe(t,e))return d;function u(){l.forEach((function(t){return t()})),l=[]}return d.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),d}}var Fe=Re(),Me=Re({defaultModifiers:[ue,Oe,ce,Nt,Ie,Se,Ee,se,Pe]}),Ne=Re({defaultModifiers:[ue,Oe,ce,Nt]});const De="transitionend",je=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e},ze=t=>{const e=je(t);return e&&document.querySelector(e)?e:null},Ve=t=>{const e=je(t);return e?document.querySelector(e):null},Be=t=>{t.dispatchEvent(new Event(De))},He=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Ge=t=>He(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,We=t=>{if(!He(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},Qe=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Ke=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Ke(t.parentNode):null},Ye=()=>{},Je=t=>{t.offsetHeight},Ze=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Xe=[],ti=()=>"rtl"===document.documentElement.dir,ei=t=>{var e;e=()=>{const e=Ze();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(Xe.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of Xe)t()})),Xe.push(e)):e()},ii=t=>{"function"==typeof t&&t()},ni=(t,e,i=!0)=>{if(!i)return void ii(t);const n=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),r=Number.parseFloat(i);return n||r?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const s=({target:i})=>{i===e&&(r=!0,e.removeEventListener(De,s),ii(t))};e.addEventListener(De,s),setTimeout((()=>{r||Be(e)}),n)},ri=(t,e,i,n)=>{const r=t.length;let s=t.indexOf(e);return-1===s?!i&&n?t[r-1]:t[0]:(s+=i?1:-1,n&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},si=/[^.]*(?=\..*)\.|.*/,ai=/\..*/,oi=/::\d+$/,li={};let ci=1;const di={mouseenter:"mouseover",mouseleave:"mouseout"},ui=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function pi(t,e){return e&&`${e}::${ci++}`||t.uidEvent||ci++}function gi(t){const e=pi(t);return t.uidEvent=e,li[e]=li[e]||{},li[e]}function hi(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function mi(t,e,i){const n="string"==typeof e,r=n?i:e||i;let s=$i(t);return ui.has(s)||(s=t),[n,r,s]}function fi(t,e,i,n,r){if("string"!=typeof e||!t)return;let[s,a,o]=mi(e,i,n);if(e in di){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};a=t(a)}const l=gi(t),c=l[o]||(l[o]={}),d=hi(c,a,s?i:null);if(d)return void(d.oneOff=d.oneOff&&r);const u=pi(a,e.replace(si,"")),p=s?function(t,e,i){return function n(r){const s=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const o of s)if(o===a)return wi(r,{delegateTarget:a}),n.oneOff&&yi.off(t,r.type,e,i),i.apply(a,[r])}}(t,i,a):function(t,e){return function i(n){return wi(n,{delegateTarget:t}),i.oneOff&&yi.off(t,n.type,e),e.apply(t,[n])}}(t,a);p.delegationSelector=s?i:null,p.callable=a,p.oneOff=r,p.uidEvent=u,c[u]=p,t.addEventListener(o,p,s)}function vi(t,e,i,n,r){const s=hi(e[i],n,r);s&&(t.removeEventListener(i,s,Boolean(r)),delete e[i][s.uidEvent])}function bi(t,e,i,n){const r=e[i]||{};for(const s of Object.keys(r))if(s.includes(n)){const n=r[s];vi(t,e,i,n.callable,n.delegationSelector)}}function $i(t){return t=t.replace(ai,""),di[t]||t}const yi={on(t,e,i,n){fi(t,e,i,n,!1)},one(t,e,i,n){fi(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[r,s,a]=mi(e,i,n),o=a!==e,l=gi(t),c=l[a]||{},d=e.startsWith(".");if(void 0===s){if(d)for(const i of Object.keys(l))bi(t,l,i,e.slice(1));for(const i of Object.keys(c)){const n=i.replace(oi,"");if(!o||e.includes(n)){const e=c[i];vi(t,l,a,e.callable,e.delegationSelector)}}}else{if(!Object.keys(c).length)return;vi(t,l,a,s,r?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=Ze();let r=null,s=!0,a=!0,o=!1;e!==$i(e)&&n&&(r=n.Event(e,i),n(t).trigger(r),s=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),o=r.isDefaultPrevented());let l=new Event(e,{bubbles:s,cancelable:!0});return l=wi(l,i),o&&l.preventDefault(),a&&t.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function wi(t,e){for(const[i,n]of Object.entries(e||{}))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}const _i=new Map,ki={set(t,e,i){_i.has(t)||_i.set(t,new Map);const n=_i.get(t);n.has(e)||0===n.size?n.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,e)=>_i.has(t)&&_i.get(t).get(e)||null,remove(t,e){if(!_i.has(t))return;const i=_i.get(t);i.delete(e),0===i.size&&_i.delete(t)}};function Ci(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function Si(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const xi={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${Si(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Si(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Ci(t.dataset[n])}return e},getDataAttribute:(t,e)=>Ci(t.getAttribute(`data-bs-${Si(e)}`))};class Ai{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=He(e)?xi.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...He(e)?xi.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const n of Object.keys(e)){const r=e[n],s=t[n],a=He(s)?"element":null==(i=s)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${r}".`)}var i}}class Pi extends Ai{constructor(t,e){super(),(t=Ge(t))&&(this._element=t,this._config=this._getConfig(e),ki.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ki.remove(this._element,this.constructor.DATA_KEY),yi.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){ni(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return ki.get(Ge(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ii=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;yi.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Qe(this))return;const r=Ve(this)||this.closest(`.${n}`);t.getOrCreateInstance(r)[e]()}))},Oi=".bs.alert",Ei=`close${Oi}`,Ti=`closed${Oi}`;class Li extends Pi{static get NAME(){return"alert"}close(){if(yi.trigger(this._element,Ei).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),yi.trigger(this._element,Ti),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=Li.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Ii(Li,"close"),ei(Li);const Ui='[data-bs-toggle="button"]';class qi extends Pi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=qi.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}yi.on(document,"click.bs.button.data-api",Ui,(t=>{t.preventDefault();const e=t.target.closest(Ui);qi.getOrCreateInstance(e).toggle()})),ei(qi);const Ri={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!Qe(t)&&We(t)))}},Fi=".bs.swipe",Mi=`touchstart${Fi}`,Ni=`touchmove${Fi}`,Di=`touchend${Fi}`,ji=`pointerdown${Fi}`,zi=`pointerup${Fi}`,Vi={endCallback:null,leftCallback:null,rightCallback:null},Bi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Hi extends Ai{constructor(t,e){super(),this._element=t,t&&Hi.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Vi}static get DefaultType(){return Bi}static get NAME(){return"swipe"}dispose(){yi.off(this._element,Fi)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ii(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&ii(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(yi.on(this._element,ji,(t=>this._start(t))),yi.on(this._element,zi,(t=>this._end(t))),this._element.classList.add("pointer-event")):(yi.on(this._element,Mi,(t=>this._start(t))),yi.on(this._element,Ni,(t=>this._move(t))),yi.on(this._element,Di,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Gi=".bs.carousel",Wi=".data-api",Qi="next",Ki="prev",Yi="left",Ji="right",Zi=`slide${Gi}`,Xi=`slid${Gi}`,tn=`keydown${Gi}`,en=`mouseenter${Gi}`,nn=`mouseleave${Gi}`,rn=`dragstart${Gi}`,sn=`load${Gi}${Wi}`,an=`click${Gi}${Wi}`,on="carousel",ln="active",cn=".active",dn=".carousel-item",un=cn+dn,pn={ArrowLeft:Ji,ArrowRight:Yi},gn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mn extends Pi{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ri.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===on&&this.cycle()}static get Default(){return gn}static get DefaultType(){return hn}static get NAME(){return"carousel"}next(){this._slide(Qi)}nextWhenVisible(){!document.hidden&&We(this._element)&&this.next()}prev(){this._slide(Ki)}pause(){this._isSliding&&Be(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?yi.one(this._element,Xi,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void yi.one(this._element,Xi,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?Qi:Ki;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&yi.on(this._element,tn,(t=>this._keydown(t))),"hover"===this._config.pause&&(yi.on(this._element,en,(()=>this.pause())),yi.on(this._element,nn,(()=>this._maybeEnableCycle()))),this._config.touch&&Hi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of Ri.find(".carousel-item img",this._element))yi.on(t,rn,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(Yi)),rightCallback:()=>this._slide(this._directionToOrder(Ji)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Hi(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=pn[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ri.findOne(cn,this._indicatorsElement);e.classList.remove(ln),e.removeAttribute("aria-current");const i=Ri.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(ln),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===Qi,r=e||ri(this._getItems(),i,n,this._config.wrap);if(r===i)return;const s=this._getItemIndex(r),a=e=>yi.trigger(this._element,e,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(a(Zi).defaultPrevented)return;if(!i||!r)return;const o=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=r;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";r.classList.add(c),Je(r),i.classList.add(l),r.classList.add(l),this._queueCallback((()=>{r.classList.remove(l,c),r.classList.add(ln),i.classList.remove(ln,c,l),this._isSliding=!1,a(Xi)}),i,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ri.findOne(un,this._element)}_getItems(){return Ri.find(dn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ti()?t===Yi?Ki:Qi:t===Yi?Qi:Ki}_orderToDirection(t){return ti()?t===Ki?Yi:Ji:t===Ki?Ji:Yi}static jQueryInterface(t){return this.each((function(){const e=mn.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}yi.on(document,an,"[data-bs-slide], [data-bs-slide-to]",(function(t){const e=Ve(this);if(!e||!e.classList.contains(on))return;t.preventDefault();const i=mn.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===xi.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),yi.on(window,sn,(()=>{const t=Ri.find('[data-bs-ride="carousel"]');for(const e of t)mn.getOrCreateInstance(e)})),ei(mn);const fn=".bs.collapse",vn=`show${fn}`,bn=`shown${fn}`,$n=`hide${fn}`,yn=`hidden${fn}`,wn=`click${fn}.data-api`,kn="show",Cn="collapse",Sn="collapsing",xn=`:scope .${Cn} .${Cn}`,An='[data-bs-toggle="collapse"]',Pn={parent:null,toggle:!0},In={parent:"(null|element)",toggle:"boolean"};class On extends Pi{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ri.find(An);for(const t of i){const e=ze(t),i=Ri.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pn}static get DefaultType(){return In}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>On.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(yi.trigger(this._element,vn).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(Cn),this._element.classList.add(Sn),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Sn),this._element.classList.add(Cn,kn),this._element.style[e]="",yi.trigger(this._element,bn)}),this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(yi.trigger(this._element,$n).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Je(this._element),this._element.classList.add(Sn),this._element.classList.remove(Cn,kn);for(const t of this._triggerArray){const e=Ve(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Sn),this._element.classList.add(Cn),yi.trigger(this._element,yn)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(kn)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Ge(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(An);for(const e of t){const t=Ve(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=Ri.find(xn,this._config.parent);return Ri.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=On.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}yi.on(document,wn,An,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=ze(this),i=Ri.find(e);for(const t of i)On.getOrCreateInstance(t,{toggle:!1}).toggle()})),ei(On);const En="dropdown",Tn=".bs.dropdown",Ln=".data-api",Un="ArrowUp",qn="ArrowDown",Rn=`hide${Tn}`,Fn=`hidden${Tn}`,Mn=`show${Tn}`,Nn=`shown${Tn}`,Dn=`click${Tn}${Ln}`,jn=`keydown${Tn}${Ln}`,zn=`keyup${Tn}${Ln}`,Vn="show",Bn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Hn=`${Bn}.${Vn}`,Gn=".dropdown-menu",Wn=ti()?"top-end":"top-start",Qn=ti()?"top-start":"top-end",Kn=ti()?"bottom-end":"bottom-start",Yn=ti()?"bottom-start":"bottom-end",Jn=ti()?"left-start":"right-start",Zn=ti()?"right-start":"left-start",Xn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},tr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class er extends Pi{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ri.next(this._element,Gn)[0]||Ri.prev(this._element,Gn)[0]||Ri.findOne(Gn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xn}static get DefaultType(){return tr}static get NAME(){return En}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qe(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!yi.trigger(this._element,Mn,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))yi.on(t,"mouseover",Ye);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Vn),this._element.classList.add(Vn),yi.trigger(this._element,Nn,t)}}hide(){if(Qe(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!yi.trigger(this._element,Rn,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))yi.off(t,"mouseover",Ye);this._popper&&this._popper.destroy(),this._menu.classList.remove(Vn),this._element.classList.remove(Vn),this._element.setAttribute("aria-expanded","false"),xi.removeDataAttribute(this._menu,"popper"),yi.trigger(this._element,Fn,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!He(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${En.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===t)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:He(this._config.reference)?e=Ge(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const i=this._getPopperConfig();this._popper=Me(e,this._menu,i)}_isShown(){return this._menu.classList.contains(Vn)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Jn;if(t.classList.contains("dropstart"))return Zn;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Qn:Wn:e?Yn:Kn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(xi.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const i=Ri.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>We(t)));i.length&&ri(i,e,t===qn,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=er.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Ri.find(Hn);for(const i of e){const e=er.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),r=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!r||"outside"===e._config.autoClose&&r)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:e._element};"click"===t.type&&(s.clickEvent=t),e._completeHide(s)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=[Un,qn].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const r=this.matches(Bn)?this:Ri.prev(this,Bn)[0]||Ri.next(this,Bn)[0]||Ri.findOne(Bn,t.delegateTarget.parentNode),s=er.getOrCreateInstance(r);if(n)return t.stopPropagation(),s.show(),void s._selectMenuItem(t);s._isShown()&&(t.stopPropagation(),s.hide(),r.focus())}}yi.on(document,jn,Bn,er.dataApiKeydownHandler),yi.on(document,jn,Gn,er.dataApiKeydownHandler),yi.on(document,Dn,er.clearMenus),yi.on(document,zn,er.clearMenus),yi.on(document,Dn,Bn,(function(t){t.preventDefault(),er.getOrCreateInstance(this).toggle()})),ei(er);const ir=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nr=".sticky-top",rr="padding-right",sr="margin-right";class ar{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rr,(e=>e+t)),this._setElementAttributes(ir,rr,(e=>e+t)),this._setElementAttributes(nr,sr,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rr),this._resetElementAttributes(ir,rr),this._resetElementAttributes(nr,sr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const r=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(r))}px`)}))}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&xi.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=xi.getDataAttribute(t,e);null!==i?(xi.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(He(t))e(t);else for(const i of Ri.find(t,this._element))e(i)}}const or="backdrop",lr="show",cr=`mousedown.bs.${or}`,dr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ur={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pr extends Ai{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return dr}static get DefaultType(){return ur}static get NAME(){return or}show(t){if(!this._config.isVisible)return void ii(t);this._append();const e=this._getElement();this._config.isAnimated&&Je(e),e.classList.add(lr),this._emulateAnimation((()=>{ii(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(lr),this._emulateAnimation((()=>{this.dispose(),ii(t)}))):ii(t)}dispose(){this._isAppended&&(yi.off(this._element,cr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ge(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),yi.on(t,cr,(()=>{ii(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){ni(t,this._getElement(),this._config.isAnimated)}}const gr=".bs.focustrap",hr=`focusin${gr}`,mr=`keydown.tab${gr}`,fr="backward",vr={autofocus:!0,trapElement:null},br={autofocus:"boolean",trapElement:"element"};class $r extends Ai{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return vr}static get DefaultType(){return br}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),yi.off(document,gr),yi.on(document,hr,(t=>this._handleFocusin(t))),yi.on(document,mr,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,yi.off(document,gr))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ri.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===fr?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?fr:"forward")}}const yr=".bs.modal",wr=`hide${yr}`,_r=`hidePrevented${yr}`,kr=`hidden${yr}`,Cr=`show${yr}`,Sr=`shown${yr}`,xr=`resize${yr}`,Ar=`click.dismiss${yr}`,Pr=`mousedown.dismiss${yr}`,Ir=`keydown.dismiss${yr}`,Or=`click${yr}.data-api`,Er="modal-open",Tr="show",Lr="modal-static",Ur={backdrop:!0,focus:!0,keyboard:!0},qr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Rr extends Pi{constructor(t,e){super(t,e),this._dialog=Ri.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ar,this._addEventListeners()}static get Default(){return Ur}static get DefaultType(){return qr}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||yi.trigger(this._element,Cr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Er),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(yi.trigger(this._element,wr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Tr),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const t of[window,this._dialog])yi.off(t,yr);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $r({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ri.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),Je(this._element),this._element.classList.add(Tr),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,yi.trigger(this._element,Sr,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){yi.on(this._element,Ir,(t=>{if("Escape"===t.key)return this._config.keyboard?(t.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),yi.on(window,xr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),yi.on(this._element,Pr,(t=>{yi.one(this._element,Ar,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Er),this._resetAdjustments(),this._scrollBar.reset(),yi.trigger(this._element,kr)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(yi.trigger(this._element,_r).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(Lr)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Lr),this._queueCallback((()=>{this._element.classList.remove(Lr),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=ti()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=ti()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const i=Rr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}}))}}yi.on(document,Or,'[data-bs-toggle="modal"]',(function(t){const e=Ve(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),yi.one(e,Cr,(t=>{t.defaultPrevented||yi.one(e,kr,(()=>{We(this)&&this.focus()}))}));const i=Ri.findOne(".modal.show");i&&Rr.getInstance(i).hide(),Rr.getOrCreateInstance(e).toggle(this)})),Ii(Rr),ei(Rr);const Fr=".bs.offcanvas",Mr=".data-api",Nr=`load${Fr}${Mr}`,Dr="show",jr="showing",zr="hiding",Vr=".offcanvas.show",Br=`show${Fr}`,Hr=`shown${Fr}`,Gr=`hide${Fr}`,Wr=`hidePrevented${Fr}`,Qr=`hidden${Fr}`,Kr=`resize${Fr}`,Yr=`click${Fr}${Mr}`,Jr=`keydown.dismiss${Fr}`,Zr={backdrop:!0,keyboard:!0,scroll:!1},Xr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ts extends Pi{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Zr}static get DefaultType(){return Xr}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||yi.trigger(this._element,Br,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ar).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jr),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Dr),this._element.classList.remove(jr),yi.trigger(this._element,Hr,{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(yi.trigger(this._element,Gr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(zr),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Dr,zr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ar).reset(),yi.trigger(this._element,Qr)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new pr({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():yi.trigger(this._element,Wr)}:null})}_initializeFocusTrap(){return new $r({trapElement:this._element})}_addEventListeners(){yi.on(this._element,Jr,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():yi.trigger(this._element,Wr))}))}static jQueryInterface(t){return this.each((function(){const e=ts.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}yi.on(document,Yr,'[data-bs-toggle="offcanvas"]',(function(t){const e=Ve(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Qe(this))return;yi.one(e,Qr,(()=>{We(this)&&this.focus()}));const i=Ri.findOne(Vr);i&&i!==e&&ts.getInstance(i).hide(),ts.getOrCreateInstance(e).toggle(this)})),yi.on(window,Nr,(()=>{for(const t of Ri.find(Vr))ts.getOrCreateInstance(t).show()})),yi.on(window,Kr,(()=>{for(const t of Ri.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&ts.getOrCreateInstance(t).hide()})),Ii(ts),ei(ts);const es=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),is=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ns=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,rs=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!es.has(i)||Boolean(is.test(t.nodeValue)||ns.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))},ss={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},as={allowList:ss,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},os={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ls={entry:"(string|element|function|null)",selector:"(string|element)"};class cs extends Ai{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return as}static get DefaultType(){return os}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},ls)}_setContent(t,e,i){const n=Ri.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?He(e)?this._putElementInTemplate(Ge(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(const t of r){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[i]||[]);for(const e of n)rs(e,r)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return"function"==typeof t?t(this):t}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const ds=new Set(["sanitize","allowList","sanitizeFn"]),us="fade",ps="show",gs=".modal",hs="hide.bs.modal",ms="hover",fs="focus",vs={AUTO:"auto",TOP:"top",RIGHT:ti()?"left":"right",BOTTOM:"bottom",LEFT:ti()?"right":"left"},bs={allowList:ss,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},$s={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ys extends Pi{constructor(e,i){if(void 0===t)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return bs}static get DefaultType(){return $s}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),yi.off(this._element.closest(gs),hs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=yi.trigger(this._element,this.constructor.eventName("show")),e=(Ke(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),yi.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(ps),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))yi.on(t,"mouseover",Ye);this._queueCallback((()=>{yi.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!yi.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ps),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))yi.off(t,"mouseover",Ye);this._activeTrigger.click=!1,this._activeTrigger[fs]=!1,this._activeTrigger[ms]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),yi.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(us,ps),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(us),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new cs({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(us)}_isShown(){return this.tip&&this.tip.classList.contains(ps)}_createPopper(t){const e="function"==typeof this._config.placement?this._config.placement.call(this,t,this._element):this._config.placement,i=vs[e.toUpperCase()];return Me(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)yi.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===ms?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===ms?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");yi.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?fs:ms]=!0,e._enter()})),yi.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?fs:ms]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},yi.on(this._element.closest(gs),hs,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=xi.getDataAttributes(this._element);for(const t of Object.keys(e))ds.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ge(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=ys.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ei(ys);const ws={...ys.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},_s={...ys.DefaultType,content:"(null|string|element|function)"};class ks extends ys{static get Default(){return ws}static get DefaultType(){return _s}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=ks.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ei(ks);const Cs=".bs.scrollspy",Ss=`activate${Cs}`,xs=`click${Cs}`,As=`load${Cs}.data-api`,Ps="active",Is="[href]",Os=".nav-link",Es=`${Os}, .nav-item > ${Os}, .list-group-item`,Ts={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ls={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Us extends Pi{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ts}static get DefaultType(){return Ls}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ge(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(yi.off(this._config.target,xs),yi.on(this._config.target,xs,Is,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&t){if(i(s),!n)return}else r||t||i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ri.find(Is,this._config.target);for(const e of t){if(!e.hash||Qe(e))continue;const t=Ri.findOne(e.hash,this._element);We(t)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ps),this._activateParents(t),yi.trigger(this._element,Ss,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Ri.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Ps);else for(const e of Ri.parents(t,".nav, .list-group"))for(const t of Ri.prev(e,Es))t.classList.add(Ps)}_clearActiveClass(t){t.classList.remove(Ps);const e=Ri.find(`${Is}.${Ps}`,t);for(const t of e)t.classList.remove(Ps)}static jQueryInterface(t){return this.each((function(){const e=Us.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}yi.on(window,As,(()=>{for(const t of Ri.find('[data-bs-spy="scroll"]'))Us.getOrCreateInstance(t)})),ei(Us);const qs=".bs.tab",Rs=`hide${qs}`,Fs=`hidden${qs}`,Ms=`show${qs}`,Ns=`shown${qs}`,Ds=`click${qs}`,js=`keydown${qs}`,zs=`load${qs}`,Vs="ArrowLeft",Bs="ArrowRight",Hs="ArrowUp",Gs="ArrowDown",Ws="active",Qs="fade",Ks="show",Ys=":not(.dropdown-toggle)",Js='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zs=`.nav-link${Ys}, .list-group-item${Ys}, [role="tab"]${Ys}, ${Js}`,Xs=`.${Ws}[data-bs-toggle="tab"], .${Ws}[data-bs-toggle="pill"], .${Ws}[data-bs-toggle="list"]`;class ta extends Pi{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),yi.on(this._element,js,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?yi.trigger(e,Rs,{relatedTarget:t}):null;yi.trigger(t,Ms,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Ws),this._activate(Ve(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),yi.trigger(t,Ns,{relatedTarget:e})):t.classList.add(Ks)}),t,t.classList.contains(Qs)))}_deactivate(t,e){t&&(t.classList.remove(Ws),t.blur(),this._deactivate(Ve(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),yi.trigger(t,Fs,{relatedTarget:e})):t.classList.remove(Ks)}),t,t.classList.contains(Qs)))}_keydown(t){if(![Vs,Bs,Hs,Gs].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[Bs,Gs].includes(t.key),i=ri(this._getChildren().filter((t=>!Qe(t))),t.target,e,!0);i&&(i.focus({preventScroll:!0}),ta.getOrCreateInstance(i).show())}_getChildren(){return Ri.find(Zs,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ve(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const n=(t,n)=>{const r=Ri.findOne(t,i);r&&r.classList.toggle(n,e)};n(".dropdown-toggle",Ws),n(".dropdown-menu",Ks),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Ws)}_getInnerElement(t){return t.matches(Zs)?t:Ri.findOne(Zs,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=ta.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}yi.on(document,Ds,Js,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Qe(this)||ta.getOrCreateInstance(this).show()})),yi.on(window,zs,(()=>{for(const t of Ri.find(Xs))ta.getOrCreateInstance(t)})),ei(ta);const ea=".bs.toast",ia=`mouseover${ea}`,na=`mouseout${ea}`,ra=`focusin${ea}`,sa=`focusout${ea}`,aa=`hide${ea}`,oa=`hidden${ea}`,la=`show${ea}`,ca=`shown${ea}`,da="hide",ua="show",pa="showing",ga={animation:"boolean",autohide:"boolean",delay:"number"},ha={animation:!0,autohide:!0,delay:5e3};class ma extends Pi{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ha}static get DefaultType(){return ga}static get NAME(){return"toast"}show(){yi.trigger(this._element,la).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(da),Je(this._element),this._element.classList.add(ua,pa),this._queueCallback((()=>{this._element.classList.remove(pa),yi.trigger(this._element,ca),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(yi.trigger(this._element,aa).defaultPrevented||(this._element.classList.add(pa),this._queueCallback((()=>{this._element.classList.add(da),this._element.classList.remove(pa,ua),yi.trigger(this._element,oa)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ua),super.dispose()}isShown(){return this._element.classList.contains(ua)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){yi.on(this._element,ia,(t=>this._onInteraction(t,!0))),yi.on(this._element,na,(t=>this._onInteraction(t,!1))),yi.on(this._element,ra,(t=>this._onInteraction(t,!0))),yi.on(this._element,sa,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=ma.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Ii(ma),ei(ma);const fa={bindings:{btnClass:"@"},controller:class{static $inject=["$http","$scope"];isBusy=!1;productSlug=localized.settings.general.product_slug||"products";shown=!1;constructor(t,e){this.$http=t,this.$scope=e}$onInit(){this.popover=new ks(document.querySelector("#search-bar"),{container:"body",placement:"bottom",content:"",html:!0,trigger:"manual"}),this.trigger=document.querySelector("#search-bar"),this.trigger.addEventListener("hidden.bs.popover",(()=>{this.$scope.$apply((()=>{this.shown=!1}))})),this.trigger.addEventListener("shown.bs.popover",(()=>{this.$scope.$apply((()=>{this.shown=!0}))}))}handleBlur(){this.popover.hide()}handleChange(t){if(this.popover.hide(),t.length>2){const e=`${localized.apiURL}/catalog/search/new`,i={params:{q:t,rpp:5}};this.isBusy=!0,this.$http.get(e,i).then((t=>{this.products=t.data.product_briefs,this.popover.setContent({".popover-header":`Results for '${this.q}':`,".popover-body":this.popoverBody(this.products)}),this.products.length&&!this.shown&&this.popover.show(),this.isBusy=!1}))}}handleFocus(){!this.shown&&this.products?.length&&this.popover.show()}handleSubmit(t){let e="";t&&(e=`?${new URLSearchParams({q:t}).toString()}`);const i=new URL(`${localized.pages.catalog.url}${e}`);location.assign(i)}popoverBody(t){let e='<div class="list-group list-group-flush">';return t.forEach((t=>{e+=`<a class="list-group-item" href="/${this.productSlug}/${t.slug}" tabindex="0">\n\t\t\t\t\t\t<div class="text-truncate">${t.description}\t</div>\n\t\t\t\t\t\t<small>${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.price)}</small>\n\t\t\t\t\t</a>`})),e+="</div>",e}},template:'<form role="search" ng-hide="$ctrl.isPunchoutOnly" ng-submit="$ctrl.handleSubmit( $ctrl.q )"> <div class="input-group mb-3" id="search-bar" data-bs-toggle="popover"> <input type="search" class="form-control" placeholder="Search products" aria-label="Search products" ng-blur="$ctrl.handleBlur( $event )" ng-change="$ctrl.handleChange( $ctrl.q )" ng-focus="$ctrl.handleFocus()" ng-model="$ctrl.q" ng-model-options="{ debounce: 500 }"/> <button class="btn btn-primary" type="submit">Search</button> </div> </form> '},va=n().module("SearchModule",[]).component("vfSearchBar",fa).name,ba=n().module("WelcomeModule",[]).component("vfWelcome",{controller:class{static $inject=["User","Utils"];constructor(t,e){this.User=t,this.Utils=e,this.cartCount=t.cart_count,this.cartUrl=e.getPageUrl("cart"),this.hasPunchoutEnabled=t.punchoutOnly,this.isSignedIn=t.isAuthed&&t.email,this.userName=t.name}$onInit=()=>{this.isSignedIn||this.User.redirectToLogin()}},template:'<layout-component> <div class="d-flex align-items-center" ng-if="!$ctrl.isSignedIn"> <strong>Redirecting to login page. Please wait&hellip;</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div> </div> <div ng-if="$ctrl.isSignedIn"> <p class="has-text-align-center has-medium-font-size"> Thanks for joining us {{ $ctrl.userName }}. </p> <punchout-suppliers ng-if="$ctrl.hasPunchoutEnabled"> </punchout-suppliers> <welcome-banner></welcome-banner> <div class="btn-toolbar justify-content-center"> <a class="btn btn-primary" ng-href="{{ $ctrl.cartUrl }}" ng-if="$ctrl.cartCount">View Cart</a> </div> </div> </layout-component> '}).name;function $a(t,e){const i=this;i.parseJWT=function(t){const i=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(e.atob(i))},i.saveToken=function(e,i){let n={samesite:"none",secure:!0,path:"/"};if(i){const t=new Date;t.setDate(t.getDate()+14),n={samesite:"none",secure:!0,path:"/",expires:t}}t.put("vf.auth.token",e,n)},i.getToken=function(){return t.get("vf.auth.token")},i.getAdminTokenA=function(){return t.get("vendorfuel-admin-tokena")},i.getAdminTokenB=function(){return t.get("vendorfuel-admin-tokenb")},i.getAdminJWT=function(){return t.get("vendorfuel-admin-token")},i.isAuthed=function(t){return!!(t=t||i.getToken())&&!i.tokenExpired()},i.tokenExpired=function(){return!1},i.clearToken=function(){t.remove("vf.user.name",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.email",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.group_admin",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.approver",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.is-guest",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.group",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.remember",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.last_login",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.cart.cartCount",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.punchoutOnly",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.mixedPunchout",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.company",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.defaultShippingProfile",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.defaultBillingProfile",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.group_id",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.group_parent_id",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.price_availability",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.cost_center_is_required",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.user.currentGroup_id",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.cart",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.auth.token",{samesite:"none",secure:!0,path:"/"}),t.remove("vf.cart.cartCount",{samesite:"none",secure:!0,path:"/"}),t.remove("force_password",{samesite:"none",secure:!0,path:"/"})}}function ya(t,e){const i=this;i.addItem=function(e,i,n,r){const s={order_id:e,sku:i,qty:n,shipping_method:r};return t.post(localized.apiURL+"/group/pending-order/add-item",s)},i.listGroup=function(){return t.post(localized.apiURL+"/group/account/list",{})},i.changeGroupPermissions=function(e,i,n,r,s,a){const o={customer_id:e,active:i,approver:n,admin:r,requestor:s,pending_emails:a};return t.post(localized.apiURL+"/group/account/modify",o)},this.listGroupOrders=e=>{const i=`${localized.apiURL}/group/orders`;return t.get(i,{params:e,paramSerializer:"$httpParamSerializerJQLike"})},i.viewGroupOrder=function(e){const i={};return void 0!==e&&(i.order_id=e),t.post(localized.apiURL+"/group/order/view",i)},this.listGroupPendingOrders=e=>{const i=`${localized.apiURL}/group/pending-orders`;return t.get(i,{params:e,paramSerializer:"$httpParamSerializerJQLike"})},i.viewGroupPendingOrder=function(e){const i={};return void 0!==e&&(i.order_id=e),t.post(localized.apiURL+"/group/pending-order/view",i)},i.cancelGroupPendingOrder=function(e){const i={};return void 0!==e&&(i.order_id=e),t.post(localized.apiURL+"/group/pending-order/cancel",i)},i.confirmGroupOrder=function(e){const i={};return i.shipping_id=e.selected_shipping_profile.shipping_id,i.billing_id=e.selected_billing_profile.billing_id,i.order_id=e.order_id,i.shipping_method=e.selected_shipping_method,i.shipping_first_name=e.shipping_first_name,i.shipping_last_name=e.shipping_last_name,i.shipping_email=e.shipping_email,i.shipping_address1=e.shipping_address1,i.shipping_address2=e.shipping_address2,i.shipping_city=e.shipping_city,i.shipping_state=e.shipping_state,i.shipping_zip=e.shipping_zip,i.shipping_phone=e.shipping_phone,i.billing_first_name=e.billing_first_name,i.billing_last_name=e.billing_last_name,i.billing_email=e.billing_email,i.billing_address1=e.billing_address1,i.billing_address2=e.billing_address2,i.billing_city=e.billing_city,i.billing_state=e.billing_state,i.billing_zip=e.billing_zip,i.billing_phone=e.billing_phone,localized.settings.general.checkout.company_name_option&&(i.organization=e.order.organization),localized.settings.general.checkout.purchase_order_option&&(i.rr_po_num=e.order.rr_po_num),localized.settings.general.checkout.issuing_office_option&&(i.issuing_office=e.order.issuing_office),localized.settings.general.checkout.cost_center_option&&(i.cost_center_code=e.order.cost_center_code),localized.settings.general.checkout.attention_option&&(i.attention=e.order.attention),localized.settings.general.checkout.notes_option&&(i.notes=e.order.notes),localized.settings.general.checkout.notes_option&&(i.approver_notes=e.order.approver_notes),e.order.customFields&&(""!==e.order.customFields.f1&&(i.f1=e.order.customFields.f1),""!==e.order.customFields.f2&&(i.f2=e.order.customFields.f2),""!==e.order.customFields.f3&&(i.f3=e.order.customFields.f3),""!==e.order.customFields.f4&&(i.f4=e.order.customFields.f4),""!==e.order.customFields.f5&&(i.f5=e.order.customFields.f5),""!==e.order.customFields.f6&&(i.f6=e.order.customFields.f6)),t.post(localized.apiURL+"/group/pending-order/confirm",i).then((function(t){return t}))},i.completeGroupOrder=function(i){return t.post(localized.apiURL+"/group/pending-order/complete",i).then((function(t){return e.purchase(t.data),t}))},this.groupPendingOrderRemoveItem=(e,i)=>{if(e){const n=`${localized.apiURL}/group/pending-order/remove-item`,r={order_id:e,product_id:i};return t.post(n,r)}},i.addGroupRma=function(e,i,n,r){const s={};return s.purch_id=e,s.notes=i,s.reason=n,s.qty=r,t.post(localized.apiURL+"/group/rma/request",s)}}function wa(t,e){const i=this;i.listPuchoutPartners=function(){return t.post(localized.apiURL+"/punchout/partner-catalog/list",{})},this.listSuppliers=e=>{const i={};return e&&(i.customer_id=e),t.get(f(localized.apiURL+"/punchout/suppliers",i))},this.supplierRequest=(i,n,r)=>{const s={partner_id:i,order_id:r,return_url:n};e.log(s);const a=`${localized.apiURL}/punchout/suppliers/${i}/request`;return t.post(a,s).then((t=>{if(!t.data.start_page_url)return t;window.location.href=t.data.start_page_url}))},i.supplierReturn=function(e,i){const n={};return n.cxml=e,n.order_id=i,t.post(localized.apiURL+"/punchout/return",n)},i.punchoutRequest=function(i,n,r){const s={};return s.partner_id=i,s.order_id=r,s.return_url=n,e.log(s),t.post(localized.apiURL+"/punchout/partner-catalog/request",s)},i.punchoutReturn=function(e,i){const n={};return n.cxml=e,n.order_id=i,t.post(localized.apiURL+"/punchout/partner-catalog/return",n)}}function _a(t){switch(t){case"true":case"1":case 1:return!0;default:return!1}}function ka(t,e,i,n,r,s,a,o){const l=this;l.name=t.get("vf.user.name"),l.email=t.get("vf.user.email");try{l.group=JSON.parse(t.get("vf.user.group"))}catch(t){l.group=""}l.group_admin=_a(t.get("vf.user.group_admin")),l.approver=_a(t.get("vf.user.approver")),l.remember=_a(t.get("vf.user.remember")),l.last_login=t.get("vf.user.last_login"),l.isAuthed=n.isAuthed(),l.isGuest=_a(t.get("vf.user.is-guest")),l.attemptedPage=t.get("vf.user.attempted-page"),l.cart_count=v(t.get("vf.cart.cartCount")),l.punchoutOnly=_a(t.get("vf.user.punchoutOnly")),l.mixedPunchout=_a(t.get("vf.user.mixedPunchout")),l.company=t.get("vf.user.company"),l.defaultShippingProfile=v(t.get("vf.user.defaultShippingProfile")),l.defaultBillingProfile=v(t.get("vf.user.defaultBillingProfile")),l.group_id=v(t.get("vf.user.group_id")),l.group_parent_id=v(t.get("vf.user.group_parent_id")),l.price_availability=_a(t.get("vf.user.price_availability")),l.cost_center_is_required=_a(t.get("vf.user.cost_center_is_required")),l.currentGroup_id=v(t.get("vf.user.currentGroup_id"));const c=function(e){l.name=e.name,l.email=e.email,l.company=e.company,l.group_admin=e.group_admin,l.approver=e.approver,l.isGuest=e.guest,l.group=e.group,l.last_login=e.last_login,l.punchoutOnly=e.punchout_only,l.mixedPunchout=e.mixed_punchout,l.defaultShippingProfile=e.default_shipping_profile,l.defaultBillingProfile=e.default_billing_profile,l.group_id=e.group_id,l.group_parent_id=e.group_parent_id,l.price_availability=e.price_availability,l.cost_center_is_required=e.cost_center_is_required,l.currentGroup_id=e.group_id;let n={samesite:"none",secure:!0,path:"/"};if(l.remember){const t=new Date;t.setDate(t.getDate()+14),n={samesite:"none",secure:!0,path:"/",expires:t}}t.put("vf.user.name",l.name,n),t.put("vf.user.email",l.email,n),t.put("vf.user.group_admin",l.group_admin,n),t.put("vf.user.approver",l.approver,n);try{t.put("vf.user.group",JSON.stringify(l.group),n)}catch(e){t.put("vf.user.group","",n)}t.put("vf.user.remember",l.remember,n),t.put("vf.user.last_login",l.last_login,n),t.put("vf.cart.cartCount",l.cart_count,n),t.put("vf.user.punchoutOnly",l.punchoutOnly,n),t.put("vf.user.mixedPunchout",l.mixedPunchout,n),t.put("vf.user.company",l.company,n),t.put("vf.user.defaultShippingProfile",l.defaultShippingProfile,n),t.put("vf.user.defaultBillingProfile",l.defaultBillingProfile,n),t.put("vf.user.group_id",l.group_id,n),t.put("vf.user.group_parent_id",l.group_parent_id,n),t.put("vf.user.price_availability",l.price_availability,n),t.put("vf.user.cost_center_is_required",l.cost_center_is_required,n),t.put("vf.user.currentGroup_id",l.currentGroup_id,n),t.put("vf.user.is-guest",l.isGuest,{samesite:"none",secure:!0,path:"/"}),i.get("Cart").updateFromApi(e),a.log(this)},d=function(t){return t.data.errors.length||(n.saveToken(t.data.token,l.remember),c(t.data),l.isAuthed=!0),t},u=()=>{n.clearToken(),l.isAuthed=!1,l.isGuest=!1,l.name=null,l.email=null,l.company=null,l.group_admin=null,l.approver=null,l.group=null,l.last_login=null,l.punchoutOnly=null,l.mixedPunchout=null,l.defaultShippingProfile=0,l.defaultBillingProfile=0,l.group_id=null,l.group_parent_id=null,l.price_availability=null,l.cost_center_is_required=null,l.currentGroup_id=null};l.updateGroup=function(e){l.currentGroup_id=e,t.put("vf.user.currentGroup_id",l.currentGroup_id,{samesite:"none",secure:!0,path:"/"})},l.register=function(t){const i=n.getToken();return t["prev-token"]=i,e.post(localized.apiURL+"/account/register",t).then((function(t){return s.signUp(),d(t)}))},l.login=function(t){const i=n.getToken();return u(),l.remember=!!t.remember,e.post(localized.apiURL+"/account/login",{email:t.email,password:t.password,"prev-token":i}).then((function(t){return t.data.errors.length||s.login(),d(t)}))},this.logout=()=>{const t=`${localized.apiURL}/account/logout`;return e.post(t,{}).then((t=>(u(),t)))},l.guestLogin=function(){return u(),e.post(localized.apiURL+"/account/guest-login",{}).then((function(e){return l.name="Guest",l.remember=!1,n.saveToken(e.data.token),l.isAuthed=!0,t.put("vf.user.name",l.name,{samesite:"none",secure:!0,path:"/"}),t.put("vf.user.is-guest",!0,{samesite:"none",secure:!0,path:"/"}),t.put("vf.user.remember",l.remember,{samesite:"none",secure:!0,path:"/"}),l.isGuest=!0,a.log(l),e}))},l.redirectToLogin=function(e){l.attemptedPage=window.location.href,t.get("vf.user.attempted-page",l.attemptedPage),e&&angular.element("#errorModal").length?(r.modal({enabled:!0,redirectUrl:o.getPageUrl("login"),title:"Error"}),r.error("This action requires authentication")):window.location.href=localized.pages.login.url},l.redirectToAttempted=function(){t.remove("vf.user.attempted-page",{samesite:"none",secure:!0,path:"/"}),l.attemptedPage&&window.location.href!==l.attemptedPage?window.location.href=l.attemptedPage:window.location.reload()},l.fillInfo=function(){return e.get(localized.apiURL+"/account/info/view").then((function(t){return c(t.data.info),t}))},l.loadCustomer=function(){return e.get(localized.apiURL+"/account/load").then((function(t){return c(t.data),t}))},l.updateInfo=function(t){return e.post(localized.apiURL+"/account/info/modify",t).then((function(t){return t.data.errors.length||c(t.data),t}))},l.roles=function(){return e.get(f(localized.apiURL+"/roles",{})).then((function(t){return t}))},l.role=function(t){return e.get(f(localized.apiURL+"/roles/"+t,{})).then((function(t){return t}))},l.getProfiles=function(t){const i={};return void 0!==t&&(i.order_id=t),e.post(localized.apiURL+"/account/address/list",i).then((function(t){return t}))},l.addShippingProfile=function(t){const i={type:"shipping"};return angular.forEach(t,(function(t,e){i[e]=t})),e.post(localized.apiURL+"/account/address/modify",i).then((function(t){return t}))},l.removeShippingProfile=function(t){return e.post(localized.apiURL+"/account/address/remove",{type:"shipping",shipping_id:t}).then((function(t){return t}))},l.addBillingProfile=function(t){const i={type:"billing"};return angular.forEach(t,(function(t,e){i[e]=t})),e.post(localized.apiURL+"/account/address/modify",i).then((function(t){return t}))},l.removeBillingProfile=function(t){return e.post(localized.apiURL+"/account/address/remove",{type:"billing",billing_id:t}).then((function(t){return t}))},l.setDefaultProfile=function(t,i){return e.post(localized.apiURL+"/account/address/default",{type:i,id:t}).then((function(t){return c(t.data),t}))},this.listOrders=t=>{const i=`${localized.apiURL}/account/orders`;return e.get(i,{params:t,paramSerializer:"$httpParamSerializerJQLike"})},l.viewOrder=function(t){const i={};return void 0!==t&&(i.order_id=t),e.post(localized.apiURL+"/account/order/view",i)},l.checkout=function(){a.log("checkout function here")},this.addRma=(t,i,n,r)=>{const s=`${localized.apiURL}/account/rma/request`,a={purch_id:t,notes:i,reason:n,qty:r};return e.post(s,a)},l.requestPasswordReset=function(t,i){const n={email:t,url:i};return e.post(localized.apiURL+"/account/password-reset/request",n)},l.validatePasswordReset=function(t,i){const n={code:t,auth:i};return e.post(localized.apiURL+"/account/password-reset/validate",n)},l.resetPassword=function(t,i,n,r,s,a){const o={code:t,auth:i};return void 0!==n&&(o.security_qa_id=n),""!==r&&(o.security_answer=r),o.password=s,o.retype_password=a,e.post(localized.apiURL+"/account/password-reset/submit",o)},this.forcedResetPassword=t=>{const i=`${localized.apiURL}/account/info/modify`,n={password:t,password_confirmation:t,name:l.name,email:l.email};return e.post(i,n)},l.getBanner=function(t){const i={area:t};return e.post(localized.apiURL+"/catalog/banner/view",i)},l.sendOrderEmail=function(t){const i={order_id:t};return e.post(localized.apiURL+"/account/order/resend-email",i)},this.resendVerificationEmail=(t,i)=>{const n={email:t,verification_return_url:i},r=`${localized.apiURL}/account/email/link`;return e.post(r,n)},this.verifyEmail=(t,i)=>{const n={auth:t,code:i},r=`${localized.apiURL}/account/email/verify`;return e.post(r,n)}}function Ca(t){const e=document.createElement("a");e.href=window.location.href,e._params={},e._pathPieces=e.pathname.replace(/^\/+|\/+$/g,"").split("/");const i=e.search;if("?"===i.charAt(0)){const t=i.slice(1).split("&");for(let i=0;i<t.length;i++){const n=t[i].split("=");e._params[n[0]]=n[1]}}e.param=function(t){return e._params[t]},e.pathPiece=function(t){return e._pathPieces[t]},this.urlParser=e,this.goToPage=function(t){window.location.href=t},this.getPageUrl=(e,i)=>{if(t.log(`Getting page URL for "${e}".`),localized.pages[e]){let t=localized.pages[e].url;return!n().isUndefined(i)&&n().isObject(i)&&(t+="?",n().forEach(i,(function(e,i){t+=encodeURIComponent(i)+"="+encodeURIComponent(e)}))),t}return t.warn(`Unable to find mapped page with key "${e}".`),`${location.origin}/${e}`}}function Sa(t,e){const i=this;i.selectedCollection={};try{i.selectedCollection=JSON.parse(localStorage.getItem("selectedCollection"))}catch(t){i.selectedCollection={}}return i.list=i=>(e.search(i.q),t.post(localized.apiURL+"/catalog/search/new",i).then((function(t){return e.viewSearchResults(i.q,t.data.product_briefs),t}))),i.getCollections=function(){const e={url:localized.apiURL+"/catalog/collection/",method:"GET"};return t(e).then((function(t){return t.data}))},i.viewCollection=function(e){const i={url:localized.apiURL+"/catalog/collection/"+e.col_id,method:"GET",params:e};return t(i).then((function(t){return t.data}))},i.goToCollection=function(t){i.viewCollection(t).then((function(t){localStorage.setItem("selectedCollection",JSON.stringify(t.collection))})).finally((function(){const t=localized.pages.collection;if(angular.isUndefined(t))throw new Error("Unable to find that page.");window.location.href=t.url}))},i}function xa(t,e,i,r,s,a){const o=new URL(localized.apiURL),l=(t,e,i)=>(void 0===t&&(t={}),t instanceof FormData?t.append(e,i):t[e]=i,t);return{request:function(e){if(!e.url.includes(o.origin)||e.skipAuth)return e;e=l(e,"requestTimestamp",(new Date).getTime()/1e3);const i=v(t.get("vf.user.group_id")),a=v(t.get("vf.user.currentGroup_id"));i&&i!==a&&(e.data=l(e.data,"use_group",a),e.params=l(e.params,"use_group",a)),e.params=l(e.params,"apikey",localized.settings.general.api_key),e.data=l(e.data,"time",e.requestTimestamp),e.data=l(e.data,"device","website2");const c=r.getToken();c&&(e.headers=l(e.headers,"Authorization","Bearer "+c),e.data=l(e.data,"auth-token",c));const d=r.getAdminTokenA(),u=r.getAdminTokenB(),p=r.getAdminJWT();return(d&&u||p)&&(e.data=l(e.data,"tokena",d),e.data=l(e.data,"tokenb",u),e.data=l(e.data,"token",p)),e.data instanceof FormData&&(e.transformRequest=n().identity,delete e.headers["Content-Type"]),e.headers["x-requested-with"]="XMLHttpRequest",e.withCredentials=!0,s.log("request:",e),e},response:function(t){if(s.log("response:",t),t.data.change_pw&&(()=>{const t=`${a.getPageUrl("login")}`;location.href.includes(t)||location.assign(`${t}?change_pw&redirect_to=${location.pathname}${location.search}`)})(),!t.config.url.includes(o.origin))return t;t.data.notifications&&t.data.notifications.length&&n().forEach(t.data.notifications,(function(t){i.message(t)})),t.data.warnings&&t.data.warnings.length&&n().forEach(t.data.warnings,(function(t){i.warning(t)})),t.data.errors&&t.data.errors.length&&(console.error(t.data.errors),n().forEach(t.data.errors,(function(n){switch(i.error(n),n){case"E0001":r.clearToken(),window.location.assign("/login");break;case"E0002":break;default:return e.reject(t)}})));const l=t.headers("X-Auth-Token");return l&&r.saveToken(l),t},responseError:t=>(i.error(`${t.status}: ${t.statusText}`),e.reject(t))}}function Aa(t,e,i){const n=this;n.recentlyViewed=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");const r=e(localized.apiURL+"/catalog/product/:verb",{},{view:{method:"POST",params:{verb:"view"}},reviews:{method:"POST",params:{verb:"reviews"}}});return n.get=r.view,n.list=e=>(i.search(e.q),t.post(localized.apiURL+"/catalog/search/new",e).then((function(t){return i.viewSearchResults(e.q,t.data.product_briefs),t}))),n.listMore=function(e){const i={products:e};return t.post(localized.apiURL+"/catalog/product/briefs",i)},n.addReview=function(e,i){const n={product_id:e};return angular.forEach(i,(function(t,e){n[e]=t})),t.post(localized.apiURL+"/account/product-review/modify",n).then((function(t){return t}))},n.helpfulRating=function(e,i,s){const a={product_id:e,review_id:i,helpful:s};return t.post(localized.apiURL+"/account/product-review/rate",a).then((function(t){return n.reviews=r.reviews,t}))},n.appendRecent=function(t){let e=!1;angular.forEach(n.recentlyViewed,(function(i){i.product_id===t.product_id&&(e=!0)})),e||(n.recentlyViewed.length<12?n.recentlyViewed.push(t):12===n.recentlyViewed.length&&(n.recentlyViewed.shift(),n.recentlyViewed.push(t)),localStorage.setItem("recentlyViewed",JSON.stringify(n.recentlyViewed)))},n.categories=function(e){const i={id:e};return t({url:localized.apiURL+"/catalog/category/list",method:"POST",params:i}).then((function(t){return t.data}))},n.viewCategory=function(e,i){const n={url:localized.apiURL+"/catalog/category/"+e,method:"GET",params:i};return t(n).then((function(t){return t.data}))},n.reviews=r.reviews,this}$a.$inject=["$cookies","$window"],ya.$inject=["$http","Analytics"],wa.$inject=["$http","Debug"],ka.$inject=["$cookies","$http","$injector","Auth","Alerts","Analytics","Debug","Utils"],Ca.$inject=["Debug"],Sa.$inject=["$http","Analytics"],xa.$inject=["$cookies","$q","Alerts","Auth","Debug","Utils"],Aa.$inject=["$http","$resource","Analytics"];const Pa={bindings:{hideAlertList:"<"},controller:class{constructor(){this.hasAPIKey=!!localized.settings.general.api_key}},template:'<alert-list ng-if="!$ctrl.hideAlertList"></alert-list> <div class="alert alert-warning" role="alert" ng-if="!$ctrl.hasAPIKey"> Missing store API key. If you are the administrator, please go to your store settings. </div> <ng-transclude></ng-transclude> ',transclude:!0},Ia=n().module("LayoutModule",[]).component("layoutComponent",Pa).name,Oa={template:'<figure class="ratio ratio-1x1"> <div id="product-carousel" class="carousel slide" data-bs-ride="carousel"> <div class="carousel-indicators" ng-if="$ctrl.images.length > 1"> <button type="button" data-bs-target="#product-carousel" data-bs-slide-to="{{ $index }}" ng-repeat="image in $ctrl.images" ng-class="[\'bg-primary\', { active: $first }]"></button> </div> <div class="carousel-inner h-100 d-flex align-items-center"> <div ng-class="[\'carousel-item h-100\', { active: $first }]" ng-repeat="image in $ctrl.images"> <div class="d-block w-100 h-100" ng-style="{\n\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\'url(\' +\n\t\t\t\t\t\t\timage.med_url +\n\t\t\t\t\t\t\t\') no-repeat center/contain\'\n\t\t\t\t\t}"></div> </div> </div> <button class="carousel-control-prev" data-bs-slide="prev" data-bs-target="#product-carousel" ng-if="$ctrl.images.length > 1"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="visually-hidden">Previous</span> </button> <button class="carousel-control-next" data-bs-slide="next" data-bs-target="#product-carousel" ng-if="$ctrl.images.length > 1"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="visually-hidden">Next</span> </button> </div> </figure> <div class="hstack justify-content-center align-items-center mb-3 gap-1" ng-if="$ctrl.images.length > 1"> <button class="p-1 btn btn-link border" data-bs-target="#product-carousel" data-bs-slide-to="{{ $index }}" ng-repeat="image in $ctrl.images track by $index" title="View this image"> <img class="img-fluid lazy" loading="lazy" width="140" height="140" alt="" ng-src="{{ image.thumb_url }}"/> </button> </div> ',bindings:{description:"<",images:"<"},controller:function(){const t=this;this.placeholder="/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png",t.$onInit=function(){var e;t.images=(e=t.images,Object.values(e))}}},Ea={bindings:{productId:"<"},controller:Ta,template:'<layout-component> <div class="d-flex justify-content-center py-5" ng-if="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div itemtype="http://schema.org/Product" itemscope ng-if="$ctrl.product && !$ctrl.isLoading"> <product-metadata product="$ctrl.product"></product-metadata> <div> <product-detail-breadcrumb breadcrumb="$ctrl.breadcrumb"></product-detail-breadcrumb> <div class="row"> <div class="col-md-5" ng-if="$ctrl.product.images.length"> <product-detail-images images="$ctrl.product.images" description="$ctrl.product.description"> </product-detail-images> </div> <div class="col-md-7"> <h1> {{ $ctrl.product.description }} </h1> <p> <span class="fs-5"> {{ $ctrl.product.price | currency }} </span> <span ng-if="$ctrl.product.uom"> <span ng-if="!$ctrl.product.uomqty"> / {{ $ctrl.product.uom }}</span> <span ng-if="\n\t\t\t\t\t\t\t\t\t$ctrl.product.uomqty &&\n\t\t\t\t\t\t\t\t\t!$ctrl.product.uomdesc\n\t\t\t\t\t\t\t\t"> / {{ $ctrl.product.uomqty | number }} </span> <span ng-if="\n\t\t\t\t\t\t\t\t\t$ctrl.product.uomqty &&\n\t\t\t\t\t\t\t\t\t$ctrl.product.uomdesc\n\t\t\t\t\t\t\t\t">&nbsp; {{ $ctrl.product.uomqty | number }}<span ng-if="\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.uomdesc\n\t\t\t\t\t\t\t\t\t"> / {{ $ctrl.product.uomdesc }}</span> </span> </span> </p> <p ng-if="$ctrl.product.status === \'active\' && $ctrl.product.available_qty > 10"> {{ $ctrl.product.available_qty | number }} in stock. </p> <p class="fw-bold" ng-if="$ctrl.product.status === \'active\' && $ctrl.product.available_qty > 0 && $ctrl.product.available_qty <= 10"> Low in stock. Order soon. </p> <p ng-if="$ctrl.product.status === \'active\' && $ctrl.product.available_qty === 0"> Out of stock. Please <a ng-href="{{ $ctrl.pageUrls.contact }}">contact us</a> for expected availability or substitution. </p> <p ng-if="$ctrl.product.status === \'backordered\'"> This item is backordered. Please <a ng-href="{{ $ctrl.pageUrls.contact }}">contact us</a> for expected availability or substitution. </p> <p ng-if="$ctrl.product.status === \'discontinued\'"> This item is discontinued. Please <a ng-href="{{ $ctrl.pageUrls.contact }}">contact us</a> for assistance finding a substitution. </p> <form name="$ctrl.addToCartForm" novalidate> <label for="addQty" class="visually-hidden">Quantity</label> <div class="hstack gap-2 mb-3" ng-if="$ctrl.product.status !== \'backordered\' && $ctrl.product.status !== \'discontinued\' && $ctrl.product.available_qty !== 0"> <input class="form-control" id="addQty" name="addQty" type="number" min="0" ng-max="$ctrl.product.available_qty || 1000" ng-attr-max="{{\n\t\t\t\t\t\t\t\t\t$ctrl.product.available_qty ||\n\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t}}" step="1" required ng-disabled="$ctrl.product.available_qty < 1" ng-model="$ctrl.addQty" ng-keydown="$ctrl.onKeydown( $event )"/> <button id="addToCart" class="btn btn-primary text-nowrap" ng-click="$ctrl.addToCart($ctrl.product, $event)" ng-disabled="$ctrl.addToCartForm.$invalid ||\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.available_qty == 0 ||\n\t\t\t\t\t\t\t\t\t\t( !$ctrl.isSignedIn && $ctrl.hasDisabledGuests )"> <span ng-if="\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.cart_qty === 0 &&\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.available_qty !== 0\n\t\t\t\t\t\t\t\t\t">Add to Cart</span> <span ng-if="\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.cart_qty > 0 &&\n\t\t\t\t\t\t\t\t\t\t$ctrl.product.available_qty !== 0\n\t\t\t\t\t\t\t\t\t">Add more to cart</span> </button> <product-detail-favorite-button ng-if="$ctrl.isSignedIn" product="$ctrl.product"></product-detail-favorite-button> </div> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn && $ctrl.hasDisabledGuests"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> </form> <p class="text-danger" ng-if="$ctrl.hasMaxQty"> Only {{ $ctrl.product .available_qty || 1000 | number }} available per order. </p> <div class="alert alert-warning" ng-if="$ctrl.product.additional_shipping"> This item is subject to additional shipping charges. </div> <div class="alert alert-success" ng-if="$ctrl.product.pcrc"> <i class="bi bi-recycle text-success" aria-hidden="true"></i> {{ $ctrl.product.pcrc.percentage }}% post consumer recycled content. </div> <product-detail-alternate-list products="$ctrl.product.alternates" ng-if="$ctrl.product.alternates.length > 0"> </product-detail-alternate-list> <dl class="row"> <dt class="col-4 col-md-3 col-lg-2"> <abbr title="Stock keeping unit">SKU:</abbr> </dt> <dd class="mx-0 mb-2 col-8 col-md-9 col-lg-10">{{ $ctrl.product.sku }}</dd> <dt class="col-4 col-md-3 col-lg-2"> Brand:  </dt> <dd class="mx-0 mb-2 col-8 col-md-9 col-lg-10"> <a ng-href="{{ $ctrl.brandLink }}"> {{ $ctrl.brandName }} </a> </dd> </dl> <div ng-if="$ctrl.product.long_description.length"> <h2 class="d-lg-none">Description</h2> <div class="product-long-desc" ng-bind-html="$ctrl.product.long_description"></div> </div> <div id="product-prop65" class="alert alert-warning" role="alert" ng-if="$ctrl.product.prop65"> <em>California residents:</em><br/> <img loading="lazy" style="width:1rem" ng-src="{{ $ctrl.warningIcon }}" height="16" width="16" alt="Proposition 65 Warning" ng-attr-title="{{ $ctrl.prop65Warning }}"/> <strong> <a rel="noreferrer" href="https://www.p65warnings.ca.gov/" target="_blank" style="color:#000">WARNING:</a> </strong> <span ng-bind-html="$ctrl.prop65Warning"></span> </div> </div> </div> <product-related products="$ctrl.product.related" ng-if="\n\t\t\t\t\t$ctrl.product.related.length &&\n\t\t\t\t\t$ctrl.settings.showRelatedAboveSpecs\n\t\t\t\t"> </product-related> <nav class="mb-3" ng-if="$ctrl.documents.length"> <div class="nav nav-tabs" id="nav-tab" role="tablist"> <a class="nav-link active" id="nav-specs-tab" data-bs-toggle="tab" href="#nav-specs" role="tab" aria-controls="nav-specs" aria-selected="true"> Specifications </a> <a class="nav-link" id="nav-docs-tab" data-bs-toggle="tab" href="#nav-docs" role="tab" aria-controls="nav-docs" aria-selected="false"> Documents </a> </div> </nav> <h2 ng-if="!$ctrl.documents.length">Specifications</h2> <div class="tab-content" id="nav-tabContent"> <div class="tab-pane fade show active" id="nav-specs" role="tabpanel" aria-labelledby="nav-specs-tab"> <product-specs product="$ctrl.product" breadcrumb="$ctrl.breadcrumb"> </product-specs> </div> <div class="tab-pane fade" id="nav-docs" role="tabpanel" aria-labelledby="nav-docs-tab" ng-if="$ctrl.documents.length"> <product-documents documents="$ctrl.documents"> </product-documents> </div> </div> <product-related products="$ctrl.product.related" ng-if="\n\t\t\t\t\t$ctrl.product.related.length &&\n\t\t\t\t\t!$ctrl.settings.showRelatedAboveSpecs\n\t\t\t\t"> </product-related> <product-detail-reviews average-rating="$ctrl.product.average_rating" get-review-total="$ctrl.getReviewTotal( total )" product-id="$ctrl.productId" ng-if="$ctrl.settings.showReviews"> </product-detail-reviews> </div> </div> </layout-component> '};function Ta(t,e,i,r,s,a,o){window.prerenderReady=!1;const l=this;this.settings=localized.settings.general,this.warningIcon=`${localized.dir.url}public/images/warning.svg`,l.$onInit=function(){l.addQty=1,l.cachedAddQty=l.addQty,l.defaultImg={},l.hasDisabledGuests=localized.settings.store.options["Disable Guests"],l.isLoading=!0,l.isSignedIn=a.isAuthed&&a.email,l.pageUrls={contact:o.getPageUrl("contact"),login:o.getPageUrl("login",{redirect_to:t.path()}),register:o.getPageUrl("register")},l.productUrl=document.URL,a.isAuthed&&!a.isGuest&&1===a.punchoutOnly&&o.goToPage(o.getPageUrl("welcome")),l.productId?function(t){const e={product_id:t};s.get(e).$promise.then((e=>{if(!e.warnings.length&&!e.errors.length){const{sku:i,images:r,price:a,description:o,uom:c}=e;s.appendRecent({product_id:t,sku:i,images:r,price:a,description:o,uom:c}),l.breadcrumb=e.category_breadcrumb,l.brandName=function(t){return t.brand_name?t.brand_name:t.manufacturer}(e),l.brandLink=function(t){return t.brand_name?`/catalog?brand_name=${t.brand_name}`:`/catalog?manufacturer=${t.manufacturer}`}(e),l.documents=e.documents,l.prop65Warning=e.prop65?e.prop65.warning.replace(/(^warning:)/gi,"").trim().replace(/(www.p65warnings.ca.gov)/gi,'<a href="https://$&" class="alert-link" target="_blank">$&</a>'):null;let d=0;n().forEach(e.images,(function(t,i){0===d&&(l.defaultImg=e.images[i]),1===t.default&&(l.defaultImg=e.images[i]),l.schemaImg=l.defaultImg.med_url,d+=1})),l.product=e}l.isLoading=!1}))}(l.productId):(e.warning("Missing product ID."),l.isLoading=!1)},l.addToCart=function(t,e){const i=jQuery(e.target);i.data("original-text",i.html()).html(i.data("loading-text")).prop("disabled",!0);let n=l.productId,s=l.addQty;t.product_id!==l.productId&&(n=t.product_id,s=1),r.add(n,s).then((function(){l.product.cart_qty+=parseInt(s),i.html(i.data("original-text")).prop("disabled",!1)}))},l.getReviewTotal=function(t){l.reviewCount=t,i.viewItem(l.product),window.prerenderReady=!0},this.onKeydown=t=>{const e=l.product.available_qty||1e3;l.addQty&&Number(l.addQty.toString()+t.key)>e&&(t.preventDefault(),l.addQty=e,l.hasMaxQty=!0),"Backspace"!==t.key&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&isNaN(Number(t.key))&&t.preventDefault()}}Ta.$inject=["$location","Alerts","Analytics","Cart","Products","User","Utils"];const La={bindings:{product:"<",breadcrumb:"<"},controller:Ua,template:'<table class="table"> <tbody> <tr ng-repeat="item in $ctrl.specs" ng-if="item.label"> <th scope="row"> <abbr ng-if="item.title" ng-attr-title="{{ item.title }}">{{ item.label }}</abbr><span ng-if="!item.title">{{ item.label }}</span>: </th> <td> <product-specs-value ng-repeat="value in item.values" value="value"></product-specs-value> </td> </tr> </tbody> <caption> Specifications for {{ $ctrl.product.description }} </caption> </table> '};function Ua(t){const e=t.getPageUrl("catalog"),i=this;function n(t,e){const i=[];return Array.isArray(e)?e.forEach((t=>{i.push({name:t})})):i.push({name:e}),i}i.$onInit=function(){i.breadcrumb=i.product.category_breadcrumb,i.specs=function(t){const i=[{label:"SKU",title:"Stock Keeping Unit",values:[{name:t.sku,href:`${e}?q=${t.sku}`}]},{label:"Manufacturer",values:t.manufacturer?[{name:t.manufacturer,href:`${e}?manufacturer=${t.manufacturer}`}]:null},{label:"Manufacturer part number",values:t.mfg_part_num?[{name:t.mfg_part_num,href:`${e}?q=${t.mfg_part_num}`}]:null},{label:"Includes",values:t.includes?[{name:t.includes}]:null},{label:"UPC",title:"Universal Product Code",values:t.upc?[{name:t.upc}]:null},{label:"Family/series of related products",values:t.family?[{name:t.family}]:null},{label:"PCRC",title:"Post consumer recycled content",values:t.pcrc?[{name:Number(t.pcrc.percentage),href:`${e}?recycled`}]:null}];for(const[e,r]of Object.entries(t.attributes))r&&i.push({label:e,values:n(0,r)});return i.filter((t=>t.values))}(i.product)}}Ua.$inject=["Utils"];const qa={bindings:{product:"<"},template:'<meta itemprop="name" content="{{ $ctrl.product.description }}"/> <meta itemprop="sku" content="{{ $ctrl.product.sku }}"/> <meta itemprop="mpn" content="{{ $ctrl.product.mfg_part_num }}"/> <div itemprop="brand" itemtype="http://schema.org/Brand" itemscope> <meta itemprop="name" content="{{ $ctrl.product.brand_name }}"/> </div> <meta itemprop="description" content="{{ $ctrl.product.long_description }}"/> <link itemprop="image" ng-if="$ctrl.product.images.length > 0" ng-href="{{ $ctrl.product.images[0].med_url }}"/> <div itemprop="offers" itemtype="http://schema.org/Offer" itemscope> <link itemprop="url" ng-href="{{ $ctrl.productUrl }}"/> <meta itemprop="availability" ng-attr-content="{{ $ctrl.availability }}"/> <meta itemprop="priceCurrency" content="USD"/> <meta itemprop="price" content="{{ $ctrl.product.price }}"/> </div> ',controller:class{productUrl=document.URL;$onInit(){this.availability=function(t,e){const i="https://schema.org/";return"active"===t?0!==e?`${i}InStock`:`${i}OutOfStock`:"backordered"===t?`${i}BackOrder`:"discontinued"===t?`${i}Discontinued`:void 0}(this.product.status,this.product.available_qty)}}},Ra=n().module("ProductDetailModule",[]).component("productDetail",Ea).component("productDetailImages",Oa).component("productMetadata",qa).component("productSpecs",La).component("productSpecsValue",{bindings:{value:"<"},template:'<a ng-attr-title="{{ $ctrl.value.title }}" ng-href="{{ $ctrl.value.href }}" ng-if="$ctrl.value.href"> {{ $ctrl.value.name }} </a> <span ng-if="!$ctrl.value.href"> {{ $ctrl.value.name }} </span> '}).name,Fa={controller:Ma,template:'<layout-component> <div ng-if="$ctrl.hasAPIKey && $ctrl.hasCXML"> <div class="alert alert-info"> Adding items to cart. This should take only a moment, depending on the size of your order. Please wait and do not refresh your browser or navigate away. </div> <vf-spinner></vf-spinner> </div> </layout-component> '};function Ma(t,e,i){this.hasAPIKey=localized.settings.general.api_key;const n=t=>(t.preventDefault(),t.returnValue="Are you sure you want to before cart is filled?");this.$onInit=()=>{if(this.hasAPIKey){const{"cxml-urlencoded":i,order_id:r}=params;this.hasCXML=!!i,addEventListener("beforeunload",n,{capture:!0}),e.supplierReturn(i,r).then((e=>{removeEventListener("beforeunload",n,{capture:!0}),e.data.errors.length||e.data.warnings.length||e.data.notifications.length?t((()=>{this.redirect(r)}),5e3):this.redirect(r)}))}},this.redirect=t=>{t?top.location.href=`${i.getPageUrl("group-orders")}?id=${t}&pending`:window.location.href=i.getPageUrl("cart")}}Ma.$inject=["$timeout","Punchout","Utils"];const Na=n().module("PunchoutReturnModule",[]).component("punchoutReturn",Fa).name,Da=[2,5,6,8,12,14,38,101,102,103,104,115,117,119,126],ja={controller:class{static $inject=["$location","$rootScope","$timeout","Alerts","Cart","Utils"];isBusy=!1;constructor(t,e,i,n,r,s){this.$location=t,this.$rootScope=e,this.$timeout=i,this.Alerts=n,this.Cart=r,this.Utils=s,this.message="Completing order, please wait..."}$onInit(){this.orderId=Number(this.$location.search().OrderID),this.resultCode=Number(this.$location.search().ResultCode),this.returnUrl=`https://${window.location.hostname}/cc-return/?OrderID=${this.orderId}`;const t=this.$location.search().PayFabricErrorCode,e={trx_key:this.$location.search().TrxKey,order_id:this.orderId,payment_method:"payfabric"},i=this.$location.search().ResponseMsg;Da.includes(this.resultCode)?this.handleDecline():t?this.handleError(i):this.handleSuccess(e)}disableNavWarning(){window.parent.onbeforeunload=null}handleRetry(){this.isBusy=!0,this.Cart.payfabricUrl(this.returnUrl,this.orderId).then((t=>{this.$rootScope.payfabric_url=t,parent.document.getElementById("payfabricFrame").src=t}))}handleDecline(){this.isDeclined=!0}handleError(t){this.hasError=!0,this.responseMessage=t}handleSuccess(t){this.message="Completing order, please wait and do not refresh page...",this.Cart.completeOrder(t).then((t=>{t.data.errors.length<1&&(this.disableNavWarning(),1===t.data.pending?(this.message="Order is pending approval. Redirecting to welcome page.",this.$timeout((()=>{top.location.href=this.Utils.getPageUrl("welcome")}),3e3)):(this.message="Order completed. Redirecting to view order page.",top.location.href=`${this.Utils.getPageUrl("view-order")}?id=${t.data.order_id}`))})).catch((t=>{console.error("rejected",t)}))}},template:'<style>html{overflow-y:hidden;margin-top:0!important}#wpadminbar,footer,header{display:none}</style> <div class="alert alert-info mb-0 text-center" ng-if="!$ctrl.isDeclined && !$ctrl.hasError"> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div> <p class="mb-0">{{ $ctrl.message }}</p> </div> <div class="alert alert-warning mb-0" ng-if="$ctrl.hasError"> <h4 class="alert-heading">Error</h4> <p> Sorry, there was an error returned from the payment processor. Please try again or contact our <a href="/customer-service" class="alert-link">customer service department</a> during regular business hours 7 a.m. to 5 p.m. PST for assistance. </p> <p class="small"> Error: <samp>{{ $ctrl.resultCode }}: {{ $ctrl.responseMessage }}</samp> </p> <button class="btn btn-sm btn-primary" ng-click="$ctrl.handleRetry()" ng-disabled="$ctrl.isBusy"> Retry </button> </div> <div class="alert alert-warning mb-0" ng-if="$ctrl.isDeclined"> <h4 class="alert-heading">Payment issue</h4> <p class="mb-0"> We are unable to proceed with your payment with the information provided at this time. For your protection please contact our <a href="/customer-service" class="alert-link">customer service department</a> during regular business hours 7 a.m. to 5 p.m. PST for assistance. </p> </div> '},za=n().module("PayfabricModule",[]).component("payfabricReturn",ja).name,Va={bindings:{item:"<",index:"<"},controller:Ba,require:{listController:"^favoritesList"},template:'<div class="row align-items-center"> <div class="col-auto px-0 has-text-align-center"> <div class="form-check"> <input class="form-check-input position-static" type="checkbox" ng-model="$ctrl.item.isChecked" ng-attr-id="product-{{ $ctrl.item.product_id }}-checked" ng-change="$ctrl.updateSelection()"/> </div> </div> <div class="col-3 px-0 col-md-1 has-text-align-center"> <a ng-href="/{{ $ctrl.productSlug }}/{{ $ctrl.item.slug }}" title="{{ $ctrl.item.description }}"> <img class="img-fluid lazy" loading="lazy" ng-repeat="img in $ctrl.item.images" ng-if="$index < 1" ng-src="{{ img.thumb_url || $ctrl.imgPlacerholder }}"/> <img class="img-fluid lazy" loading="lazy" ng-if="$ctrl.item.images.length <= 0" ng-src="{{ $ctrl.imgPlacerholder }}"/> </a> </div> <div class="col col-md-10"> <div class="row align-items-center"> <div class="col-12 col-md-5 col-lg-6 order-md-1"> <a ng-href="/{{ $ctrl.productSlug }}/{{ $ctrl.item.slug }}" title="{{ $ctrl.item.description }}"> <h2 class="h6 d-md-none border-bottom pb-2 mb-2 text-break"> {{ $ctrl.item.description | limitTo : 30 }}{{ $ctrl.item.description.length >= 30 ? \'...\' : \'\' }} </h2> <h2 class="h5 d-none d-md-block text-break"> {{ $ctrl.item.description }} </h2> </a> <p class="small"><strong>SKU: </strong>{{ $ctrl.item.sku }}</p> </div> <div class="col-12 col-md-3 col-lg-2 order-md-3"> <p class="border-bottom pb-2 mb-2 d-md-none"> <small>Unit Price:</small> <strong>{{ $ctrl.item.price | currency }} <small>/{{ $ctrl.item.uom }}</small> </strong> </p> <p class="d-none d-md-block has-text-align-center mb-0"> {{ $ctrl.item.price | currency }} <small>/{{ $ctrl.item.uom }}</small> </p> </div> <div class="col-12 col-md-4 col-lg-4 order-md-2"> <p class="small has-text-align-center card-text" ng-if="\n\t\t\t\t\t\t$ctrl.item.status !== \'active\' ||\n\t\t\t\t\t\t$ctrl.item.available_qty === 0\n\t\t\t\t\t"> {{ $ctrl.item.status === \'backordered\' ? \'Backordered\' : $ctrl.item.status === \'discontinued\' ? \'Discontinued\' : $ctrl.item.available_qty === 0 ? \'Out of Stock\' : \'\' }} </p> <button class="btn btn-primary w-100" ng-if="$ctrl.isAvailable($ctrl.item)" ng-click="$ctrl.addToCart(1, $ctrl.item.product_id, $index)"> <span ng-show="!$ctrl.isInProgress"> Add to Cart <i class="bi bi-cart-plus-fill"></i> </span> <span ng-show="$ctrl.isInProgress">Adding to Cart <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> </span> </button> <div ng-if="\n\t\t\t\t\t\t$ctrl.item[\'available_qty\'] !== 0 &&\n\t\t\t\t\t\t$ctrl.item[\'cart_qty\'] !== 0\n\t\t\t\t\t"> <label for="qtyAdd" class="form-label">Quantity in Cart: </label> <div class="input-group"> <button class="btn btn-primary" type="button" ng-click="$ctrl.updateQty($ctrl.item.cart_qty + 1, $ctrl.item.product_id, $index)" ng-disabled="($ctrl.item.available_qty && $ctrl.item.cart_qty >= $ctrl.item.available_qty) ||\n\t\t\t\t\t\t\t$ctrl.item.available_qty === 0 ||\n\t\t\t\t\t\t\t$ctrl.isInProgress"> <i class="bi bi-plus"></i> </button> <input class="form-control" name="qtyAdd" type="number" min="0" ng-min="0" required style="-moz-appearance:textfield" max="{{ $ctrl.item.available_qty }}" ng-max="$ctrl.item.available_qty" ng-model="$ctrl.item.cart_qty" ng-change="$ctrl.updateQty($ctrl.item.cart_qty, $ctrl.item.product_id, $index)" ng-disabled="$ctrl.item.available_qty === 0 ||\n\t\t\t\t\t\t\t$ctrl.isInProgress"/> <button class="btn btn-primary" type="button" ng-click="$ctrl.updateQty($ctrl.item.cart_qty - 1, $ctrl.item.product_id, $index)" ng-disabled="$ctrl.item.cart_qty < 0 ||\n\t\t\t\t\t\t\t$ctrl.item.available_qty === 0 ||\n\t\t\t\t\t\t\t$ctrl.isInProgress"> <i class="bi bi-dash"></i> </button> </div> </div> <button class="btn btn-link btn-sm pt-2" ng-click="$ctrl.removeFavorite( $ctrl.item.product_id )"> <i class="bi bi-heart"></i> Remove from Favorites </button> </div> </div> </div> </div> '};function Ba(t,e){this.isInProgress=!1,this.$onInit=()=>{this.item.isChecked=!1,this.productSlug=localized.settings.general.product_slug||"products"},this.isAvailable=t=>0!==t?.available_qty&&0===t?.cart_qty&&"discontinued"!==t?.status,this.addToCart=(t,i)=>{this.isInProgress=!0,e.add(i,t).then((()=>{this.item.cart_qty=t,this.isInProgress=!1}))},this.removeFavorite=e=>{const i=`${localized.apiURL}/cart/favorites/remove`,n={product_id:e};t.post(i,n).then((()=>{this.listController.favorites.splice(this.index,1)}))},this.updateQty=(t,i)=>{this.isInProgress=!0,e.update(t,i).then((t=>{t.data.cart&&t.data.cart.items[i]?this.item.cart_qty=t.data.cart.items[i].qty:this.item.cart_qty=0})).finally((()=>{this.isInProgress=!1}))},this.updateSelection=()=>{this.listController.toggleSelected(this.index)}}Ba.$inject=["$http","Cart"];const Ha={template:'<div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="alert alert-info" role="alert" ng-hide="$ctrl.isLoading" ng-if="!$ctrl.favorites.length"> You don\'t have any favorites saved. </div> <div ng-hide="$ctrl.isLoading || !$ctrl.favorites.length"> <div class="form-check py-1"> <input class="form-check-input" type="checkbox" value="" id="selectAll" ng-change="$ctrl.toggleSelectAll()" ng-model="$ctrl.selectAll"/> <label class="form-check-label" for="selectAll">Select All</label> </div> <div class="list-group"> <favorites-list-item class="list-group-item" ng-repeat="item in $ctrl.favorites track by $index" item="item" index="$index"> </favorites-list-item> </div> <p class="text-end py-3"> <button class="btn btn-primary" ng-click="$ctrl.addSelectedToCart()" ng-disabled="!$ctrl.selected.includes(true)"> Add Selected to Cart <i class="bi bi-cart-plus-fill"></i> </button> <button class="btn btn-link btn-sm" ng-click="$ctrl.removeSelectedFromFavorites()" ng-disabled="!$ctrl.selected.includes(true)"> {{ $ctrl.isRemovingSelectedFromFavorites ? \'Removing\' : \'Remove\' }} Selected from Favorites </button> </p> </div> ',controller:class{static $inject=["Alerts","Cart","Favorites"];isRemovingSelectedFromFavorites=!1;selectAll=!1;selected=[];constructor(t,e,i){this.Alerts=t,this.Cart=e,this.Favorites=i}$onInit(){this.getFavorites()}addSelectedToCart(){this.isLoading=!0;const t={};n().forEach(this.favorites,(e=>{const i=e.product_id,n=!e.available_qty||e.available_qty>e.cart_qty;e.isChecked&&(n?t[i]=1:this.Alerts.warning(`There is no more available ${e.description} to add to your cart.`))})),this.Cart.addItems(t).then((()=>{this.selectAll=!1,this.getFavorites()})).catch((t=>{console.error(t)}))}getFavorites(){this.isLoading=!0,this.Favorites.fillDetails().then((t=>{this.favorites=t.data.favorites,this.isLoading=!1}))}removeSelectedFromFavorites(){this.isRemovingSelectedFromFavorites=!0;const t=this.favorites.filter((t=>t.isChecked));let e=t.length;t.forEach((t=>{this.Favorites.remove(t.product_id).then((()=>{e-=1,0===e&&(this.getFavorites(),this.isRemovingSelectedFromFavorites=!1)}))})),this.selectAll=!1}toggleSelectAll(){for(const t of this.favorites)t.isChecked=this.selectAll;const t=new Array(this.favorites.length);t.fill(this.selectAll),this.selected=t}toggleSelected(t){this.selected[t]=!this.selected[t]}}},Ga={controller:Wa,template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <favorites-list favorites="$ctrl.favorites" ng-if="$ctrl.isSignedIn"> </favorites-list> </layout-component> '};function Wa(t,e,i){this.isSignedIn=e.isAuthed&&e.email,this.pageUrls={login:i.getPageUrl("login",{redirect_to:t.path()}),register:i.getPageUrl("register")}}function Qa(t,e,i,n){const r=this;r.items={},r.add=function(r){return n.isAuthed?t.post(localized.apiURL+"/cart/favorites/add",{product_id:r}):(i.error("You must login to add an item to favorites."),e.reject(!1))},r.fillDetails=function(){return t.get(localized.apiURL+"/cart/favorites/view").then((function(t){return t.data.favorites&&t.data.favorites.length&&(r.items=t.data.favorites),t}))},r.remove=function(e){return!!n.isAuthed&&t.post(localized.apiURL+"/cart/favorites/remove",{product_id:e})}}Wa.$inject=["$location","User","Utils"],Qa.$inject=["$http","$q","Alerts","User"];const Ka=n().module("FavoritesModule",[]).component("vfFavorites",Ga).component("favoritesList",Ha).component("favoritesListItem",Va).service("Favorites",Qa).name,Ya={bindings:{product:"<"},controller:class{static $inject=["$http"];uuid=crypto.randomUUID();constructor(t){this.$http=t}$onInit(){this.id=this.product?.product_id}handleClick(){this.isBusy=!0;const t=`${localized.apiURL.replace("v1","v2")}/catalog/products/${this.id}/price-availability`;this.$http.get(t).then((t=>t.data)).then((t=>{t.errors.length&&(this.error=t.errors[0]),t.warnings.length&&(this.warning=t.warnings[0]),this.priceAvailability=t.priceAvailability})).catch((()=>{this.handleAddToCart()})).finally((()=>{this.isBusy=!1}))}handleAddToCart(){const t=`${localized.apiURL}/cart/add`,e={product_id:this.id,qty:1};this.isBusy=!0,this.$http.post(t,e).then((()=>{this.notification="Added item to your cart at current price."})).catch((()=>{this.error="An error occured while attempting to add this item to your cart. Please contact customer service for further assistance."})).finally((()=>this.isBusy=!1))}},template:'<button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#ctaModal-{{ $ctrl.uuid }}" ng-click="$ctrl.handleClick()" ng-disabled="$ctrl.isBusy" title="Add this item to your cart at current price"> Add to Cart </button> <div aria-hidden="true" aria-labelledby="ctaModalLabel" class="modal fade" ng-attr-id="ctaModal-{{ $ctrl.uuid }}" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h1 class="modal-title fs-5" id="ctaModalLabel">Add to Cart</h1> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> </div> <div class="modal-body"> <div class="d-flex justify-content-center" ng-if="$ctrl.isBusy"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="!$ctrl.isBusy"> <div ng-if="$ctrl.priceAvailability.currentPrice"> Add <em>{{ $ctrl.product.description }}</em> to your cart for {{ $ctrl.priceAvailability.currentPrice | currency }}? </div> <div class="alert alert-danger mb-0" ng-if="$ctrl.error"> {{ $ctrl.error }} </div> <div class="alert alert-warning mb-0" ng-if="$ctrl.warning"> {{ $ctrl.warning }} </div> <div class="alert alert-info mb-0" ng-if="$ctrl.notification"> {{ $ctrl.notification }} </div> </div> </div> <div class="modal-footer"> <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"> {{ $ctrl.priceAvailability.currentPrice ? \'Cancel\' : \'Close\' }} </button> <button class="btn btn-primary" data-bs-dismiss="modal" ng-click="$ctrl.handleAddToCart()" ng-if="$ctrl.priceAvailability.currentPrice" type="button"> Add to Cart </button> </div> </div> </div> </div> '},Ja=n().module("OrdersModule",[]).component("orderDetailsListItem",{bindings:{isPending:"<",item:"<",status:"<",removeItem:"&"},controller:class{static $inject=["Cart","Favorites","User"];constructor(t,e,i){this.Cart=t,this.Favorites=e,this.User=i}onClickReturnItem(){this.isReturningItem=!0}onClickSubmitReturn(){this.isSubmittingReturn=!0;const t=[this.item.purch_id,this.notes,this.reason,this.item.qty];this.User.addRma(...t).then((()=>{this.isSubmittingReturn=!1,this.isReturningItem=!1}))}remove(){this.isRemoving=!0,this.removeItem({productId:this.item.product_id})}toggleFavorite(){this.isTogglingFavorite=!0,this.item.favorite?this.Favorites.remove(this.item.product_id).then((()=>{this.updateFavorite()})):this.Favorites.add(this.item.product_id).then((()=>{this.updateFavorite()}))}updateFavorite(){this.item.favorite=!this.item.favorite,this.isTogglingFavorite=!1}},template:'<div class="row"> <div class="col-2 col-lg-1"> <div class="ratio ratio-1x1"> <img class="lazy" loading="lazy" ng-repeat="image in $ctrl.item.images track by $index" ng-if="$first" ng-src="{{ image[\'thumb_url\'] }}"/> </div> </div> <div class="col"> <div class="row"> <div class="col-lg-8 mb-2 mb-lg-0"> <h4 class="h6 text-break">{{ $ctrl.item.description }}</h4> <div class="row small"> <div class="col-sm"> SKU: {{ $ctrl.item.sku }}<br/> Price: {{ $ctrl.item.price | currency }} </div> <div class="col-sm"> Qty: {{ $ctrl.item.qty }}<br/> Item Total: {{ $ctrl.item[\'extended_price\'] | currency }} </div> </div> </div> <div class="col-lg-4"> <div class="btn-toolbar justify-content-lg-end"> <button class="btn btn-link btn-sm me-1" ng-click="$ctrl.toggleFavorite()" ng-attr-title="{{\n\t\t\t\t\t\t\t$ctrl.item.favorite\n\t\t\t\t\t\t\t\t? \'Remove from Favorites\'\n\t\t\t\t\t\t\t\t: \'Add to Favorites\'\n\t\t\t\t\t\t}}"> <i ng-class="{\n\t\t\t\t\t\t\t\t\'bi bi-heart-fill\': $ctrl.item.favorite,\n\t\t\t\t\t\t\t\t\'bi bi-heart\': !$ctrl.item.favorite\n\t\t\t\t\t\t\t}" ng-hide="$ctrl.isTogglingFavorite"> </i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isTogglingFavorite"></span> </button> <button class="btn btn-secondary btn-sm me-1" ng-click="$ctrl.onClickReturnItem()" ng-disabled="$ctrl.isReturningItem" ng-hide="$ctrl.status !== \'completed\'"> Return Item </button> <order-add-to-cart-button product="$ctrl.item"></order-add-to-cart-button> </div> <btn-toolbar class="justify-content-end" ng-if="$ctrl.isPending"> <button class="btn btn-danger btn-sm" ng-click="$ctrl.isConfirmingDelete = true" ng-if="!$ctrl.isConfirmingDelete"> Remove Item </button> <div ng-if="$ctrl.isConfirmingDelete"> Remove this? <button class="btn btn-secondary btn-sm me-1" ng-click="$ctrl.isConfirmingDelete = false" ng-disabled="$ctrl.isRemoving"> Cancel </button> <button class="btn btn-danger btn-sm" ng-click="$ctrl.remove()" ng-disabled="$ctrl.isRemoving"> {{ $ctrl.isRemoving ? \'Removing\' : \'Remove\' }} </button> </div> </btn-toolbar> </div> </div> </div> </div> <form class="mt-3" name="rmaForm" ng-if="$ctrl.isReturningItem"> <div class="row"> <div class="col"> <div class="mb-3"> <label for="reason" class="form-label">Reason for Return <small>(required)</small></label> <select class="form-control" id="reason" required ng-model="$ctrl.reason"> <option value="" disabled="disabled">Select one</option> <option value="defective">Defective</option> <option value="wrong item">Wrong Item</option> <option value="exchange">Exchange</option> <option value="other">Other</option> </select> </div> </div> <div class="col-8"> <div class="mb-3"> <label for="notes" class="form-label">Notes</label> <textarea class="form-control" id="notes" ng-model="$ctrl.notes"></textarea> </div> </div> </div> <div class="btn-toolbar justify-content-end"> <button type="button" class="btn btn-secondary mb-2" ng-click="$ctrl.isReturningItem = false"> Cancel </button> <button type="button" class="btn btn-primary ms-1 mb-2" ng-click="$ctrl.onClickSubmitReturn()" ng-disabled="$ctrl.isSubmittingReturn || rmaForm.$invalid"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSubmittingReturn"></span> {{ $ctrl.isSubmittingReturn ? \'Submitting\' : \'Submit\' }} </button> </div> </form> '}).component("orderAddToCartButton",Ya).name,Za={template:'<layout-component> <div class="alert alert-info" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <bs-spinner ng-if="$ctrl.isLoading && $ctrl.isSignedIn"> </bs-spinner> <div ng-if="!$ctrl.isLoading && $ctrl.isSignedIn"> <h1>Your Saved Carts</h1> <table class="table"> <thead> <tr> <th>Name</th> <th class="text-end">Items in cart</th> </tr> </thead> <tbody> <tr ng-repeat="cart in $ctrl.carts track by $index"> <td> <a ng-href="{{ $ctrl.pageUrls.savedCart }}?id={{\n\t\t\t\t\t\t\t\tcart.saved_cart_id\n\t\t\t\t\t\t\t}}"> {{ cart.cart_title }} </a> </td> <td class="text-end">{{ cart.num_items | number }}</td> </tr> </tbody> <caption ng-if="!$ctrl.carts.length"> You have not saved any carts yet. </caption> </table> </div> </layout-component> ',controller:class{static $inject=["$cookies","$http"];pageUrls={login:Xa(),register:localized.pages.register.url,savedCart:localized.pages["saved-cart"].url};constructor(t,e){this.$cookies=t,this.$http=e,this.isSignedIn=!(!this.$cookies.get("vf.auth.token")||!this.$cookies.get("vf.user.name"))}$onInit(){this.isSignedIn&&this.getSavedCarts()}getSavedCarts(){this.isLoading=!0;const t=`${localized.apiURL}/cart/saved/list`;this.$http.get(t).then((t=>t.data)).then((t=>{t.saved_carts&&(this.carts=Object.values(t.saved_carts),this.isLoading=!1)}))}}};function Xa(){const t=new URL(localized.pages.login.url);return t.searchParams.append("redirect_to",location.pathname),t.href}const to=n().module("SavedCartsModule",[]).component("vfSavedCarts",Za).name;n().module("vfApp",[s(),o(),c(),u(),"LocalStorageModule",m,U,J,ct,Ka,Ia,Ja,za,Ra,Na,to,va,ba]).config(["$httpProvider","localStorageServiceProvider","$sceProvider","$locationProvider","uiMask.ConfigProvider",function(t,e,i,n,r){t.interceptors.push("vfInterceptor"),e.setPrefix("vf").setStorageCookie(0,"/",!1).setStorageType("sessionStorage"),i.enabled(!1),n.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),r.maskDefinitions({2:/[2-9]/,9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/})}]).service("Alerts",(function(){this.list=[],this.add=t=>{angular.isObject(t)||(t={type:"warning",msg:t}),this.list.push(t)},this.error=t=>{this.list.push({type:"danger",msg:t})},this.warning=t=>{this.list.push({type:"warning",msg:t})},this.info=t=>{this.list.push({type:"info",msg:t})},this.message=t=>{this.info(t)},this.success=t=>{this.list.push({type:"success",msg:t})},this.remove=t=>{this.list.splice(t,1)}})).service("Analytics",(function(){function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("js",new Date);try{localized.settings.analytics.UA.enabled?(this.UAEnabled=!0,t("config",localized.settings.analytics.UA.id)):this.UAEnabled=!1}catch(t){console.warn(t.message),this.UAEnabled=!1}try{localized.settings.analytics.AW.enabled?(this.AWEnabled=!0,t("config",localized.settings.analytics.AW.id)):this.AWEnabled=!1,localized.settings.analytics.conversions.phone.enabled&&t("config",localized.settings.analytics.AW.id+"/"+localized.settings.analytics.conversions.phone.tag,{phone_conversion_number:localized.settings.analytics.conversions.phone.number})}catch(t){console.warn(t.message),this.AWEnabled=!1}const e=(e,i)=>{if(this.UAEnabled||this.AWEnabled)try{t("event",e,i)}catch(t){console.warn(t.message)}},i=t=>t.map((t=>({item_id:t.id,item_brand:t.brand,item_category:t.category,item_name:t.name,price:t.price,quantity:t.quantity})));this.addToCart=t=>{try{e("add_to_cart",{currency:"USD",value:t.added_value,items:i(t.added_items)})}catch(t){console.warn(t.message)}},this.beginCheckout=t=>{try{e("begin_checkout",{currency:"USD",value:t.order.total_amt,items:i(t.checkout_items)})}catch(t){console.warn(t.message)}},this.login=()=>{try{e("login",{method:"VendorFuel"})}catch(t){console.warn(t.message)}},this.purchase=t=>{try{localized.settings.analytics.UA.enabled&&e("purchase",{currency:"USD",affiliation:"VendorFuel online store",value:t.order_info.total_amt,transaction_id:t.order_info.order_id,tax:t.order_info.tax,shipping:t.order_info.shipping,items:t.purchased_items}),localized.settings.analytics.AW.enabled&&localized.settings.analytics.conversions.purchase.enabled&&e("conversion",{send_to:localized.settings.analytics.AW.id+"/"+localized.settings.analytics.conversions.purchase.tag,transaction_id:t.order_info.order_id,currency:"USD",value:t.order_info.total_amt})}catch(t){console.warn(t.message)}},this.removeFromCart=t=>{try{e("remove_from_cart",{currency:"USD",value:t.removed_value,items:t.removed_items})}catch(t){console.warn(t.message)}},this.search=t=>{try{t?.length>0&&e("search",{search_term:t})}catch(t){console.warn(t.message)}},this.signUp=()=>{try{e("sign_up",{method:"VendorFuel"})}catch(t){console.warn(t.message)}},this.viewItem=t=>{try{e("view_item",{items:[{id:t.sku,name:t.description,list_name:"Product Details",brand:t.manufacturer,category:t.cat_title,price:t.price}]})}catch(t){console.warn(t.message)}},this.viewSearchResults=(t,i)=>{try{const n=[];for(let t=0;t<i.length;t++){const e=i[t];n[t]={id:e.sku,name:e.description,list_name:"Search Results",brand:e.manufacturer?e.manufacturer:null,category:e.category?e.category.title:null,list_position:t,price:e.price}}const r={items:n};t&&(r.search_term=t),e("view_search_results",r)}catch(t){console.warn(t.message)}}})).service("Auth",$a).service("Checkout",class{static $inject=["$cookies","$http","Analytics"];constructor(t,e,i){this.$cookies=t,this.$http=e,this.Analytics=i}checkout(t,e,i,n){const r=localized.apiURL+"/cart/checkout",s={};if(void 0!==t&&(s.paypal=t,s.return_url=e,s.cancel_url=i),null!==this.$cookies.get("vf.cart.partial"))try{s.items=JSON.parse(this.$cookies.get("vf.cart.partial"))}catch(t){s.items={}}return n&&(s.shipping_id=n),this.$http.post(r,s).then((t=>(this.$cookies.put("vf.cart.partial",null,{samesite:"none",secure:!0,path:"/"}),this.Analytics.beginCheckout(t.data),t)))}completeOrder(t){const e=localized.apiURL+"/cart/order/complete";return this.$http.post(e,t).then((t=>(this.Analytics.purchase(t.data),t)))}confirmOrder(t){const e=localized.apiURL+"/cart/order/confirm",i={shipping_id:t.selected_shipping_profile.shipping_id,billing_id:t.selected_billing_profile.billing_id,order_id:t.order.order_id,shipping_method:t.selected_shipping_method,shipping_first_name:t.shipping_first_name,shipping_last_name:t.shipping_last_name,shipping_email:t.shipping_email,shipping_address1:t.shipping_address1,shipping_address2:t.shipping_address2,shipping_city:t.shipping_city,shipping_state:t.shipping_state,shipping_zip:t.shipping_zip,shipping_phone:t.shipping_phone,billing_first_name:t.billing_first_name,billing_last_name:t.billing_last_name,billing_email:t.billing_email,billing_address1:t.billing_address1,billing_address2:t.billing_address2,billing_city:t.billing_city,billing_state:t.billing_state,billing_zip:t.billing_zip,billing_phone:t.billing_phone,return_url:t.return_url};return localized.settings.general.checkout.company_name_option&&(i.organization=t.extraFields.organization),localized.settings.general.checkout.purchase_order_option&&(i.rr_po_num=t.extraFields.rr_po_num),localized.settings.general.checkout.issuing_office_option&&(i.issuing_office=t.extraFields.issuing_office),localized.settings.general.checkout.cost_center_option&&(i.cost_center_code=t.extraFields.cost_center_code),localized.settings.general.checkout.attention_option&&(i.attention=t.extraFields.attention),localized.settings.general.checkout.notes_option&&(i.notes=t.extraFields.notes),""!==t.extraFields.f1&&(i.f1=t.extraFields.f1),""!==t.extraFields.f2&&(i.f2=t.extraFields.f2),""!==t.extraFields.f3&&(i.f3=t.extraFields.f3),""!==t.extraFields.f4&&(i.f4=t.extraFields.f4),""!==t.extraFields.f5&&(i.f5=t.extraFields.f5),""!==t.extraFields.f6&&(i.f6=t.extraFields.f6),this.$http.post(e,i).then((t=>t))}getShippingMethods(t,e,i){const n=localized.apiURL+"/cart/order/shipping/methods",r={order_id:t,shipping_id:e,zipcode:i};return this.$http.post(n,r).then((t=>t))}priceAvailabilityResponse(t,e,i){const n=localized.apiURL+"/cart/order/price-availability",r={order_id:t.order.order_id,return_url:t.return_url,price_availability_response:e,reconfirm:i};return this.$http.post(n,r).then((t=>t))}}).service("Debug",(function(){const t=localized.settings.general.debug;this.log=function(e,i,n,r){t&&(e&&i&&n&&r?console.log(e,i,n,r):e&&i&&n?console.log(e,i,n):e&&i?console.log(e,i):e&&console.log(e))},this.warn=e=>{t&&console.warn(e)}})).service("Group",ya).service("Localized",(function(){const t=this;t.debugMode=localized.settings.general.debug,t.root={url:localized.dir.url,path:localized.dir.root},t.apiURL=localized.apiURL,t.api_key=localized.settings.general.api_key,t.wpRestUrl=localized.dir.wpRestUrl+"vendorfuel",t.wpNonce=localized.nonce,t.plugin_data=localized.plugin_data,t.branding=localized.branding,t.settings=localized.settings,t.pages=localized.pages,t.notifications=[],t.ClearNotifications=function(){t.notifications.splice(0,t.notifications.length)},t.PushNotification=function(e){const i=e.message;i&&null!=i&&""!==i&&"OK"!==i&&t.notifications.push(e)},t.GetNotifications=function(){return t.notifications},t.RemoveNotification=function(e){void 0!==t.notifications[e]?t.notifications.splice(e,1):t.notifications.push({type:"danger",message:"Whoops! Unable to remove notification."})},t.responseMessages=[],t.ClearResponseMsg=function(){t.responseMessages.splice(0,t.responseMessages.length)},t.PushResponseMsg=function(e){const i=e.message;i&&null!=i&&""!==i&&"OK"!==i&&t.responseMessages.push(e)},t.GetResponseMsgs=function(){return t.responseMessages},t.RemoveResponseMsg=function(e){void 0!==t.responseMessages[e]?t.responseMessages.splice(e,1):t.responseMessages.push({type:"danger",message:"Whoops! Unable to remove notification."})},t.RemoveAllNoticfitcations=function(){void 0!==t.responseMessage?t.responseMessages=[]:t.responseMessages.push({type:"danger",message:"Whoops! Unable to remove notifications."})}})).service("Punchout",wa).service("User",ka).service("Utils",Ca).factory("Collections",Sa).factory("vfInterceptor",xa).factory("Products",Aa).filter("tel",(function(){return function(t){if(!t)return"";const e=t.toString().trim().replace(/^\+/,"");if(e.match(/[^0-9]/))return t;let i,n;switch(e.length){case 1:case 2:case 3:i=e;break;default:i=e.slice(0,3),n=e.slice(3)}return n?(n.length>3&&(n=n.slice(0,3)+"-"+n.slice(3,7)),("("+i+") "+n).trim()):"("+i}})).name,i(8852),i(2920),i(198),i(5014),i(9759),i(743),i(82),i(7149),i(8110),i(6045),function(){function t(t,e){const i=this;this.addQty=1,i.isSignedIn=e.isAuthed&&e.email,i.hasDisabledGuests=localized.settings.store.options["Disable Guests"],i.productSlug=localized.settings.general.productSlug||"products",i.isAddingToCart=!1,this.$onInit=()=>{!i.product.image&&Object.values(i.product.images.length>0)&&(i.product.image=Object.values(i.product.images)[0])},this.getAvailableQty=t=>{const{available_qty:e,cart_qty:i}=t;if(Number.isInteger(e))return e-i>=0?e-i:0},this.onClickAdd=e=>{const n=this.addQty;i.isAddingToCart=!0,t.add(e,n).then((t=>{t.data.errors.length||(i.product.cart_qty?i.product.cart_qty=i.product.cart_qty+n:i.product.cart_qty=n,i.product.available_qty&&(i.product.available_qty=i.product.available_qty-n))})).finally((()=>{i.isAddingToCart=!1}))},this.onKeydown=t=>{const e=i.product.available_qty||1e3;i.addQty&&Number(i.addQty.toString()+t.key)>e&&(t.preventDefault(),i.addQty=e,i.hasMaxQty=!0),"Backspace"!==t.key&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&isNaN(Number(t.key))&&t.preventDefault()}}n().module("vfApp").component("productListItem",{bindings:{product:"<",viewAs:"<"},controller:t,template:'<div ng-class="$ctrl.viewAs === \'grid\' ? \'card h-100\' : \'row g-0 align-items-center\'"> <div ng-class="{\n    \'pt-2 px-2 pt-lg-3 px-lg-3\': $ctrl.viewAs === \'grid\',\n    \'p-1 col-2\': $ctrl.viewAs === \'list\'\n    }" ng-style="$ctrl.viewAs === \'grid\' && {\'max-width\':\'20rem\'}"> <a tabindex="-1" aria-hidden="true" ng-href="/{{$ctrl.productSlug}}/{{$ctrl.product.slug}}" ng-attr-title="{{$ctrl.product.description}}"> <product-list-item-image image-title="$ctrl.product.description" image-src="$ctrl.product.image[\'small_url\']"> </product-list-item-image> </a> </div> <div ng-class="[\'p-1 p-lg-2\', $ctrl.viewAs === \'grid\' ? \'h-100\' : \'col-6\']"> <p class="h6 card-title text-break mb-2"> <a ng-href="/{{$ctrl.productSlug}}/{{$ctrl.product.slug}}" ng-attr-title="{{$ctrl.product.description}}"> <span ng-if="$ctrl.viewAs === \'grid\'"> {{$ctrl.product.description | limitTo: 50 }}{{$ctrl.product.description.length >= 50 ? \'&hellip;\' : \'\'}} </span> <span ng-if="$ctrl.viewAs === \'list\'"> {{ $ctrl.product.description }} </span> </a> </p> <p class="card-subtitle small mb-0"> <strong>SKU: </strong>{{ $ctrl.product.sku }} </p> <p class="mb-2"> <strong>{{$ctrl.product.price | currency}}</strong> <small class="text-nowrap" ng-if="$ctrl.product.uom">/{{$ctrl.product.uom}}</small> </p> </div> <div ng-class="[\'p-0\', $ctrl.viewAs === \'grid\' ? \'col\' : \'col-4\']"> <div class="px-1 px-lg-2" ng-if="!$ctrl.hasDisabledGuests &&\n        !$ctrl.product.prop65 &&\n        $ctrl.product.status === \'active\' &&\n        $ctrl.getAvailableQty($ctrl.product) !== 0"> <label class="form-label mb-1" for="addQty">Quantity</label> <input class="form-control" id="addQty" name="addQty" type="number" min="1" ng-max="$ctrl.product.available_qty || 1000" ng-attr-max="{{ $ctrl.product.available_qty || 1000 }}" step="1" required ng-model="$ctrl.addQty" ng-keydown="$ctrl.onKeydown( $event )"> </div> <div ng-class="[\'btn-toolbar px-1 px-lg-2\', {\n        \'p-1 p-lg-2\': $ctrl.viewAs === \'grid\',\n        \'pt-1\': $ctrl.viewAs === \'list\'\n    }]"> <product-list-item-favorite-button product="$ctrl.product"> </product-list-item-favorite-button> <a class="btn btn-primary px-1 flex-grow-1" aria-hidden="true" tabindex="-1" ng-href="/{{$ctrl.productSlug}}/{{$ctrl.product.slug}}" ng-if="$ctrl.hasDisabledGuests ||\n                $ctrl.product.prop65 ||\n                $ctrl.product.additional_shipping ||\n                $ctrl.product.status !== \'active\' ||\n                $ctrl.getAvailableQty($ctrl.product) <= 0"> <i class="bi bi-zoom-in" aria-hidden="true" ng-hide="$ctrl.viewAs === \'grid\'"></i> <span ng-class="{\'d-none d-md-inline\': $ctrl.viewAs === \'list\'}"> View <span class="d-none d-lg-inline"> Details </span> </span> </a> <button class="btn btn-primary flex-grow-1" ng-if="!$ctrl.hasDisabledGuests &&\n                !$ctrl.product.prop65 &&\n                !$ctrl.product.additional_shipping &&\n                $ctrl.product.status === \'active\' &&\n                $ctrl.getAvailableQty($ctrl.product) !== 0" ng-click="$ctrl.onClickAdd($ctrl.product[\'product_id\'])" ng-disabled="!$ctrl.addQty"> <i class="bi bi-cart-plus-fill" aria-hidden="true" ng-hide="$ctrl.isAddingToCart || $ctrl.viewAs === \'grid\'"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isAddingToCart"></span> <span ng-class="{\'d-none d-md-inline\':$ctrl.viewAs === \'list\'}"> {{ $ctrl.isAddingToCart ? \'Adding\' : \'Add\' }} <span class="d-none d-lg-inline"> {{ !$ctrl.isAddingToCart ? \'to Cart\' : \'\' }} </span> </span> </button> </div> <div ng-class="{\n            \'card-footer\': $ctrl.viewAs === \'grid\',\n            \'has-text-align-center px-1 px-lg-2\': $ctrl.viewAs === \'list\'}" ng-show="$ctrl.product[\'cart_qty\'] > 0"> <span ng-show="$ctrl.product[\'cart_qty\'] > 0"> {{$ctrl.product[\'cart_qty\']}} in your cart <span> </span></span></div> </div> </div> '}),t.$inject=["Cart","User"]}(),i(510),i(2559);const eo={template:'<div ng-if="$ctrl.groupOptions" class="mb-3"> <label class="form-label" for="selected-group">Selected Group</label> <select class="form-select" name="selectGroup" id="selected-group" ng-model="$ctrl.currentGroupId" ng-change="$ctrl.changeGroup($ctrl.currentGroupId)"> <option ng-repeat="group in $ctrl.groupOptions | orderBy:\'default\' track by $index" ng-selected="group.default" ng-value="group.id"> {{ group.default ? \'\' : \'&nbsp;&nbsp;&nbsp;\' }}{{ group.name }} </option> </select> </div> ',bindings:{onChange:"&"},controller:class{static $inject=["User"];constructor(t){this.User=t}$onInit(){this.currentGroupId=this.User.currentGroup_id,"object"==typeof this.User.group&&(this.groupOptions=Object.values(this.User.group))}changeGroup(t){this.User.updateGroup(t),this.onChange({})}}};n().module("vfApp").component("selectGroup",eo);const io=[{name:"Alabama",id:"AL"},{name:"Alaska",id:"AK"},{name:"Arizona",id:"AZ"},{name:"Arkansas",id:"AR"},{name:"California",id:"CA"},{name:"Colorado",id:"CO"},{name:"Connecticut",id:"CT"},{name:"Delaware",id:"DE"},{name:"Florida",id:"FL"},{name:"Georgia",id:"GA"},{name:"Hawaii",id:"HI"},{name:"Idaho",id:"ID"},{name:"Illinois",id:"IL"},{name:"Indiana",id:"IN"},{name:"Iowa",id:"IA"},{name:"Kansas",id:"KS"},{name:"Kentucky",id:"KY"},{name:"Louisiana",id:"LA"},{name:"Maine",id:"ME"},{name:"Maryland",id:"MD"},{name:"Massachusetts",id:"MA"},{name:"Michigan",id:"MI"},{name:"Minnesota",id:"MN"},{name:"Mississippi",id:"MS"},{name:"Missouri",id:"MO"},{name:"Montana",id:"MT"},{name:"Nebraska",id:"NE"},{name:"Nevada",id:"NV"},{name:"New Hampshire",id:"NH"},{name:"New Jersey",id:"NJ"},{name:"New Mexico",id:"NM"},{name:"New York",id:"NY"},{name:"North Carolina",id:"NC"},{name:"North Dakota",id:"ND"},{name:"Ohio",id:"OH"},{name:"Oklahoma",id:"OK"},{name:"Oregon",id:"OR"},{name:"Pennsylvania",id:"PA"},{name:"Rhode Island",id:"RI"},{name:"South Carolina",id:"SC"},{name:"South Dakota",id:"SD"},{name:"Tennessee",id:"TN"},{name:"Texas",id:"TX"},{name:"Utah",id:"UT"},{name:"Vermont",id:"VT"},{name:"Virgin Islands",id:"VI"},{name:"Virginia",id:"VA"},{name:"Washington",id:"WA"},{name:"West Virginia",id:"WV"},{name:"Wisconsin",id:"WI"},{name:"Wyoming",id:"WY"}],no={template:'<layout-component hide-alert-list="true"> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{$ctrl.pageUrls.login}}">Sign In</a> or <a class="alert-link" ng-href="{{$ctrl.pageUrls.register}}">Create an Account</a> to view this page. </div> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden visually-hidden">Loading...</span> </div> </div> <div ng-hide="$ctrl.isLoading || !$ctrl.isSignedIn"> <div class="row" ng-if="$ctrl.defaultProfiles.billing ||\n\t\t\t\t\t$ctrl.defaultProfiles.shipping"> <div class="col-sm-6" ng-repeat="profile in $ctrl.defaultProfiles" ng-if="profile"> <div class="card mb-3"> <div class="card-header"> <i ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\'bi-wallet\': profile.billing_id,\n\t\t\t\t\t\t\t\t\'bi-truck\': profile.shipping_id }]"></i> Default {{ profile.billing_id ? \'Billing\' : \'Shipping\'}} Profile </div> <div class="card-body"> <address class="card-text"> {{profile.first_name}} {{profile.last_name}}<br/> {{profile.address1}}<br ng-if="profile.address2"/> {{profile.address2}}<br/> {{profile.city}}, {{profile.state}} {{profile.zip}} </address> </div> </div> </div> </div> <alert-list></alert-list> <nav> <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist"> <a class="nav-item nav-link active" id="nav-billing-tab" data-bs-toggle="tab" href="#nav-billing" role="tab" aria-controls="nav-billing" aria-selected="true"> <i class="bi bi-wallet"></i> Billing </a> <a class="nav-item nav-link" id="nav-shipping-tab" data-bs-toggle="tab" href="#nav-shipping" role="tab" aria-controls="nav-shipping" aria-selected="false"> <i class="bi bi-truck"></i> Shipping </a> </div> </nav> <div class="tab-content" id="nav-tabContent"> <div class="tab-pane fade show active" id="nav-billing" role="tabpanel" aria-labelledby="nav-billing-tab"> <div class="alert alert-info" role="alert" ng-if="!$ctrl.profiles.billing.length"> You don\'t have any billing profiles saved. Click the button below to create a new one. </div> <button class="btn btn-primary mb-3" ng-click="$ctrl.onClickCreate(\'billing\')" ng-if="!$ctrl.isEditingProfile[\'billing\'] && !$ctrl.hasLockedBilling"> Create New Billing Profile </button> <address-form type="billing" profile="$ctrl.profile" ng-if="$ctrl.isEditingProfile[\'billing\']"> </address-form> <div ng-if="!$ctrl.isEditingProfile[\'billing\']"> <form role="search"> <div class="input-group"> <label for="filter-billing" class="input-group-text">Filter Addresses</label> <input type="search" id="filter-billing" class="form-control" name="q" ng-model="$ctrl.q"/> </div> </form> <table class="table"> <thead> <tr> <th>Name</th> <th>Address</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="profile in $ctrl.profiles.billing | filter: $ctrl.q as results track by $index"> <td class="align-baseline"> <div ng-if="profile.billing_name"><em>{{ profile.billing_name }}</em></div> {{ profile.first_name }} {{ profile.last_name }} <span class="has-cyan-bluish-gray-color" ng-if="!profile.billing_name &&\n\t\t\t\t\t\t\t\t\t!profile.shipping_name &&\n\t\t\t\t\t\t\t\t\t!profile.first_name &&\n\t\t\t\t\t\t\t\t\t!profile.last_name">&mdash;</span> </td> <td class="align-baseline"> {{ profile.address1 }}<br ng-if="profile.address2"/> {{ profile.address2 }}<br/> {{ profile.city }}, {{ profile.state }} {{ profile.zip }} <div class="small" ng-if="profile.email || profile.phone"> {{ profile.email }}<br ng-if="profile.phone"/> {{ profile.phone | tel }} </div> </td> <td class="align-middle"> <div class="btn-toolbar justify-content-end" role="toolbar" aria-label="Toolbar for editing address profile"> <div class="btn-toolbar gap-2" ng-hide="$ctrl.isConfirmingDeletion[ profile.billing_id ]"> <button class="btn btn-outline-primary btn-sm" ng-click="$ctrl.onClickEdit( profile, \'billing\')" ng-if="!$ctrl.isLocked">Edit</button> <button class="btn btn-outline-primary border-0 btn-sm" is-loading="$ctrl.isMakingDefault[ profile.billing_id ]" ng-click="$ctrl.onClickMakeDefault( profile.billing_id, \'billing\' )" ng-if="profile.billing_id !== $ctrl.defaultBillingProfileId"> Make Default </button> <button class="btn btn-outline-danger border-0 btn-sm" ng-if="!$ctrl.isLocked" ng-click="$ctrl.isConfirmingDeletion[ profile.billing_id ] = true">Delete</button> </div> <div ng-if="$ctrl.isConfirmingDeletion[ profile.billing_id ]"> <div class="btn-toolbar align-items-baseline"> <span class="small me-2">Delete profile?</span> <button class="btn btn-outline-primary border-0 btn-sm" ng-click="$ctrl.isConfirmingDeletion[ profile.billing_id ] = false">Cancel</button> <button class="btn btn-danger btn-sm ms-1" ng-disabled="$ctrl.isRemoving[ profile.billing_id ]" ng-if="!$ctrl.isLocked" ng-click="$ctrl.onClickRemove( profile.billing_id, \'billing\' )">{{ $ctrl.isRemoving[ profile.billing_id ] ? \'Deleting\' : \'Delete\' }}</button> </div> </div> </div> </td> </tr> <tr ng-if="!results.length"> <td colspan="3">No results found<span ng-if="$ctrl.q"> for <q>{{ $ctrl.q }}</q></span>.</td> </tr> </tbody> </table> </div> </div> <div class="tab-pane fade" id="nav-shipping" role="tabpanel" aria-labelledby="nav-shipping-tab"> <div class="alert alert-info" role="alert" ng-if="!$ctrl.profiles.shipping.length"> You don\'t have any shipping profiles saved. Click the button below to create a new one. </div> <button class="btn btn-primary mb-3" ng-click="$ctrl.onClickCreate(\'shipping\')" ng-if="!$ctrl.isEditingProfile[\'shipping\'] && !$ctrl.hasLockedShipping"> Create New Shipping Profile </button> <address-form type="shipping" profile="$ctrl.profile" ng-if="$ctrl.isEditingProfile[\'shipping\']"> </address-form> <div ng-if="!$ctrl.isEditingProfile[\'shipping\']"> <form role="search"> <div class="input-group"> <label for="filter-shipping" class="input-group-text">Filter Addresses</label> <input type="search" id="filter-shipping" class="form-control" name="q" ng-model="$ctrl.q"/> </div> </form> <table class="table"> <thead> <tr> <th>Name</th> <th>Address</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="profile in $ctrl.profiles.shipping | filter: $ctrl.q as results track by $index"> <td class="align-baseline"> <div ng-if="profile.shipping_name"><em>{{ profile.shipping_name }}</em></div> {{ profile.first_name }} {{ profile.last_name }} <span class="has-cyan-bluish-gray-color" ng-if="!profile.billing_name &&\n\t\t\t\t\t\t\t\t\t!profile.shipping_name &&\n\t\t\t\t\t\t\t\t\t!profile.first_name &&\n\t\t\t\t\t\t\t\t\t!profile.last_name">&mdash;</span> </td> <td class="align-baseline"> {{ profile.address1 }}<br ng-if="profile.address2"/> {{ profile.address2 }}<br/> {{ profile.city }}, {{ profile.state }} {{ profile.zip }} <div class="small" ng-if="profile.email || profile.phone"> {{ profile.email }}<br ng-if="profile.phone"/> {{ profile.phone | tel }} </div> </td> <td class="align-middle"> <div class="btn-toolbar justify-content-end" role="toolbar" aria-label="Toolbar for editing address profile"> <div class="btn-toolbar gap-2" ng-hide="$ctrl.isConfirmingDeletion[ profile.shipping_id ]"> <button class="btn btn-outline-primary btn-sm" ng-click="$ctrl.onClickEdit( profile, \'shipping\')" ng-if="!$ctrl.isLocked">Edit</button> <button class="btn btn-outline-primary border-0 btn-sm" ng-disabled="$ctrl.isMakingDefault[ profile.shipping_id ]" ng-click="$ctrl.onClickMakeDefault( profile.shipping_id, \'shipping\' )" ng-if="profile.shipping_id !== $ctrl.defaultShippingProfileId"> Make Default </button> <button class="btn btn-outline-danger border-0 btn-sm" ng-if="!$ctrl.isLocked" ng-click="$ctrl.isConfirmingDeletion[ profile.shipping_id ] = true">Delete</button> </div> <div ng-if="$ctrl.isConfirmingDeletion[ profile.shipping_id ]"> <div class="btn-toolbar align-items-baseline"> <span class="small me-2">Delete profile?</span> <button class="btn btn-secondary btn-sm" ng-click="$ctrl.isConfirmingDeletion[ profile.shipping_id ] = false">Cancel</button> <button class="btn btn-danger btn-sm ms-1" ng-disabled="$ctrl.isRemoving[ profile.shipping_id ]" ng-if="!$ctrl.isLocked" ng-click="$ctrl.onClickRemove( profile.shipping_id, \'shipping\' )">{{ $ctrl.isRemoving[ profile.shipping_id ] ? \'Deleting\' : \'Delete\' }}</button> </div> </div> </div> </td> </tr> <tr ng-if="!results.length"> <td colspan="3">No results found<span ng-if="$ctrl.q"> for <q>{{ $ctrl.q }}</q></span>.</td> </tr> </tbody> </table> </div> </div> </div> </div> </layout-component> ',controller:class{static $inject=["$location","User","Utils"];isEditingProfile={billing:!1,shipping:!1};isMakingDefault=[];isConfirmingDeletion=[];isRemoving=[];constructor(t,e,i){this.$location=t,this.User=e,this.Utils=i}$onInit(){this.defaultBillingProfileId=this.User.defaultBillingProfile,this.defaultShippingProfileId=this.User.defaultShippingProfile,this.pageUrls={login:this.Utils.getPageUrl("login",{redirect_to:this.$location.path()}),register:this.Utils.getPageUrl("register")},this.isSignedIn=this.User.isAuthed&&this.User.email,this.isSignedIn&&this.getProfiles()}editProfile(t,e){this.profile={firstName:t.first_name,lastName:t.last_name,email:t.email,address1:t.address1,address2:t.address2||null,city:t.city,state:Object.values(io).find((e=>e.id===t.state.toLocaleUpperCase())),zip:t.zip,phone:t.phone,profileId:t.billing_id||t.shipping_id,profileName:t.billing_name||t.shipping_name},this.isEditingProfile[e]=!0}getProfiles(){this.isLoading=!0,this.isEditingProfile.billing=!1,this.isEditingProfile.shipping=!1,this.User.getProfiles().then((t=>{this.hasLockedBilling=t.data.lock_billing,this.hasLockedShipping=t.data.lock_shipping,this.profiles={billing:Object.values(t.data.billing_addresses),shipping:Object.values(t.data.shipping_addresses)},this.defaultProfiles={billing:this.profiles.billing.find((t=>t.billing_id===this.defaultBillingProfileId)),shipping:this.profiles.shipping.find((t=>t.shipping_id===this.defaultShippingProfileId))}})).catch((t=>{console.error(t)})).finally((()=>{this.isLoading=!1}))}onClickCreate(t){this.profile=null,this.isEditingProfile[t]=!0}onClickEdit(t,e){this.editProfile(t,e)}onClickMakeDefault(t,e){this.isMakingDefault[t]=!0,this.User.setDefaultProfile(t,e).then((()=>{this.getProfiles(),"billing"===e?this.defaultBillingProfileId=t:this.defaultShippingProfileId=t,this.isMakingDefault[t]=!1}))}onClickRemove=(t,e)=>{this.isRemoving[t]=!0,"billing"===e?this.User.removeBillingProfile(t).then((()=>{this.getProfiles(),this.isRemoving[t]=!1})):"shipping"===e&&this.User.removeShippingProfile(t).then((()=>{this.getProfiles(),this.isRemoving[t]=!1}))}}},ro=/^[0-9]{5}(?:-[0-9]{4})?$/,so={bindings:{type:"@?",profile:"<"},require:{addressListController:"^addressIndex"},template:'<form name="form" ng-submit="$ctrl.onSubmit()"> <div class="mb-3"> <label for="profile-name" class="form-label">Profile Name</label> <input type="text" class="form-control" id="profile-name" placeholder="Example: Home or Office" ng-model="$ctrl.profile.profileName"/> </div> <fieldset> <legend>Address</legend> <div class="row"> <div class="col-md"> <div class="mb-3"> <label for="first-name" class="form-label">First Name <small>(required)</small></label> <input type="text" class="form-control" id="first-name" required minlength="2" maxlength="250" name="firstName" ng-model="$ctrl.profile.firstName" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.firstName.$invalid && form.firstName.$touched}"/> <p class="invalid-feedback">Please enter the first name.</p> </div> </div> <div class="col-md"> <div class="mb-3"> <label for="last-name" class="form-label">Last Name <small>(required)</small></label> <input type="text" class="form-control" id="last-name" required minlength="2" maxlength="250" name="lastName" ng-model="$ctrl.profile.lastName" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.lastName.$invalid && form.lastName.$touched}"/> <p class="invalid-feedback">Please enter the last name.</p> </div> </div> </div> <div class="row"> <div class="col-md"> <div class="mb-3"> <label for="address1" class="form-label">Street Address <small>(required)</small></label> <input type="text" class="form-control" id="address1" required minlength="2" maxlength="250" name="address1" ng-model="$ctrl.profile.address1" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.address1.$invalid && form.address1.$touched}"/> <p class="invalid-feedback"> Please enter the street address. </p> </div> </div> <div class="col-md"> <div class="mb-3"> <label for="address2" class="form-label">Apt., Suite, etc.</label> <input type="text" class="form-control" id="address2" maxlength="250" name="address2" ng-model="$ctrl.profile.address2"/> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="mb-3"> <label for="city" class="form-label">City <small>(required)</small></label> <input type="text" class="form-control" id="city" required minlength="2" maxlength="250" name="city" ng-model="$ctrl.profile.city" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.city.$invalid && form.city.$touched}"/> <p class="invalid-feedback">Please enter the city.</p> </div> </div> <div class="col-md-3"> <div class="mb-3"> <label for="state" class="form-label">State <small>(required)</small></label> <select class="form-control" id="state" autocomplete="address-level1" required ng-options="state as state.name for state in $ctrl.stateOptions track by state.id" name="state" ng-model="$ctrl.profile.state" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.state.$invalid && form.state.$touched}"></select> <p class="invalid-feedback">Please select the state.</p> </div> </div> <div class="col-md-3"> <div class="mb-3"> <label for="profileName" class="form-label">Zip Code <small>(required)</small></label> <input type="text" class="form-control" id="zip" required minlength="5" maxlength="10" name="zip" ng-pattern="$ctrl.zipCodePattern" placeholder="XXXXX-XXXX" ng-model="$ctrl.profile.zip" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.zip.$invalid && form.zip.$touched}"/> <p class="invalid-feedback"> Please enter a valid 5 or 9 digit zip code (e.g. 95765-1234). </p> </div> </div> </div> </fieldset> <fieldset> <legend>Contact Info</legend> <div class="row"> <div class="col-md"> <div class="mb-3"> <label for="profileName" class="form-label">Email <small>(required)</small></label> <input type="email" class="form-control" id="email" required minlength="5" maxlength="250" name="email" ng-model="$ctrl.profile.email" ng-class="{\n\t\t\t\t\t\t\t\t\'is-invalid\': form.email.$invalid && form.email.$touched}" ng-pattern="$ctrl.emailPattern"/> <p class="invalid-feedback"> Please enter the email address. </p> </div> </div> <div class="col-md"> <div class="mb-3"> <label for="profileName" class="form-label">Phone Number</label> <input type="tel" class="form-control" id="phone" name="phone" ng-model="$ctrl.profile.phone" ui-mask="(299) 999-9999"/> </div> </div> </div> </fieldset> <div class="btn-toolbar"> <button type="submit" class="btn btn-primary me-2" ng-disabled="form.$invalid || $ctrl.isInProgress"> {{ $ctrl.isInProgress ? \'Saving\' : \'Save\' }} Address </button> <button class="btn btn-secondary" ng-click="$ctrl.cancel()"> Cancel </button> </div> </form> ',controller:class{static $inject=["User"];constructor(t){this.User=t,this.emailPattern=$,this.zipCodePattern=ro,this.stateOptions=io}cancel(){this.addressListController.isEditingProfile[this.type]=!1}closeForm=()=>{this.addressListController.getProfiles(),this.profile={},this.isInProgress=!1};onSubmit(){this.isInProgress=!0;const t={first_name:this.profile.firstName,last_name:this.profile.lastName,email:this.profile.email,address1:this.profile.address1,address2:this.profile.address2||null,city:this.profile.city,state:this.profile.state.id.toLocaleUpperCase(),zip:this.profile.zip,phone:this.profile.phone};"billing"===this.type?(t.billing_id=this.profile.profileId||null,t.billing_name=this.profile.profileName||null,this.User.addBillingProfile(t).then((t=>{t.data.errors.length||this.closeForm()})).catch((t=>{console.error(t)})).finally((()=>{this.isInProgress=!1}))):"shipping"===this.type&&(t.shipping_id=this.profile.profileId||null,t.shipping_name=this.profile.profileName||null,this.User.addShippingProfile(t).then((t=>{t.data.errors.length||this.closeForm()})).catch((t=>{console.error(t)})).finally((()=>{this.isInProgress=!1})))}}};function ao(t,e){const i=this;function n(){return i.profiles.find((t=>t.id===i.defaultId))}function r(t){i.profileName=t.profileName;const n=["first_name","last_name","email","phone"];Object.entries(t).forEach((t=>{const[r,s]=t;"state"!==r?n.includes(r)?i.address[r]=s||i.address[r]:i.address[r]=s:i.address[r]=Object.values(e).find((t=>t.id===s.toLocaleUpperCase()))})),i.address.isFromProfile=!0}function s(){i.isLoading=!0,t.getProfiles().then((function(t){i.profiles="shipping"===i.type?Object.values(t.data.shipping_addresses):Object.values(t.data.billing_addresses),i.profiles.forEach((function(t){t.profileName=t.shipping_name||t.billing_name,t.id=t.shipping_id||t.billing_id})),i.defaultId&&n()&&(i.profiles=function(t,e){const i=t.find((t=>t.id===e));return t.splice(t.findIndex((t=>t.id===e)),1),t.unshift(i),t}(i.profiles,i.defaultId)),i.isOnInit&&(n()&&(r(n()),i.isSelected[0]=!0),i.isOnInit=!1),i.isLoading=!1}))}function a(t){i.status.delete[t]=!1,i.isConfirmingProfileDeletion[t]=!1,i.isSelected[t]=!1,i.profiles.splice(t,1)}i.isConfirmingProfileDeletion=[],i.isAuthed=t.isAuthed,i.isGuest=t.isGuest,i.deleteProfile=function(e,n,r){i.status.delete[r]=!0,"shipping"===n?t.removeShippingProfile(e).then((function(){a(r)})):"billing"===n&&t.removeBillingProfile(e).then((function(){a(r)}))},i.isSelected=[],i.setDefaultProfile=function(e,n,r){i.status.setDefault[r]=!0,t.setDefaultProfile(e,n).then((function(){i.defaultId=e,i.status.setDefault[r]=!1}))},i.status={setDefault:[],update:[],delete:[]},i.$onInit=function(){i.defaultId="shipping"===i.type?t.defaultShippingProfile:t.defaultBillingProfile,i.isOnInit=!0,s()},i.$onChanges=function(t){t.isAddressBookUpdated&&t.isAddressBookUpdated.currentValue&&s()},this.selectProfile=(t,e,n)=>{t.isNewProfile=!1,i.isSelected.fill(!1),i.isSelected[n]=!0,r(t),this.onSelect()},this.createProfile=()=>{i.address={isNewProfile:!0},this.onSelect()}}function oo(t,e,i){const n=this;function r(i){"Error"===i.messages.resultCode?(i.messages.message.forEach((function(e){console.error(e),t.error(e.text)})),n.isInProgress=!1):(n.opaqueDataDescriptor=i.opaqueData.dataDescriptor,n.opaqueDataValue=i.opaqueData.dataValue,n.paymentInfo={ccNum:n.card.number.replace(/\d(?=\d{4})/g,"X")},function(){n.isComplete=!1;const t={order_id:n.orderId,payment_method:"authnet",cc_num:n.paymentInfo.ccNum,opaqueDataDescriptor:n.opaqueDataDescriptor,opaqueDataValue:n.opaqueDataValue};e.completeOrder(t).then((t=>{t.data.errors.length||(window.onbeforeunload=null,n.isPending=t.data.pending,n.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{n.isInProgress=!1}))}())}n.errors=[],n.$onInit=function(){const t=new Date,e=t.getFullYear(),i=t.getMonth(),r=[];r.push(e);for(let t=1;t<10;t++)r.push(e+t);n.month=i+1,n.year=e,n.years=r},n.sendPaymentDataToAnet=function(){n.isInProgress=!0;const t={authData:{clientKey:i.settings.authnet_public_key,apiLoginID:i.settings.authnet_id},cardData:{cardNumber:n.card.number,month:n.card.expMonth.toString(),year:n.card.expYear.toString(),cardCode:n.card.cardCode.toString(),zip:n.card.postalCode.toString()}};Accept.dispatchData(t,r)}}function lo(t){const e=this;e.isInProgress=!1,e.paymentInfo={},e.paymentMethod="credit_line",e.submit=function(){!function(){e.isInProgress=!0,e.isComplete=!1;const i={order_id:e.orderId,payment_method:e.paymentMethod};t.completeOrder(i).then((t=>{t.data.errors.length||(window.onbeforeunload=null,e.isPending=t.data.pending,e.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{e.isInProgress=!1}))}()}}function co(t){const e=this;e.$onInit=function(){paypal.Buttons({createOrder:(t,i)=>e.paypalCreateOrder.id,onApprove(i,n){e.paypal_order_id=i.orderID,e.payment_method="paypal_checkout",function(){e.isInProgress=!0,e.isComplete=!1;const i={order_id:e.orderId,payment_method:"paypal_checkout",paypal_order_id:e.paypal_order_id};t.completeOrder(i).then((t=>{t.data.errors.length||(window.onbeforeunload=null,e.isPending=t.data.pending,e.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{e.isInProgress=!1}))}()}}).render("#paypal-button-container")}}function uo(t,e){const i=this;i.$onInit=function(){qpEmbeddedForm.loadFrame(i.qualpay.merchantId,{formId:"my-payment-form",transientKey:i.qualpay.transientKey,tokenize:!1,onSuccess(n){t.$apply((function(){i.errors=[]})),i.qualpayCardId=n.card_id,i.paymentInfo={ccType:n.card_type,ccNum:n.card_number},function(){i.isInProgress=!0,i.isComplete=!1;const t={order_id:i.orderId,payment_method:"qualpay",cc_num:i.paymentInfo.ccNum,cc_type:i.paymentInfo.ccType,qualpay_card_id:i.qualpayCardId,qualpay_merchant_id:i.qualpay.merchantId};e.completeOrder(t).then((t=>{t.data.errors.length||(window.onbeforeunload=null,i.isPending=t.data.pending,i.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{i.isInProgress=!1}))}()},onError(e){t.$apply((function(){i.errors=[]})),e.detail&&t.$apply((function(){for(const t in e.detail)t&&i.errors.push(e.detail[t])}))},achConfig:{enabled:!0,onPaymentTypeChange(t){n().noop(t)}},formFields:{cvv2:{required:!0}},font:"Titillium Web",paymentRequestConfig:{paymentDetails:{total:{label:"Total",amount:{currency:"USD",value:i.confirmedOrder.total_amt}},displayItems:[{label:"Tax",amount:{currency:"USD",value:i.confirmedOrder.tax}},{label:"Shipping",amount:{currency:"USD",value:i.confirmedOrder.shipping}},{label:"Discount",amount:{currency:"USD",value:-i.confirmedOrder.promo_discount}},{label:"Subtotal",amount:{currency:"USD",value:i.confirmedOrder.subtotal}}]},options:{requestPayerName:!0,requestPayerPhone:!0,requestPayerEmail:!0,requestShipping:!0,shippingType:"shipping|delivery|pickup"}}})}}function po(t,e,i){const n=this;n.$onInit=function(){const e=localized.settings.stripe_pk;localized.settings.stripe_enabled&&e&&(n.stripe=Stripe(e),n.elements=n.stripe.elements(),n.stripeCard||(n.stripeCard=n.elements.create("card",{style:{base:{fontSize:"16px"}}}),n.stripeCard.mount("#card-element"),n.stripeCard.on("change",(function(e){e.complete?t.$apply((function(){n.isCardEntered=!0})):t.$apply((function(){n.isCardEntered=!1}))}))))},n.isCardEntered=!1,n.isInProgress=!1,n.paymentInfo={},n.paymentMethod="stripe",n.submit=function(){n.isInProgress=!0,n.stripe.createToken(n.stripeCard).then((e=>{e.error?t.$apply((function(){n.alertsList.push({type:"danger",msg:e.error.message})})):(n.stripeToken=e.token.id,n.paymentInfo.ccNum=e.token.card.last4,n.paymentInfo.ccType=e.token.card.brand,function(){n.isInProgress=!0,n.isComplete=!1;const t={order_id:n.orderId,payment_method:n.paymentMethod,cc_num:n.paymentInfo.ccNum,cc_type:n.paymentInfo.ccType,stripe_token:n.stripeToken};i.completeOrder(t).then((t=>{t.data.errors.length||(window.onbeforeunload=null,n.isPending=t.data.pending,n.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{n.isInProgress=!1}))}())})).catch((t=>{console.error(t)}))},n.alertsList=e.list}function go(t){const e=this;function i(t){e.address.isNewProfile=!1,e.isAddressBookUpdated=new Date,e.isUpdating=!1,e.isUpdated=!0,t.$setPristine()}e.update=function(r,s,a){if(a.$setSubmitted(),a.$valid){e.isUpdating=!0,e.errors=[];const o=n().copy(r);o.state&&(o.state=o.state.id),o.cachedId&&("billing"===s?o.billing_id=o.cachedId:o.shipping_id=o.cachedId,delete o.cachedId),"shipping"===s?(o.shipping_name=o.profileName,t.addShippingProfile(o).then((t=>{t.data.errors.length>0?(e.errors=t.data.errors,e.isUpdating=!1,e.isUpdated=!0):i(a)})).catch((t=>{console.error(t)}))):"billing"===s&&(o.billing_name=o.profileName,t.addBillingProfile(o).then((t=>{t.data.errors.length>0?(e.errors=t.data.errors,e.isUpdating=!1,e.isUpdated=!0):i(a)})).catch((t=>{console.error(t)})))}this.handleSave()},e.isAuthed=t.isAuthed,e.isGuest=t.isGuest,e.isUpdating=!1,e.isUpdated=!1,e.errors=[],this.$onInit=()=>{this.handleChange()}}n().module("vfApp").component("addressIndex",no).component("addressForm",so),function(){function t(t,e){const i=this;i.$onInit=function(){i.list=i.base},i.base=[{title:"Catalog",link:"/catalog"}],i.isLoading=!0,t.$on("catalog.data:init",(()=>{i.list=i.base.concat(e.getBreadcrumb()),i.isLoading=!1}))}n().module("vfApp").component("catalogBreadcrumb",{template:'<nav aria-label="breadcrumb"> <ol class="breadcrumb mt-3 d-md-none"> <li class="breadcrumb-item" ng-repeat="item in $ctrl.list track by $index" ng-if="$index === $ctrl.list.length - 2"> <a ng-href="{{ item.link }}"> {{ item.title }} </a> </li> <li class="breadcrumb-item" ng-if="$ctrl.isLoading">&hellip;</li> </ol> <ol class="breadcrumb mt-3 d-none d-md-flex"> <li ng-repeat="item in $ctrl.list track by $index" ng-class="[\'breadcrumb-item\', { active: $last }]"> <a ng-href="{{ item.link }}" ng-attr-aria-current="{{ $last && \'page\' }}"> {{ item.title }} </a> </li> <li class="breadcrumb-item" ng-if="$ctrl.isLoading">&hellip;</li> </ol> </nav> ',controller:t}),t.$inject=["$rootScope","catalogService"]}(),function(){function t(t,e){const i=this;function n(){i.isLoading=!1,i.refinements=function(){const e=t.search(),i=/attr|brand_name|manufacturer/i;return Object.entries(e).filter((t=>{const[e]=t;return i.test(e)})).map((t=>{const[e,i]=t;return Array.isArray(i)?i.map((t=>({name:r(e),key:e,value:t}))):!!i&&{name:r(e),key:e,value:i}})).flat()}()}function r(t){return"brand_name"===t?"Brand: ":"manufacturer"===t?"Manufacturer: ":`${t.replace("attr:","")}: `}function s(e){const{key:i,value:n}=e,r=[t.search()[i]].flat().filter((t=>t!==n));t.search(i,r)}i.isLoading=!0,i.onClickRemove=function(i){s(i),t.search("pg",null),e.$emit("catalog.params:changes")},i.onClickRemoveAll=function(){i.refinements.forEach((t=>{s(t)})),t.search("pg",null),e.$emit("catalog.params:changes")},i.refinements=[],i.refreshData=n,e.$on("catalog.params:changes",(()=>{i.isLoading=!0})),e.$on("catalog.data:init",(()=>{n()})),e.$on("catalog.data:changes",(()=>{n()}))}n().module("vfApp").component("catalogCurrentRefinementsList",{template:'<div class="row my-3 align-items-center" ng-if="$ctrl.refinements.length > 0"> <div class="col"> <div class="d-flex justify-content-end align-items-center flex-wrap"> <button class="btn badge text-bg-secondary ms-1" ng-repeat="refinement in $ctrl.refinements" ng-click="$ctrl.onClickRemove(refinement)" ng-disabled="$ctrl.isLoading" ng-attr-title="{{\n\t\t\t\t\t\'Clear \' + refinement.name + refinement.value + \' filter\'\n\t\t\t\t}}"> <em ng-bind="refinement.name"></em>{{ refinement.value }} <i class="bi bi-x" aria-hidden="true"></i> </button> <button class="btn btn-sm btn-link" ng-click="$ctrl.onClickRemoveAll()" ng-disabled="$ctrl.isLoading"> Clear Filters </button> </div> </div> </div> ',controller:t}),t.$inject=["$location","$rootScope"]}(),function(){function t(t,e,i){const n=this;n.isLoading=!0,n.onClick=function(i){window.scrollTo(0,0),t.search("pg",i),e.$emit("catalog.params:changes"),n.currentPage=i},n.pagination=[],e.$on("catalog.params:changes",(()=>{n.isLoading=!0})),e.$on("catalog.data:changes",(()=>{n.pagination=i.getPagination(),n.currentPage=i.getCurrentPage(),n.totalPages=i.getTotalPages(),n.isLoading=!1}))}n().module("vfApp").component("catalogPagination",{template:'<nav class="my-3" aria-label="Page navigation" ng-hide="$ctrl.isLoading" ng-if="$ctrl.pagination.length > 1"> <ul class="pagination justify-content-center"> <li class="page-item" ng-if="$ctrl.currentPage > 1"> <button class="page-link d-flex flex-row align-items-center" ng-click="$ctrl.onClick(1)"> <i class="bi bi-chevron-double-left d-none d-md-inline" aria-hidden="true"></i> First </button> </li> <li class="page-item" ng-if="$ctrl.currentPage > 1"> <button class="page-link d-flex flex-row align-items-center" ng-click="$ctrl.onClick($ctrl.currentPage - 1)"> <i class="bi bi-chevron-left fa-fw d-none d-md-inline" aria-hidden="true"></i> Previous </button> </li> <li class="page-item" ng-repeat="page in $ctrl.pagination track by $index" ng-if="page <= $ctrl.currentPage + 4 && page >= $ctrl.currentPage - 4" ng-class="{ active: page === $ctrl.currentPage }"> <button class="page-link" ng-click="$ctrl.onClick(page)" ng-disabled="page === $ctrl.currentPage"> {{ page }} </button> </li> <li class="page-item" ng-if="$ctrl.currentPage !== $ctrl.totalPages"> <button class="page-link d-flex flex-row align-items-center" ng-click="$ctrl.onClick($ctrl.currentPage + 1)"> <i class="bi bi-chevron-right fa-fw d-none d-md-inline" aria-hidden="true"></i> Next </button> </li> <li class="page-item" ng-if="$ctrl.currentPage !== $ctrl.pagination.length"> <button class="page-link d-flex flex-row align-items-center" ng-click="$ctrl.onClick($ctrl.totalPages)"> <i class="bi bi-chevron-double-right fa-fw d-none d-md-inline" aria-hidden="true"></i> Last </button> </li> </ul> </nav> ',controller:t}),t.$inject=["$location","$rootScope","catalogService"]}(),function(){function t(t,e,i,n,r){window.prerenderReady=!1,this.hasAPIKey=localized.settings.general.api_key;const s=this;function a(){return r.getCatalog().then((i=>{var n;return i&&i.hits&&(s.hits=i.hits),s.query=t.search().q,s.hasActiveFilters=(n=i.filters,Object.values(n).some((t=>t))),s.isCategory=!!i.category,s.category=i.category,s.isLoading=!1,window.prerenderReady=!0,e.$emit("catalog.data:changes"),s.hits}))}s.hits=[],s.isLoading=!0,s.isSignedIn=i.isAuthed&&i.email,s.viewAs=t.search().viewas?t.search().viewas:"grid",s.$onInit=()=>{if(this.hasAPIKey)return this.setAvailableStock(),i.punchoutOnly&&!i.mixedPunchout&&n.goToPage(n.getPageUrl("welcome")),s.pageUrls={catalog:n.getPageUrl("catalog")},r.setCatalogId(s.catalogId,s.idType),s.currentPage=r.getCurrentPage(),a().then((t=>{e.$emit("catalog.data:init",t)}))},e.$on("catalog.params:changes",(()=>(s.isLoading=!0,a()))),this.setAvailableStock=()=>{localized.settings.general.excludeSoldOut&&t.search("available_stock",!0)},s.toggleView=()=>{s.viewAs="grid"===s.viewAs?"list":"grid",t.search("viewas",s.viewAs)}}n().module("vfApp").component("catalogProductList",{template:'<div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div> <div class="btn-toolbar align-items-baseline mb-3" role="toolbar" aria-label="Change view and sorting"> <catalog-view-toggle view-as="$ctrl.viewAs" on-toggle="$ctrl.toggleView(view)"> </catalog-view-toggle> <catalog-sort-by></catalog-sort-by> <a class="btn btn-link ms-auto d-sm-none" href="#filters">Go to Filters</a> </div> <div class="d-flex justify-content-center py-5" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="alert alert-secondary" ng-if="$ctrl.hits.length === 0 && !$ctrl.isLoading"> <h2 class="h4">No results found <span ng-if="$ctrl.query"> for <q>{{$ctrl.query}}</q> <span> <span ng-if="$ctrl.category"> in {{ $ctrl.category.title }} </span> </span></span></h2> <div ng-if="$ctrl.query || $ctrl.hasActiveFilters || $ctrl.isCategory"> <p>Tips:</p> <ul> <li ng-if="$ctrl.query && $ctrl.isCategory"> If you are searching for a product name or <abbr title="Stock Keeping Unit">SKU</abbr>, try <a href="{{ $ctrl.pageUrls.catalog + \'?q=\' + $ctrl.query }}">searching the entire catalog</a>. </li> <li ng-if="$ctrl.query"> Double check the spelling. </li> <li ng-if="$ctrl.query"> Use different keywords. </li> <li ng-if="$ctrl.hasActiveFilters"> Uncheck any filters you may have selected. </li> <li ng-if="$ctrl.isCategory"> Try browsing by category and then subcategories. </li> </ul> </div> <p ng-if="!$ctrl.query && !$ctrl.hasActiveFilters && !$ctrl.isCategory"> Please try again later. </p> <div class="btn-toolbar"> <a class="btn btn-primary" ng-href="{{ $ctrl.pageUrls.catalog }}"> Search catalog </a> </div> </div> <div ng-class="$ctrl.viewAs === \'grid\' ? \'row g-3 row-cols-2 row-cols-lg-3 row-cols-xl-4\' : \'list-group\'" ng-hide="$ctrl.isLoading"> <div ng-class="$ctrl.viewAs === \'grid\' ? \'col\' : \'list-group-item p-0\'" ng-repeat="product in $ctrl.hits"> <product-list-item view-as="$ctrl.viewAs" product="product"> </product-list-item> </div> </div> <catalog-pagination></catalog-pagination> ',bindings:{catalogId:"<",idType:"<"},controller:t}),t.$inject=["$location","$rootScope","User","Utils","catalogService"]}(),function(){function t(t,e,i){this.isLoading=!0,this.query="",this.placeholder="Search for products",this.buttonLabel="Search",e.$on("catalog.data:init",(()=>{this.isLoading=!1,this.query=i.getQuery(),this.placeholder=t.path().includes("catalog")?"Search for products":`Search within ${i.getTitle()}`,this.buttonLabel=t.path().includes("catalog")?"Search":`Search in ${i.getTitle()}`})),e.$on("catalog.params:changes",(()=>{this.isLoading=!0})),e.$on("catalog.data:changes",(()=>{this.isLoading=!1,this.query=i.getQuery()})),this.submit=e=>{t.search("q",e),t.search("pg",null),i.changeQuery(e)}}n().module("vfApp").component("catalogSearch",{template:'<form ng-submit="$ctrl.submit($ctrl.query)"> <label for="catalogSearch" class="visually-hidden"> {{ $ctrl.placeholder }} </label> <div class="input-group mb-3"> <input id="catalogSearch" type="search" class="form-control" minlength="3" aria-label="{{ $ctrl.placeholder }}" ng-attr-placeholder="{{ $ctrl.placeholder }}" ng-model="$ctrl.query" ng-disabled="$ctrl.isLoading"/> <button class="btn btn-outline-secondary" type="submit" id="catalog-button-search" aria-label="Search" ng-disabled="$ctrl.isLoading"> <i class="bi bi-search"></i><span class="d-none d-md-inline ms-1">{{ $ctrl.buttonLabel }}</span> </button> </div> </form> ',controller:t}),t.$inject=["$location","$rootScope","catalogService"]}(),function(){function t(t,e){this.sortByOptions=[{name:"Most Relevant",value:"relevance",icon:"bi bi-sort-down"},{name:"Price Low-High",value:"pricea",icon:"bi bi-sort-numeric-down"},{name:"Price High-Low",value:"priced",icon:"bi bi-sort-numeric-down-alt"},{name:"Title Ascending",value:"descriptiona",icon:"bi bi-sort-alpha-down"},{name:"Title Descending",value:"descriptiond",icon:"bi bi-sort-alpha-down-alt"}],this.$onInit=()=>{this.orderBy=t.search().sortby?this.sortByOptions.find((e=>e.value===t.search().sortby)):this.sortByOptions[0]},this.change=i=>{this.orderBy=i,t.search("pg",null),e.changeSortBy(i),t.search("sortby",i.value)}}n().module("vfApp").component("catalogSortBy",{template:'<div class="dropdown"> <button class="btn btn-secondary dropdown-toggle me-1" type="button" id="sortByDropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-attr-title="Change sorting"> <i aria-hidden="true" ng-class="$ctrl.orderBy.icon"></i> {{ $ctrl.orderBy.name }} </button> <div class="dropdown-menu" aria-labelledby="sortByDropdownMenuButton"> <button class="dropdown-item" ng-repeat="option in $ctrl.sortByOptions" ng-click="$ctrl.change(option)" ng-class="{ active: option.value === $ctrl.orderBy.value }"> <i ng-class="option.icon"></i> {{ option.name }} </button> </div> </div> ',controller:t}),t.$inject=["$location","catalogService"]}(),function(){function t(t){this.$onInit=()=>{this.viewAs=t.search().viewas?t.search().viewas:"grid"},this.toggle=t=>{this.onToggle({view:t})}}n().module("vfApp").component("catalogViewToggle",{template:'<div class="btn-group me-1" role="group" aria-label="View by"> <button type="button" class="btn btn-secondary" title="View as grid" ng-click="$ctrl.toggle($ctrl.viewAs)" ng-class="{ active: $ctrl.viewAs === \'grid\' }"> <i class="bi bi-grid-fill" aria-hidden="true"></i><span class="d-none d-md-inline ms-1">Grid</span> </button> <button type="button" class="btn btn-secondary" title="View as list" ng-click="$ctrl.toggle($ctrl.viewAs)" ng-class="{ active: $ctrl.viewAs === \'list\' }"> <i class="bi bi-list-ul" aria-hidden="true"></i><span class="d-none d-md-inline ms-1">List</span> </button> </div> ',bindings:{viewAs:"<",onToggle:"&"},controller:t}),t.$inject=["$location"]}(),n().module("vfApp").component("checkoutAdditionalFields",{bindings:{extraFields:"="},controller:function(){const t=this;t.onClickReview=function(){t.checkoutCtrl.isReadyToConfirm=!0,t.checkoutCtrl.isExtraFieldsComplete=!0,setTimeout((function(){t.checkoutCtrl.showTab("review")}),500)},t.$onInit=function(){t.customFields=t.checkoutCtrl.customFields,t.fields={}}},require:{checkoutCtrl:"^vfCheckout"},template:'<h2 class="mt-3 py-3">Additional Information</h2> <form name="additionalFields"> <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3"> <div class="mb-3 col" ng-repeat="(key, field) in $ctrl.extraFields"> <label ng-attr-for="{{ key }}" class="form-label"> {{ field.label }} <span class="small" ng-if="field.isRequired && !field.isReadonly"> (required) </span> </label> <input class="form-control" type="text" ng-attr-autocomplete="{{ field.autocomplete }}" ng-attr-id="{{ key }}" ng-attr-name="{{ key }}" ng-if="!field.options" ng-model="field.value" ng-readonly="field.isReadonly" ng-required="field.isRequired"/> <select class="form-control" ng-attr-id="{{ key }}" ng-attr-name="{{ key }}" ng-if="field.options" ng-model="field.value" ng-required="field.isRequired"> <option ng-repeat="option in field.options track by $index" ng-value="option"> {{ option }} </option> </select> </div> </div> </form> <div class="btn-toolbar justify-content-between"> <button class="btn btn-link" ng-click="$ctrl.checkoutCtrl.showTab(\'delivery\')"> <i class="bi bi-chevron-left me-1"></i> Go Back to Delivery Method </button> <button class="btn btn-primary" ng-disabled="additionalFields.$invalid" ng-click="$ctrl.onClickReview()"> Go to Review Order </button> </div> '}),n().module("vfApp").component("checkoutAddressBook",{bindings:{address:"=",type:"@",isAddressBookUpdated:"<",isLocked:"<",onSelect:"&"},template:'<vf-spinner ng-show="$ctrl.isLoading"> </vf-spinner> <div ng-if="!$ctrl.isGuest && $ctrl.isAuthed && !$ctrl.isLoading" class="bg-light mb-3 p-3"> <h3>Saved Addresses</h3> <div class="alert alert-warning" ng-if="$ctrl.isLocked && !$ctrl.profiles.length"> Locked {{ $ctrl.type }} is enabled for your account, but you don\'t have any saved addresses. Please contact your administrator to add {{ $ctrl.type }} addresses to your account. </div> <form role="search"> <div class="input-group"> <label for="filter" class="input-group-text">Filter Addresses</label> <input type="search" id="filter" class="form-control" name="q" ng-model="$ctrl.q"/> </div> </form> <table class="table"> <thead> <tr> <th>Name</th> <th>Address</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="profile in $ctrl.profiles | filter: $ctrl.q as results track by $index"> <td class="align-baseline"> <div ng-if="profile.billing_name || profile.shipping_name"><em>{{ profile.billing_name || profile.shipping_name }}</em></div> {{ profile.first_name }} {{ profile.last_name }} <span class="has-cyan-bluish-gray-color" ng-if="!profile.billing_name &&\n\t\t\t\t\t\t!profile.shipping_name &&\n\t\t\t\t\t\t!profile.first_name &&\n\t\t\t\t\t\t!profile.last_name">&mdash;</span> </td> <td class="align-baseline"> {{ profile.address1 }}<br ng-if="profile.address2"/> {{ profile.address2 }}<br/> {{ profile.city }}, {{ profile.state }} {{ profile.zip }} <div class="small" ng-if="profile.email || profile.phone"> {{ profile.email }}<br ng-if="profile.phone"/> {{ profile.phone | tel }} </div> </td> <td class="align-middle"> <div class="btn-toolbar justify-content-end" role="toolbar" aria-label="Toolbar for editing address profile"> <div class="btn-toolbar" ng-hide="$ctrl.isConfirmingProfileDeletion[ $index ] && !$ctrl.status.delete[ $index ]"> <button class="btn btn-primary btn-sm" ng-click="$ctrl.selectProfile( profile, $ctrl.type, $index )" ng-disabled="$ctrl.isSelected[ $index ]">{{ $ctrl.isSelected[ $index ] ? \'Selected\' : \'Select\' }} </button> <button class="btn btn-secondary btn-sm ms-1" ng-click="$ctrl.setDefaultProfile( profile.id, $ctrl.type, $index )" ng-if="$ctrl.defaultId !== profile.id"> {{ $ctrl.status.setDefault[ $index ] ? \'Setting\' : \'Set as Default\' }} </button> <button class="btn btn-danger btn-sm ms-1" ng-if="!$ctrl.isLocked" ng-click="$ctrl.isConfirmingProfileDeletion[ $index ] = true">Delete</button> </div> <div ng-if="$ctrl.isConfirmingProfileDeletion[ $index ] && !$ctrl.status.delete[ $index ]"> <div class="btn-toolbar align-items-baseline"> <span class="small me-2">Delete profile?</span> <button class="btn btn-secondary btn-sm" ng-click="$ctrl.isConfirmingProfileDeletion[ $index ] = false">Cancel</button> <button class="btn btn-danger btn-sm ms-1" ng-click="$ctrl.deleteProfile( profile.id, $ctrl.type, $index )">{{ $ctrl.isRemoving[ profile.billing_id ] ? \'Deleting\' : \'Delete\' }}</button> </div> </div> </div> </td> </tr> <tr ng-if="!results.length"> <td colspan="3">No results found<span ng-if="$ctrl.q"> for <q>{{ $ctrl.q }}</q></span>.</td> </tr> </tbody> </table> <button class="btn btn-primary" ng-if="!$ctrl.isLocked" ng-click="$ctrl.createProfile( $ctrl.type )"> Create New Saved Address </button> </div> ',controller:ao}),ao.$inject=["User","usStates"],n().module("vfApp").component("checkoutPaymentAuthnet",{bindings:{confirmedOrder:"<",orderId:"<"},controller:oo,template:'<alert-list></alert-list> <form class="mb-3" id="creditCardForm" name="creditCardForm" ng-hide="$ctrl.isComplete"> <fieldset ng-disabled="$ctrl.isComplete"> <legend class="visually-hidden">Credit/Debit Card</legend> <div class="row mb-3"> <div class="col"> <label class="form-label" for="ccNum">Card Number</label> <input type="text" class="form-control" placeholder="Card Number" name="ccNum" id="ccNum" required minlength="13" maxlength="16" pattern="[0-9]{13,16}" required autocomplete="cc-number" ng-model="$ctrl.card.number" ng-class="{\n\t\t\t\t\t\t\'is-valid\': creditCardForm.ccNum.$valid,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tcreditCardForm.ccNum.$touched &&\n\t\t\t\t\t\t\tcreditCardForm.ccNum.$invalid\n\t\t\t\t\t}"/> <div class="invalid-feedback"> Please enter a valid credit card number. </div> </div> <div class="col-sm-4"> <p class="control-label fw-bold mb-2">Expiration Date</p> <div class="row"> <div class="col"> <label class="visually-hidden" for="ccExpMonth">Expiration Month</label> <select class="form-control" placeholder="Expiration Month" name="ccExpMonth" id="ccExpMonth" required ng-model="$ctrl.card.expMonth" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\': creditCardForm.ccExpMonth.$valid,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tcreditCardForm.ccExpMonth.$touched &&\n\t\t\t\t\t\t\t\t\tcreditCardForm.ccExpMonth.$invalid\n\t\t\t\t\t\t\t}"> <option value="" selected="selected" disabled="disabled">Month</option> <option value="01">01 JAN</option> <option value="02">02 FEB</option> <option value="03">03 MAR</option> <option value="04">04 APR</option> <option value="05">05 MAY</option> <option value="06">06 JUNE</option> <option value="07">07 JULY</option> <option value="08">08 AUG</option> <option value="09">09 SEPT</option> <option value="10">10 OCT</option> <option value="11">11 NOV</option> <option value="12">12 DEC</option> </select> <div class="invalid-feedback"> Please select the month your card expires. </div> </div> <div class="col"> <label class="visually-hidden" for="ccExpYear">Expiration Year</label> <select class="form-control" placeholder="Expiration Year" name="ccExpYear" id="ccExpYear" required ng-model="$ctrl.card.expYear" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\': creditCardForm.ccExpYear.$valid,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tcreditCardForm.ccExpYear.$touched &&\n\t\t\t\t\t\t\t\t\tcreditCardForm.ccExpYear.$invalid\n\t\t\t\t\t\t\t}"> <option value="" selected="selected" disabled="disabled">Year</option> <option ng-repeat="year in $ctrl.years track by $index" value="{{ year }}"> {{ year }} </option> </select> <div class="invalid-feedback"> Please select the year your card expires. </div> </div> </div> </div> <div class="col-sm-2"> <label class="form-label" for="ccCvv">Card CVV</label> <input type="text" class="form-control" placeholder="Card CVV" id="ccCvv" name="ccCvv" minlength="3" maxlength="4" required pattern="[0-9]{3,4}" title="Card verification code" autocomplete="cc-csc" ng-model="$ctrl.card.cardCode" ng-class="{\n\t\t\t\t\t\t\'is-valid\': creditCardForm.ccCvv.$valid,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tcreditCardForm.ccCvv.$touched &&\n\t\t\t\t\t\t\tcreditCardForm.ccCvv.$invalid\n\t\t\t\t\t}"/> <div class="invalid-feedback"> Please enter your CVV or card verification code. </div> </div> <div class="col-sm-2"> <label class="form-label" for="ccPostal">Postal Code</label> <input type="text" class="form-control" placeholder="Card Postal Code" name="ccPostal" id="ccPostal" required minlength="5" maxlength="10" required ng-model="$ctrl.card.postalCode" ng-class="{\n\t\t\t\t\t\t\'is-valid\': creditCardForm.ccPostal.$valid,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tcreditCardForm.ccPostal.$touched &&\n\t\t\t\t\t\t\tcreditCardForm.ccPostal.$invalid\n\t\t\t\t\t}"/> <div class="invalid-feedback"> Please enter your billing zip code. </div> </div> </div> <button class="btn btn-primary" ng-click="$ctrl.sendPaymentDataToAnet()" ng-disabled="creditCardForm.$invalid || $ctrl.isInProgress || $ctrl.isComplete"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isInProgress"></span> Complete Order </button> </fieldset> </form> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),oo.$inject=["Alerts","Checkout","Localized"],n().module("vfApp").component("checkoutPaymentCreditLine",{bindings:{orderId:"<"},controller:lo,template:'<p>Checkout with Credit Line</p> <div class="mb-3" ng-hide="$ctrl.isComplete"> <button class="btn btn-primary" ng-click="$ctrl.submit()" ng-disabled="$ctrl.isInProgress"> Complete Order </button> </div> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),lo.$inject=["Checkout"],n().module("vfApp").component("checkoutPaymentPaypal",{bindings:{confirmedOrder:"<",paypalCreateOrder:"<",orderId:"<"},controller:co,template:'<div id="paypal-button-container" ng-hide="$ctrl.isComplete"></div> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),co.$inject=["Checkout"],n().module("vfApp").component("checkoutPaymentQualpay",{bindings:{confirmedOrder:"<",orderId:"<",qualpay:"<"},controller:uo,template:'<form id="my-payment-form" ng-hide="$ctrl.isComplete"> <div id="qp-embedded-container"></div> <input type="submit" name="submit" value="Complete Order" class="btn btn-primary"/> </form> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),uo.$inject=["$scope","Cart"],function(){function t(t,e,i,n){const r=this;r.$onInit=function(){r.alertsList=e.list,function(){const s=n.settings.square_location_id;r.squareUpPaymentForm=new SqPaymentForm({applicationId:"sq0idp-XSN1fN7oGs4Q2Unob4UfSQ",inputClass:"sq-input",autoBuild:!1,locationId:s,inputStyles:[{fontSize:"16px",lineHeight:"24px",padding:"16px",placeholderColor:"#a0a0a0",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"Card Number"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code",placeholder:"Postal"},googlePay:{elementId:"sq-google-pay"},callbacks:{cardNonceResponseReceived(n,s,a){r.alertsList.splice(0,r.alertsList.length),n?t.$apply((function(){n.forEach((function(t,i){e.error(t.detail[i])}))})):(r.sqNonce=s,r.paymentInfo={ccType:a.card_brand,ccNum:"XXXXXXXXXXXX-"+a.last_4},function(){r.isInProgress=!0,r.isComplete=!1;const t={order_id:r.orderId,payment_method:"squareup",cc_num:r.paymentInfo.ccNum,cc_type:r.paymentInfo.ccType,sq_nonce:r.sqNonce};i.completeOrder(t).then((t=>{t.data.errors.length||(window.onbeforeunload=null,r.isPending=t.data.pending,r.isComplete=!0)})).catch((t=>{console.error(t)})).finally((()=>{r.isInProgress=!1}))}())},methodsSupported(t){const e=document.getElementById("sq-google-pay");!0===t.googlePay&&(e.style.display="inline-block")},createPaymentRequest:()=>({requestShippingAddress:!0,requestBillingInfo:!0,shippingContact:{familyName:r.confirmedOrder.bill_last_name,givenName:r.confirmedOrder.bill_first_name,email:r.confirmedOrder.bill_email,country:"USA",region:r.confirmedOrder.bill_state,city:r.confirmedOrder.bill_city,addressLines:[r.confirmedOrder.bill_address1,r.confirmedOrder.bill_address2],postalCode:r.confirmedOrder.bill_zip,phone:r.confirmedOrder.bill_phone},currencyCode:"USD",countryCode:"US",totalPriceStatus:"FINAL",totalPrice:r.confirmedOrder.data.order.total_amt,totalPriceLabel:"Total",total:{label:n.settings.store.name,amount:r.confirmedOrder.total_amt,pending:!1},lineItems:[{label:"Subtotal",amount:r.confirmedOrder.subtotal,pending:!1},{label:"Shipping",amount:r.confirmedOrder.shipping,pending:!0},{label:"Tax",amount:r.confirmedOrder.tax,pending:!1}]})}}),r.squareUpPaymentForm.build()}()}}n().module("vfApp").component("checkoutPaymentSquare",{bindings:{orderId:"<",confirmedOrder:"<"},controller:t,template:'<div ng-hide="$ctrl.isComplete"> <div id="sq-card-number"></div> <div class="third" id="sq-expiration-date"></div> <div class="third" id="sq-cvv"></div> <div class="third" id="sq-postal-code"></div> <button id="sq-creditcard" class="button-credit-card" ng-click="$ctrl.squareUpPaymentForm.requestCardNonce()"> Complete Order </button> <button id="sq-google-pay" class="button-google-pay"></button> </div> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),t.$inject=["$scope","Alerts","Checkout","Localized"]}(),n().module("vfApp").component("checkoutPaymentStripe",{bindings:{orderId:"<"},controller:po,template:'<div class="mb-3" ng-hide="$ctrl.isComplete"> <h6>Card</h6> <div id="card-element" class="form-control mb-3 pt-2"></div> <button class="btn btn-primary" ng-click="$ctrl.submit()" ng-disabled="!$ctrl.isCardEntered"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-if="$ctrl.isInProgress"></span> Complete Order </button> </div> <div class="alert alert-warning" ng-if="$ctrl.isInProgress && !$ctrl.isComplete"> Completing order, please wait and do not refresh the page. </div> <div class="alert alert-success" role="alert" ng-if="$ctrl.isComplete"> <h3>Checkout Complete for Order {{ $ctrl.orderId }}</h3> <p> {{ $ctrl.isPending ? \'Your order is now pending approval.\' : \'Your order has been submitted!\' }} </p> <a class="btn btn-primary" href="/"> Go to Home </a> </div> '}),po.$inject=["$scope","Alerts","Checkout"],n().module("vfApp").component("checkoutUpdateSavedAddress",{template:'<span ng-if="$ctrl.form.$dirty && !$ctrl.isGuest && $ctrl.isAuthed"> <button class="btn btn-secondary" ng-disabled="$ctrl.isUpdating" ng-click="$ctrl.update($ctrl.address, $ctrl.type, $ctrl.form)"> {{ $ctrl.address.isNewProfile || !$ctrl.address.isFromProfile ? \'Save\' : \'Update Saved\' }} Address </button> </span> ',bindings:{address:"<",isAddressBookUpdated:"=",form:"=",type:"@",handleChange:"&",handleSave:"&"},controller:go}),go.$inject=["User"],i(4643),i(6550),i(6660),i(7613),i(2172),i(5702),i(5965),i(7002),i(1264),i(3124),i(9844),function(){function t(t,e,i){const n=this;n.$onInit=function(){n.isFavorite=n.item.favorite},n.onClickFavorite=function(){const t=n.item.product_id;n.isTogglingFavorite=!0,n.isFavorite?e.remove(t).then((function(){n.isFavorite=!1,n.isTogglingFavorite=!1})):e.add(t).then((function(){n.isFavorite=!0,n.isTogglingFavorite=!1}))},n.onClickAddToCart=function(){n.isAddingToCart=!0;const e=[n.item.product_id,n.item.qty];t.add(...e).then((function(){n.isAddingToCart=!1}))},n.onClickReturnItem=function(){n.isReturningItem=!0},n.onClickSubmitReturn=function(){n.isSubmittingReturn=!0;const t=[n.item.purch_id,n.notes,n.reason,n.item.qty];i.addRma(...t).then((function(){n.isSubmittingReturn=!1,n.isReturningItem=!1}))}}angular.module("vfApp").component("groupOrderDetailsListItem",{bindings:{item:"<",orderId:"<?"},controller:t,template:'<div class="row align-items-center"> <div class="col-2 col-lg-1"> <div class="ratio ratio-1x1"> <img class="lazy" loading="lazy" ng-repeat="image in $ctrl.item.images track by $index" ng-if="$first" ng-src="{{ image[\'thumb_url\'] }}"/> </div> </div> <div class="col"> <h4 class="h6 mb-1 text-break">{{ $ctrl.item.description }}</h4> <div class="row small"> <div class="col-sm"> <p class="mb-0"> SKU: {{ $ctrl.item.sku }}<br/> Price: {{ $ctrl.item.price | currency }} </p> </div> <div class="col-sm"> <p class="mb-0"> Qty: {{ $ctrl.item.qty }}<br/> Item Total: {{ $ctrl.item[\'extended_price\'] | currency }} </p> </div> </div> </div> <div class="col-auto text-end"> <div class="btn-toolbar"> <button class="btn btn-link btn-sm me-1" ng-click="$ctrl.onClickFavorite()"> <i ng-class="[\'bi\',\n\t\t\t\t\t\t{\'bi-heart-fill\': $ctrl.isFavorite,\n\t\t\t\t\t\t\'bi-heart\': !$ctrl.isFavorite }]" ng-hide="$ctrl.isTogglingFavorite"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isTogglingFavorite"></span> </button> <button class="btn btn-secondary btn-sm me-1" ng-click="$ctrl.onClickReturnItem()" ng-disabled="$ctrl.isReturningItem"> <i class="bi bi-arrow-counterclockwise"></i> <span class="d-none d-md-inline">Return Item</span> </button> <button class="btn btn-primary btn-sm" ng-click="$ctrl.onClickAddToCart()" ng-disabled="$ctrl.isAddingToCart"> <i class="bi bi-cart-plus-fill" ng-hide="$ctrl.isAddingToCart"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isAddingToCart"></span> <span class="d-none d-md-inline">{{ $ctrl.isAddingToCart ? \'Adding\' : \'Add\'}} to Cart</span> </button> </div> </div> </div> <form ng-if="$ctrl.isReturningItem"> <div class="row"> <div class="col"> <div class="mb-3"> <label for="reason" class="form-label">Reason for Return</label> <select class="form-control" id="reason" ng-model="$ctrl.reason"> <option value="defective">Defective</option> <option value="wrong item">Wrong Item</option> <option value="exchange">Exchange</option> <option value="other">Other</option> </select> </div> </div> <div class="col-8"> <div class="mb-3"> <label for="notes" class="form-label">Notes</label> <textarea class="form-control" id="notes" ng-model="$ctrl.notes"></textarea> </div> </div> </div> <div class="btn-toolbar justify-content-end"> <button type="button" class="btn btn-secondary mb-2" ng-click="$ctrl.isReturningItem = false"> Cancel </button> <button type="button" class="btn btn-primary ms-1 mb-2" ng-click="$ctrl.onClickSubmitReturn()" ng-disabled="$ctrl.isSubmittingReturn"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSubmittingReturn"></span> {{ $ctrl.isSubmittingReturn ? \'Submitting\' : \'Submit\'}} </button> </div> </form> '}),t.$inject=["Cart","Favorites","User"]}();const ho={template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{$ctrl.pageUrls.login}}">Sign In</a> or <a class="alert-link" ng-href="{{$ctrl.pageUrls.register}}">Create an Account</a> to view this page. </div> <div class="alert alert-info" role="alert" ng-if="$ctrl.isSignedIn && ! $ctrl.isApprover"> You must be have Approver permissions to view this page. </div> <div ng-if="$ctrl.isApprover"> <div ng-if="!$ctrl.orderId"> <form role="search" ng-submit="$ctrl.changeQuery( $ctrl.q )"> <select-group on-change="$ctrl.getOrders()"></select-group> <fieldset ng-disabled="$ctrl.isLoading"> <label for="search-orders" class="screen-reader-text">Search</label> <div class="input-group mb-3"> <button class="btn btn-outline-secondary" ng-click="$ctrl.isShowingFilters = !$ctrl.isShowingFilters"> {{ $ctrl.isShowingFilters ? \'Hide\' : \'Show\' }} Filters </button> <input type="search" id="search-orders" class="form-control" name="s" ng-model="$ctrl.q"/> <button type="submit" class="btn btn-outline-secondary">Search</button> </div> <div class="form-check form-check-inline" ng-repeat="status in $ctrl.statuses"> <input class="form-check-input" type="radio" ng-attr-id="{{ status.label }}" ng-value="status" ng-model="$ctrl.status" ng-change="$ctrl.changeStatus()"> <label class="form-check-label" ng-attr-for="{{ status.label }}">{{ status.label }}</label> </div> </fieldset> <div class="p-3 bg-light" ng-if="$ctrl.isShowingFilters"> <fieldset> <legend>Filters</legend> <div class="input-group"> <label for="search-orders-filter" class="input-group-text">Search for</label> <input type="search" id="search-orders-filter" class="form-control" name="filter" ng-model="$ctrl.filter.term"/> <label for="search-orders-filter-field" class="input-group-text">in</label> <select class="form-select" name="searchOrdersFilterField" id="search-orders-filter-field" ng-model="$ctrl.filter.field"> <optgroup ng-repeat="group in $ctrl.filterOptions" ng-attr-label="{{ group.label }}" ng-if="group.options"> <option ng-repeat="option in group.options" ng-value="option.field"> {{ option.label }} </option> </optgroup> <option ng-repeat="option in $ctrl.filterOptions" ng-value="option.field" ng-if="!option.options"> {{ option.label }} </option> </select> </div> </fieldset> </div> </form> <table class="table"> <thead> <tr> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'order_id\' )">ID <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'order_id\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t\t}]"></span> </a> </th> <th>Total</th> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'order_date\' )">Date <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'order_date\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t\t}]"></span> </a> </th> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'status\' )">Status <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'status\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t\t}]"></span> </a> </th> </tr> </thead> <tbody> <tr ng-if="$ctrl.isLoading && ( !$ctrl.orders || !$ctrl.orders.total )"> <td colspan="4" class="has-text-align-center">Loading&hellip;</td> </tr> <tr class="table-info" ng-if="!$ctrl.isLoading && $ctrl.orders && !$ctrl.orders.total"> <td colspan="4" class="has-text-align-center">No results.</td> </tr> <tr ng-repeat="order in $ctrl.orders.data track by $index"> <td> <a href="#" ng-click="$ctrl.goToDetail( $event, order.order_id, order.status )" ng-if="!$ctrl.isLoading">{{ order.order_id }}</a> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <span ng-if="!$ctrl.isLoading">{{ order.total_amt | currency }}</span> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <span ng-if="!$ctrl.isLoading">{{ order.order_date | date:\'short\'}}</span> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <strong ng-if="!$ctrl.isLoading" ng-class="{\n\t\t\t\t\t\t\t\'has-very-dark-gray-color\': order.status === \'created\',\n\t\t\t\t\t\t\t\'has-vivid-red-color\': order.status === \'cancelled\',\n\t\t\t\t\t\t\t\'has-luminous-vivid-orange-color\': order.status.includes(\'pending\'),\n\t\t\t\t\t\t\t\'text-success\': order.status === \'completed\',\n\t\t\t\t\t\t}">{{ order.status | uppercase }}</strong> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> </tr> </tbody> <caption ng-if="!$ctrl.isLoading && $ctrl.orders.total"> {{ $ctrl.orders.from | number }} to {{ $ctrl.orders.to | number }} of {{ $ctrl.orders.total | number }} items </caption> </table> <div class="alignwide wp-block-query-pagination d-flex justify-content-between" ng-if="$ctrl.pages && $ctrl.pages.length > 1"> <a href="#" class="wp-block-query-pagination-previous small" ng-click="$ctrl.changePage( $event, $ctrl.currentPage - 1 )" ng-if="$ctrl.currentPage !== 1">&laquo; Previous Page</a> <div class="wp-block-query-pagination-numbers"> <span ng-repeat="page in $ctrl.pages track by $index"> <span class="page-numbers current" aria-current="page" ng-if="$ctrl.currentPage === page"> {{ page }} </span> <a class="page-numbers" href="#" ng-click="$ctrl.changePage( $event, page )" ng-if="$ctrl.showPage( page, $ctrl.currentPage, $ctrl.pages.length)">{{ page }}</a> <span ng-if="$ctrl.showEllipse( page, $ctrl.currentPage, $ctrl.pages.length)"> <span class="page-numbers dots">&hellip;</span> </span> </span></div> <a href="#" class="wp-block-query-pagination-next small" ng-click="$ctrl.changePage( $event, $ctrl.currentPage + 1 )" ng-if="$ctrl.currentPage !== $ctrl.pages.length">Next Page &raquo;</a> </div> </div> <group-orders-detail ng-if="$ctrl.orderId" order-id="$ctrl.orderId"></group-orders-detail> </div> </layout-component> ',controller:class{static $inject=["$location","$rootScope","Group","User","Utils"];filter={term:"",field:""};filterOptions=[{label:"Shipping",options:[{label:"First Name",field:"first_name",type:"string"},{label:"Last Name",field:"last_name",type:"string"},{label:"Street Address",field:"address1",type:"string"},{label:"Apt., Suite, etc.",field:"address2",type:"string"},{label:"City",field:"city",type:"string"},{label:"State",field:"state",type:"string"},{label:"Zip Code",field:"zip",type:"string"},{label:"Email",field:"email",type:"string"},{label:"Phone",field:"phone",type:"string"}]},{label:"Billing",options:[{label:"Billing First Name",field:"bill_first_name",type:"string"},{label:"Billing Last Name",field:"bill_last_name",type:"string"},{label:"Billing Address",field:"bill_address1",type:"string"},{label:"Billing Apt., Suite, etc.",field:"bill_address2",type:"string"},{label:"Billing City",field:"bill_city",type:"string"},{label:"Billing State",field:"bill_state",type:"string"},{label:"Billing Zip Code",field:"bill_zip",type:"string"},{label:"Billing Email",field:"bill_email",type:"string"},{label:"Billing Phone",field:"bill_phone",type:"string"}]},{label:"Additional Checkout Fields",options:[{label:"Company/Organization",field:"organization",type:"string"},{label:"Purchase Order Number",field:"rr_po_num",type:"string"},{label:"Issuing Office",field:"issuing_office",type:"string"},{label:"Cost Center Code",field:"cost_center_code",type:"string"},{label:"Attention",field:"attention",type:"string"}]},{label:"Approver",field:"approver",type:"string"},{label:"Order Prefix",field:"order_prefix",type:"string"},{label:"Promo Codes applied",field:"promo_codes",type:"string"},{label:"Shipping Carrier",field:"shipping_carrier",type:"string"},{label:"Status",field:"status",type:"string"},{label:"Tracking Code",field:"tracking_code",type:"string"}];pageLimit=3;statuses=[{label:"Pending",value:"pending-approval"},{label:"Completed",value:"completed"}];constructor(t,e,i,n,r){this.$location=t,this.$rootScope=e,this.Group=i,this.User=n,this.Utils=r}$onInit(){this.isApprover=this.User.approver,this.isSignedIn=this.User.isAuthed&&this.User.email,this.pageUrls={login:this.Utils.getPageUrl("login"),register:this.Utils.getPageUrl("register")},this.params={orderBy:"order_date",direction:"desc"},this.orderId=this.$location.search().id,this.status=this.statuses.find((t=>"completed"===t.value)),this.listenForLocationChange(),this.isApprover&&!this.orderId&&this.getOrders()}changePage(t,e){t.preventDefault(),this.params.page=e,this.getOrders()}changeQuery(t){this.params.q=t,this.filter.field&&this.filter.term&&this.isShowingFilters?this.params.filters=[{field:this.filter.field,term:this.filter.term}]:"filters"in this.params&&delete this.params.filters,this.params.page=1,this.getOrders()}changeSortBy(t,e){t.preventDefault(),this.params.orderBy===e&&(this.params.direction="desc"===this.params.direction?"asc":"desc"),this.params.orderBy=e,this.getOrders()}changeStatus(){this.getOrders()}getOrders(){this.isLoading=!0,"pending-approval"===this.status.value?this.Group.listGroupPendingOrders(this.params).then((t=>t.data)).then((t=>{this.processOrders(t.orders),this.isLoading=!1})):this.Group.listGroupOrders(this.params).then((t=>t.data)).then((t=>{this.processOrders(t.orders),this.isLoading=!1}))}goToDetail(t,e,i){t.preventDefault(),this.orderId=e,this.$location.search("id",e),"pending-approval"===i&&this.$location.search("pending",!0)}getPagination(t){const e=new Array(t);for(let i=0;i<t;i++)e[i]=i+1;return e}listenForLocationChange(){this.$rootScope.$on("$locationChangeStart",(()=>{this.orderId=this.$location.search().id,this.isApprover&&!this.orderId&&this.getOrders()}))}processOrders(t){this.orders=t,this.pages=this.getPagination(t.last_page),this.currentPage=t.current_page}showEllipse(t,e,i){return 1===t&&e>this.pageLimit+1||t===i-1&&e<i-this.pageLimit||void 0}showPage(t,e,i){if(t!==e){if(1===t||t===i)return!0;if(t<e+this.pageLimit&&t>e-this.pageLimit)return!0}}}},mo={bindings:{orderId:"<"},template:'<h2>{{ $ctrl.isPending ? \'Pending \' : \'\' }}Order Details</h2> <a href="#" ng-click="$ctrl.goToIndex( $event )"> Go back to Group Orders </a> <price-availability ng-if="$ctrl.priceAvailability && !$ctrl.isLoading" price-availability="$ctrl.priceAvailability" on-complete="$ctrl.completePriceAvailability( data )" order="$ctrl.order"> </price-availability> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="!$ctrl.isLoading && !$ctrl.priceAvailability"> <div> <h3>Summary</h3> <table class="table"> <thead> <tr> <th>Order ID</th> <th>Date</th> <th ng-if="$ctrl.isPending">Requestor</th> <th ng-if="!$ctrl.isPending">Status</th> <th class="text-end">Subtotal</th> <th class="text-end">Total</th> </tr> </thead> <tbody> <tr> <td>{{ $ctrl.order.order_id }}</td> <td>{{ $ctrl.order.order_date_time | date:\'short\' }}</td> <td ng-if="$ctrl.isPending"> <a ng-href="mailto:{{ $ctrl.order.requestor }}"> {{ $ctrl.order.requestor }} </a> </td> <td ng-if="!$ctrl.isPending"> <strong> <span ng-class="{\n\t\t\t\t\t\t\t\t\t\'has-very-dark-gray-color\': $ctrl.order.status === \'created\',\n\t\t\t\t\t\t\t\t\t\'has-vivid-red-color\': $ctrl.order.status === \'cancelled\',\n\t\t\t\t\t\t\t\t\t\'has-luminous-vivid-orange-color\': $ctrl.order.status.includes(\'pending\'),\n\t\t\t\t\t\t\t\t\t\'text-success\': $ctrl.order.status === \'completed\',\n\t\t\t\t\t\t\t\t}"> {{ $ctrl.order.status | uppercase }} </span> </strong> </td> <td class="text-end"> {{ $ctrl.order.subtotal | currency }} </td> <td class="text-end"> {{ $ctrl.order.total_amt | currency }} </td> </tr> </tbody> </table> <div class="btn-toolbar justify-content-center"> <button class="btn btn-secondary" ng-click="$ctrl.sendOrderEmail( $ctrl.order.order_id )" ng-disabled="$ctrl.isSendingEmail"> {{ $ctrl.isSendingEmail ? \'Sending\' : \'Send\'}} Order Email </button> <a class="btn btn-secondary" ng-if="$ctrl.order.approver && !$ctrl.isPending" ng-href="mailto:{{ $ctrl.order.approver }}"> Email Approver </a> </div> </div> <div class="card my-3"> <h3 class="card-header h5"> {{ $ctrl.isPending ? \'Pending \' : \'\' }}Items </h3> <ul class="list-group list-group-flush"> <li class="list-group-item p-1 p-md-2 p-lg-3" ng-repeat="item in $ctrl.order.items track by $index"> <order-details-list-item item="item" is-pending="$ctrl.isPending" status="$ctrl.order.status" remove-item="$ctrl.removeItem( productId )"> </order-details-list-item> </li> </ul> </div> <div class="btn-toolbar justify-content-center"> <button class="btn btn-primary" ng-if="$ctrl.isPending" ng-click="$ctrl.editPendingOrder()" ng-disabled="!$ctrl.requestorId || $ctrl.isEditingItems"> {{ $ctrl.isEditingItems ? \'Adding\' : \'Add\' }} Items to Order </button> </div> <form name="form" ng-if="$ctrl.isPending"> <div> <fieldset ng-disabled="form.$submitted"> <div class="row align-items-end"> <div class="col"> <h3>Shipping Address</h3> <h4 ng-if="$ctrl.order.shipping_name"> {{ $ctrl.order.shipping_name }} </h4> </div> <div class="col text-end"> <p class="small" ng-if="$ctrl.order.lock_shipping"> Customer has Locked Shipping enabled. </p> <div class="text-end" ng-if="$ctrl.shippingAddresses.length"> <label for="selected-shipping-address" class="form-label"> Select Saved Address <select class="form-select" name="selectedShippingAddress" id="selected-shipping-address" ng-model="$ctrl.selectedShippingAddress" ng-change="$ctrl.changeAddress(\'shipping\', $ctrl.selectedShippingAddress)"> <optgroup ng-repeat="item in $ctrl.shippingAddresses track by $index" ng-if="item.shipping_name" ng-attr-label="{{ item.shipping_name }}"> <option ng-value="item"> {{ item.address1 }}, {{ item.city }} {{ item.state }} </option> </optgroup> <optgroup label="Other Addresses"> <option ng-repeat="item in $ctrl.shippingAddresses track by $index" ng-if="!item.shipping_name" ng-value="item"> {{ item.address1 }}, {{ item.city }} {{ item.state }} </option> </optgroup> </select> </label> </div> </div> </div> <div class="row"> <div class="col"> <label for="shipping-first-name" class="form-label"> First Name </label> <input type="text" class="form-control" id="shipping-first-name" required ng-model="$ctrl.order.shipping.first_name"/> </div> <div class="col"> <label for="shipping-last-name" class="form-label"> Last Name </label> <input type="text" class="form-control" id="shipping-last-name" required ng-model="$ctrl.order.shipping.last_name"/> </div> </div> <div class="row"> <div class="col"> <label for="shipping-email" class="form-label"> Email </label> <input type="email" class="form-control" id="shipping-email" required ng-model="$ctrl.order.shipping.email"/> </div> <div class="col"> <label for="shipping-phone" class="form-label"> Phone </label> <input type="tel" class="form-control" id="shipping-phone" maxlength="14" ng-model="$ctrl.order.shipping.phone" ui-mask="(299) 999-9999"/> </div> </div> </fieldset> <fieldset ng-disabled="form.$submitted || $ctrl.order.lock_shipping"> <div class="mb-3"> <label for="shipping-address1" class="form-label"> Street Address </label> <input type="text" class="form-control" id="shipping-address1" required ng-model="$ctrl.order.shipping.address1"/> </div> <div class="mb-3"> <label for="shipping-address2" class="form-label"> Apartment/Suite/Building </label> <input type="text" class="form-control" id="shipping-address2" ng-model="$ctrl.order.shipping.address2"/> </div> <div class="row"> <div class="col"> <label for="shipping-city" class="form-label"> City </label> <input type="text" class="form-control" id="shipping-city" required ng-model="$ctrl.order.shipping.city"/> </div> <div class="col"> <label for="shipping-state" class="form-label">State</label> <select class="form-control" id="shipping-state" autocomplete="address-level1" required name="state" ng-model="$ctrl.order.shipping.state"> <option ng-repeat="state in $ctrl.stateOptions track by state.id" ng-value="state.id"> {{ state.name }} </option> </select> </div> <div class="col"> <label for="shipping-zip" class="form-label"> Zip </label> <input type="text" class="form-control" id="shipping-zip" ng-model="$ctrl.order.shipping.zip"/> </div> </div> </fieldset> </div> <div> <fieldset ng-disabled="form.$submitted"> <div class="row align-items-end"> <div class="col"> <h3>Billing Address</h3> <h4 ng-if="$ctrl.order.billing_name"> {{ $ctrl.order.billing_name }} </h4> </div> <div class="col" ng-if="$ctrl.order.lock_billing"> <p class="text-end small"> Customer has Locked Billing enabled. </p> <div class="text-end" ng-if="$ctrl.billingAddresses.length"> <label for="selected-billing-address" class="form-label"> Select Saved Address <select class="form-select" name="selectedBillingAddress" id="selected-billing-address" ng-model="$ctrl.selectedBillingAddress" ng-change="$ctrl.changeAddress(\'billing\', $ctrl.selectedBillingAddress)"> <optgroup ng-repeat="item in $ctrl.billingAddresses track by $index" ng-if="item.billing_name" ng-attr-label="{{ item.billing_name }}"> <option ng-value="item"> {{ item.address1 }}, {{ item.city }} {{ item.state }} </option> </optgroup> <optgroup label="Other Addresses"> <option ng-repeat="item in $ctrl.billingAddresses track by $index" ng-if="!item.billing_name" ng-value="item"> {{ item.address1 }}, {{ item.city }} {{ item.state }} </option> </optgroup> </select> </label> </div> </div> </div> <div class="row"> <div class="col"> <label for="billing-first-name" class="form-label"> First Name </label> <input type="text" class="form-control" id="billing-first-name" required ng-model="$ctrl.order.billing.first_name"/> </div> <div class="col"> <label for="billing-last-name" class="form-label"> Last Name </label> <input type="text" class="form-control" id="billing-last-name" required ng-model="$ctrl.order.billing.last_name"/> </div> </div> <div class="row"> <div class="col"> <label for="billing-email" class="form-label"> Email </label> <input type="email" class="form-control" id="billing-email" required ng-model="$ctrl.order.billing.email"/> </div> <div class="col"> <label for="billing-phone" class="form-label"> Phone </label> <input type="tel" class="form-control" id="billing-phone" maxlength="14" ng-model="$ctrl.order.billing.phone" ui-mask="(299) 999-9999"/> </div> </div> </fieldset> <fieldset ng-disabled="form.$submitted || $ctrl.order.lock_billing"> <div class="mb-3"> <label for="billing-address1" class="form-label"> Street Address </label> <input type="text" class="form-control" id="billing-address1" required ng-model="$ctrl.order.billing.address1"/> </div> <div class="mb-3"> <label for="billing-address2" class="form-label"> Apartment/Suite/Building </label> <input type="text" class="form-control" id="billing-address2" ng-model="$ctrl.order.billing.address2"/> </div> <div class="row mb-3"> <div class="col"> <label for="billing-city" class="form-label"> City </label> <input type="text" class="form-control" id="billing-city" required ng-model="$ctrl.order.billing.city"/> </div> <div class="col"> <label for="billing-state" class="form-label">State</label> <select class="form-control" id="billing-state" autocomplete="address-level1" required name="state" ng-model="$ctrl.order.billing.state"> <option ng-repeat="state in $ctrl.stateOptions track by state.id" ng-value="state.id"> {{ state.name }} </option> </select> </div> <div class="col"> <label for="billing-zip" class="form-label"> Zip </label> <input type="text" class="form-control" id="billing-zip" ng-model="$ctrl.order.billing.zip"/> </div> </div> </fieldset> </div> <div> <h3>Additional Information</h3> <fieldset ng-disabled="form.$submitted"> <div class="row mb-3"> <div class="col"> <label for="notes" class="form-label">Requestor Notes</label> <textarea name="notes" id="notes" ng-model="$ctrl.order.notes" disabled="disabled">\n\t\t\t\t\t\t</textarea> </div> <div class="col"> <label for="approver-notes" class="form-label">Approver Notes</label> <textarea name="approverNotes" id="approver-notes" ng-model="$ctrl.order.approver_notes"></textarea> </div> </div> <table class="table"> <tbody> <tr ng-repeat="item in $ctrl.additionalInfo track by $index"> <th scope="row" class="text-end"> <label ng-attr-for="field-{{ $id }}" class="form-label"> {{ item.name }} </label> </th> <td> <input type="text" ng-attr-name="field{{ $id }}" ng-attr-id="field-{{ $id }}" ng-model="item.value" ng-if="!item.options || !item.options[0]"/> <select ng-if="item.options && item.options[0]" ng-attr-name="field{{ $id }}" ng-attr-id="field-{{ $id }}" ng-model="item.value"> <option ng-repeat="option in item.options track by $index" ng-value="option"> {{ option }} </option> </select> </td> </tr> </tbody> </table> </fieldset> </div> <div class="btn-toolbar mb-3" ng-if="$ctrl.isPending"> <button class="btn btn-danger me-1" ng-click="$ctrl.onClickCancelOrder()" ng-disabled="$ctrl.isApprovingOrder || $ctrl.isApproved"> <i class="bi bi-cart-x-fill" ng-hide="$ctrl.isCancellingOrder"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isCancellingOrder"></span> {{ $ctrl.isCancellingOrder ? \'Cancelling\' : \'Cancel\'}} Order </button> <button class="btn btn-primary me-1" ng-click="$ctrl.onClickSaveChanges( form )" ng-show="form.$dirty && !$ctrl.isApproved"> <i class="bi bi-save" ng-hide="$ctrl.isSavingChanges"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSavingChanges"></span> {{ $ctrl.isSavingChanges ? \'Saving\' : \'Save\'}} Changes </button> <button class="btn btn-primary me-1" ng-click="$ctrl.onClickApproveOrder( form )" ng-disabled="$ctrl.isApprovingOrder || $ctrl.isApproved" ng-hide="form.$dirty"> <i class="bi bi-cart-check-fill" ng-hide="$ctrl.isApprovingOrder"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isApprovingOrder"></span> {{ $ctrl.isApprovingOrder ? \'Approving\' : \'Approve\'}} Order </button> </div> </form> <div class="card mb-3" ng-if="$ctrl.order.shipments.length" ng-if="!$ctrl.isPending"> <h3 class="card-header h5">Tracking</h3> <div class="card-body"> <table class="table"> <thead> <tr> <th scope="col">Carrier</th> <th scope="col">Tracking #</th> </tr> </thead> <tbody> <tr ng-repeat="shipment in $ctrl.order.shipments track by $index"> <td>{{shipment.carrier || \'N/A\'}}</td> <td> <span ng-if="shipment.code"> <a ng-if="shipment.tracking_url" target="_blank" href="{{shipment.tracking_url}}">{{shipment.code}}</a> <a ng-if="!shipment.tracking_url" target="_blank" href="https://google.com/search?q={{shipment.code}}">{{shipment.code}}</a> </span> <span ng-if="!shipment.code"> N/A </span> </td> </tr> </tbody> </table> </div> </div> <div ng-if="!$ctrl.isPending"> <div class="row mb-3"> <div class="col"> <h3>Shipping</h3> <h4 ng-if="$ctrl.order.shipping_name"> {{ $ctrl.order.shipping_name }} </h4> <p> {{ $ctrl.order.shipping.first_name }} {{ $ctrl.order.shipping.last_name }}<br/> {{ $ctrl.order.shipping.email }}<br ng-if="$ctrl.order.shipping.phone"/> {{ $ctrl.order.shipping.phone | tel }}<br/> {{ $ctrl.order.shipping.address1 }}<br ng-if="$ctrl.order.shipping.address2"/> {{ $ctrl.order.shipping.address2 }}<br/> {{ $ctrl.order.shipping.city }}, {{ $ctrl.order.shipping.state }} {{ $ctrl.order.shipping.zip }} </p> </div> <div class="col"> <h3>Billing</h3> <h4 ng-if="$ctrl.order.billing_name"> {{ $ctrl.order.billing_name }} </h4> <p> {{ $ctrl.order.billing.first_name }} {{ $ctrl.order.billing.last_name }}<br/> {{ $ctrl.order.billing.email }}<br ng-if="$ctrl.order.billing.phone"/> {{ $ctrl.order.billing.phone | tel }}<br/> {{ $ctrl.order.billing.address1 }}<br ng-if="$ctrl.order.billing.address2"/> {{ $ctrl.order.billing.address2 }}<br/> {{ $ctrl.order.billing.city }}, {{ $ctrl.order.billing.state }} {{ $ctrl.order.billing.zip }} </p> </div> </div> </div> <div ng-if="$ctrl.hasAdditionalInfo && !$ctrl.isPending"> <h3>Additional Information</h3> <table class="table"> <tbody> <tr ng-if="item.value || item.value === 0" ng-repeat="item in $ctrl.additionalInfo track by $index"> <th scope="row">{{ item.name }}</th> <td>{{ item.value }}</td> </tr> </tbody> </table> </div> <div class="alert alert-success" ng-if="$ctrl.isApproved"> <h3>Checkout complete for Order {{ $ctrl.orderId }}</h3> <p> Your order has been submitted. You may view the order from the Orders page or return home. <span ng-if="$ctrl.nextOrderUrl">You can also click Next Order to approve the next pending order.</span> </p> <div class="btn-toolbar"> <a class="btn btn-primary" href="/">Go Home</a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.groupOrdersUrl }}?id={{ $ctrl.orderId }}"> View order </a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.nextOrderUrl }}" ng-if="$ctrl.nextOrderUrl"> View next pending order </a> </div> </div> <div class="card mb-3"> <h3 class="card-header h5">Payment</h3> <div class="card-body"> <p class="card-text" ng-if="$ctrl.order.credit_line"> This order was placed with a credit line. </p> <p class="card-text" ng-if="$ctrl.order.credit_card.length > 0"> This order was placed with a credit card ending in: {{ $ctrl.order.credit_card }} </p> <div ng-if="$ctrl.order.promo_codes && !$ctrl.isPending"> Promo Code(s) Applied: <span ng-repeat="promo in $ctrl.order.promo_codes track by $index">{{promo.code}} ({{promo.discount | percentage: 0}})</span> </div> <dl class="row"> <dt class="col-sm-3" ng-if="$ctrl.order.shipping_carrier"> Shipping Carrier </dt> <dd class="col-sm-9" ng-if="$ctrl.order.shipping_carrier"> {{ $ctrl.order.shipping_carrier }} </dd> <dt class="col-sm-3" ng-if="$ctrl.order.tracking_code"> Tracking Code </dt> <dd class="col-sm-9" ng-if="$ctrl.order.tracking_code"> {{ $ctrl.order.tracking_code }} </dd> </dl> <table class="table"> <tbody> <tr ng-if="$ctrl.order.subtotal"> <th scope="row">Subtotal</th> <td class="text-end"> {{ $ctrl.order.subtotal | currency }} </td> </tr> <tr ng-if="$ctrl.order.promo_discount"> <th scope="row">Discount</th> <td class="text-end"> {{ $ctrl.order.promo_discount | currency }} </td> </tr> <tr ng-if="$ctrl.order.shipping_total"> <th scope="row">Shipping</th> <td class="text-end"> {{ $ctrl.order.shipping_total | currency }} </td> </tr> <tr ng-if="$ctrl.order.tax"> <th scope="row">Tax</th> <td class="text-end"> {{ $ctrl.order.tax | currency }} </td> </tr> </tbody> <tfoot> <tr ng-if="$ctrl.order.total_amt"> <th scope="row">Total Amount</th> <td class="text-end"> {{ $ctrl.order.total_amt | currency }} </td> </tr> </tfoot> </table> </div> </div> <order-change-logs ng-if="$ctrl.order.logs.length" logs="$ctrl.order.logs"></order-change-logs> </div> ',controller:class{static $inject=["$location","Alerts","Cart","Group","Punchout","User","Utils"];constructor(t,e,i,n,r,s,a){this.$location=t,this.Alerts=e,this.Cart=i,this.Group=n,this.Punchout=r,this.User=s,this.Utils=a,this.stateOptions=io}$onInit(){this.groupOrdersUrl=this.Utils.getPageUrl("group-orders"),this.$location.search().pending&&(this.isPending=!0,this.getProfiles(this.orderId)),this.getOrder()}changeAddress(t,e){const i=["first_name","last_name","email","phone"];"billing"!==t&&"shipping"!==t||Object.entries(e).forEach((e=>{const[n,r]=e;i.includes(n)?this.order[t][n]=r||this.order[t][n]:this.order[t][n]=r}))}checkAdditionalInfo(t){if(t.rr_po_num||t.organization||t.issuing_office||t.cost_center_code||t.attention||t.notes||t.approver_notes||t.custom_fields.f1.value||t.custom_fields.f2.value||t.custom_fields.f3.value||t.custom_fields.f4.value||t.custom_fields.f5.value||t.custom_fields.f6.value)return!0}completePriceAvailability=t=>{const e=t,i={order:{order_id:this.orderId},return_url:`https://${window.location.hostname}/cc-return/?OrderID=${this.orderId}`};this.Cart.priceAvailabilityResponse(i,e,!0).then((t=>{t.data.errors.length||(this.updateOrderInfo(t.data.order),this.priceAvailability=null,this.isLoading=!1)}))};confirmOrder(){this.isLoading=!0;const t=this.getCheckoutInfo();this.Group.confirmGroupOrder(t).then((t=>t.data)).then((t=>{this.requestorId=t.order.customer_id,this.priceAvailability=t.priceAvailability||null,this.isLoading=!1}))}editPendingOrder(){const t=this.Utils.getPageUrl("punchout-return");this.isEditingItems=!0,this.Punchout.listSuppliers(this.requestorId).then((e=>{if(e.data.suppliers?.length){const i=e.data.suppliers[0].id;this.Punchout.supplierRequest(i,t,this.orderId)}}))}getAdditionalInfo(t){const e={},i=[{key:"attention",option:"attention_option",name:"Attention"},{key:"notes",option:"notes_option",name:"Notes"},{key:"cost_center_code",option:"cost_center_option",name:"Cost Center Code"},{key:"issuing_office",option:"issuing_office_option",name:"Issuing Office"},{key:"organization",option:"company_name_option",name:"Company/Organization"},{key:"rr_po_num",option:"purchase_order_option",name:"Purchase Order Number"}];Object.entries(localized.settings.general.checkout).filter((t=>t[1])).forEach((n=>{const[r]=n,s=i.find((t=>t.option===r));"notes"!==s.key&&(e[s.key]={name:s.name,value:t[s.key]})}));for(const[i,n]of Object.entries(t.custom_fields))n.value&&(n.replace_field&&e[i]?e[i]={name:n.name,value:n.value,isReplacingField:!0}:e[i]={name:n.name,value:n.value});return e}getAdditionalInfoField(t){return this.additionalInfo[t]?this.additionalInfo[t].value:null}getCheckoutInfo(){return{selected_shipping_profile:{shipping_id:this.order.shipping_id},selected_billing_profile:{billing_id:this.order.billing_id},order_id:this.orderId,shipping_method:this.order.shipping_method_id,shipping_rule_id:this.order.shipping_method_id,shipping_first_name:this.order.shipping.first_name,shipping_last_name:this.order.shipping.last_name,shipping_email:this.order.shipping.email,shipping_address1:this.order.shipping.address1,shipping_address2:this.order.shipping.address2,shipping_city:this.order.shipping.city,shipping_state:this.order.shipping.state.toLocaleUpperCase(),shipping_zip:this.order.shipping.zip,shipping_phone:this.order.shipping.phone,billing_first_name:this.order.billing.first_name,billing_last_name:this.order.billing.last_name,billing_email:this.order.billing.email,billing_address1:this.order.billing.address1,billing_address2:this.order.billing.address2,billing_city:this.order.billing.city,billing_state:this.order.billing.state.toLocaleUpperCase(),billing_zip:this.order.billing.zip,billing_phone:this.order.billing.phone,order:{approver_notes:this.order.approver_notes||null,notes:this.order.notes||null,attention:this.getAdditionalInfoField("attention"),cost_center_code:this.getAdditionalInfoField("cost_center_code"),issuing_office:this.getAdditionalInfoField("issuing_office"),organization:this.getAdditionalInfoField("organization"),rr_po_num:this.getAdditionalInfoField("rr_po_num"),customFields:{f1:this.getAdditionalInfoField("f1"),f2:this.getAdditionalInfoField("f2"),f3:this.getAdditionalInfoField("f3"),f4:this.getAdditionalInfoField("f4"),f5:this.getAdditionalInfoField("f5"),f6:this.getAdditionalInfoField("f6")}}}}getNextOrderUrl(){this.Group.listGroupPendingOrders("newest").then((t=>t.data)).then((t=>{t.orders.data.length&&(this.nextOrderUrl=`${this.groupOrdersUrl}?id=${t.orders.data[0].order_id}&pending`)}))}getOrder(){this.isLoading=!0,this.isPending?this.Group.viewGroupPendingOrder(this.orderId).then((t=>t.data)).then((t=>{this.processOrder(t),this.confirmOrder()})):this.Group.viewGroupOrder(this.orderId).then((t=>t.data)).then((t=>{this.processOrder(t.order),this.isLoading=!1}))}getProfiles(t){this.User.getProfiles(t).then((t=>t.data)).then((t=>{this.billingAddresses=Object.values(t.billing_addresses),this.shippingAddresses=Object.values(t.shipping_addresses)}))}goToIndex(t){t.preventDefault(),this.$location.search("id",null),this.$location.search("pending",null),this.orderId=null}onClickApproveOrder(t){const e={order_id:this.orderId,payment_method:"credit_line"};this.isApprovingOrder=!0,this.Group.completeGroupOrder(e).then((t=>t.data)).then((e=>{"completed"===e.order_status&&(t.$setSubmitted(),this.getNextOrderUrl(),this.isApproved=!0,this.isApprovingOrder=!1,this.Alerts.success(`Order #${this.orderId} has been approved.`))}))}onClickCancelOrder(){this.isCancellingOrder=!0,this.Group.cancelGroupPendingOrder(this.orderId).then((()=>{this.isCancellingOrder=!1,this.$location.search("id",null),this.$location.search("pending",null),this.orderId=null}))}onClickSaveChanges(t){this.confirmOrder(),t.$setPristine()}processOrder(t){this.order=t,this.hasAdditionalInfo=this.checkAdditionalInfo(t),this.additionalInfo=this.getAdditionalInfo(t)}removeItem(t){const{orderId:e}=this;this.Group.groupPendingOrderRemoveItem(e,t).then((()=>{this.getOrder()}))}sendOrderEmail(t){this.isSendingEmail=!0,this.User.sendOrderEmail(t).then((()=>{this.isSendingEmail=!1}))}updateOrderInfo(t){this.order.items=Object.values(t.items),this.order.subtotal=t.subtotal,this.order.total_amt=t.total_amt,this.order.promo_discount=t.promo_discount,this.order.shipping_total=t.shipping,this.order.tax=t.tax}}};n().module("vfApp").component("groupOrdersIndex",ho).component("groupOrdersDetail",mo),i(7323),function(){function t(t,e,i,n,r,s,a){const o=this;o.alertsList=r.list,o.customer={},o.forgotPasswordUrl=a.getPageUrl("forgot-password"),o.isSigningIn=!1,o.isLoggedIn=!1,o.referrer=a.urlParser.param("referrer"),o.showPassword=!1,o.utils=a,this.pageUrls={forgotPassword:a.getPageUrl("forgot-password"),register:a.getPageUrl("register")},this.$onInit=()=>{s.email&&e.search().change_pw?this.isForcingPasswordUpdate=!0:s.email&&a.goToPage(a.getPageUrl("welcome"))},this.toggleShowPassword=()=>{o.showPassword=!o.showPassword},this.getPasswordStrength=t=>{const e=t.$viewValue;let i=0;return e&&(e.length>0&&(i+=20),e.length>=8&&(i+=20),e.match(/[A-Z]+/)&&(i+=20),e.match(/\d+/)&&(i+=20),e.match(/[!@#$%^&*-]+/)&&(i+=20)),i},this.login=()=>{const t=o.customer;o.isSigningIn=!0,s.login(t).then((t=>t.data)).then((t=>{t.change_pw?this.forcePasswordUpdate():t.errors.length||(o.isLoggedIn=!0,s.punchoutOnly?a.goToPage(a.getPageUrl("welcome")):e.search().redirect_to?n.location.assign(e.search().redirect_to):a.goToPage(n.location.origin))})).catch((t=>{console.error("Login error",t)})).finally((()=>{o.isSigningIn=!1}))},this.forcePasswordUpdate=()=>{e.search("change_pw",!0),this.isForcingPasswordUpdate=!0},this.submitResetPassword=t=>{o.isInProgress=!0,s.forcedResetPassword(t).then((t=>{t.data.errors.length||(o.isInProgress=!1,e.search().redirect_to?location.assign(e.search().redirect_to):location.assign(a.getPageUrl("welcome")))}))}}n().module("vfApp").component("vfLogin",{controller:t,template:'<layout-component> <form name="loginForm" autocomplete="on" novalidate ng-if="!$ctrl.isForcingPasswordUpdate"> <div class="mb-3"> <label for="email" class="form-label">Email</label> <input autocomplete="email" type="text" id="email" name="email" ng-model="$ctrl.customer.email" ng-required="true" ng-class="[\n\t\t\t\t\t\'form-control\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tloginForm.email.$invalid && loginForm.email.$touched\n\t\t\t\t\t}\n\t\t\t\t]"/> <small class="has-vivid-red-color" ng-if="loginForm.email.$touched && loginForm.email.$invalid"> Please enter your account email address. </small> </div> <div class="mb-3"> <label for="password" class="form-label">Password</label> <div class="input-group"> <input autocomplete="current-password" class="form-control" type="password" name="password" id="password" ng-model="$ctrl.customer.password" ng-attr-type="{{\n\t\t\t\t\t\t$ctrl.showPassword ? \'text\' : \'password\'\n\t\t\t\t\t}}" ng-required="true" ng-minlength="8" ng-class="[\n\t\t\t\t\t\t\'form-control\',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\tloginForm.password.$invalid &&\n\t\t\t\t\t\t\t\tloginForm.password.$touched\n\t\t\t\t\t\t}\n\t\t\t\t\t]" spellcheck="false"/> <button ng-click="$ctrl.toggleShowPassword()" class="btn btn-secondary" type="button"> <i ng-class="\n\t\t\t\t\t\t\t$ctrl.showPassword\n\t\t\t\t\t\t\t\t? \'bi bi-eye-fill\'\n\t\t\t\t\t\t\t\t: \'bi bi-eye-slash-fill\'\n\t\t\t\t\t\t"></i> </button> </div> <small class="has-vivid-red-color" ng-if="\n\t\t\t\t\tloginForm.password.$touched && loginForm.password.$invalid\n\t\t\t\t"> Please enter your account password. </small> </div> <div class="mb-3"> <div class="form-check"> <input class="form-check-input" type="checkbox" value="" id="remember-me" ng-model="$ctrl.customer.remember"/> <label class="form-check-label" for="remember-me">Remember me</label> </div> </div> <div class="btn-toolbar justify-content-between"> <button class="btn btn-primary" type="submit" ng-disabled="loginForm.$invalid || $ctrl.isSigningIn" ng-click="$ctrl.login()"> <i class="bi bi-box-arrow-in-right" ng-hide="$ctrl.isSigningIn"></i> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSigningIn"></span> {{ $ctrl.isSigningIn ? \'Signing In\' : \'Sign In\' }} </button> <div class="btn-group"> <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.forgotPassword }}"> Forgot Password? </a> <a class="btn btn-link" ng-href="{{ $ctrl.pageUrls.register }}"> Create an account </a> </div> </div> </form> <div ng-if="$ctrl.isForcingPasswordUpdate"> <form class="form" name="form" ng-submit="$ctrl.submitResetPassword( $ctrl.password )"> <fieldset> <legend>Reset Password</legend> <div class="mb-3"> <label for="newPassword" class="form-label">Password</label> <div class="input-group"> <input class="form-control" id="newPassword" name="newPassword" aria-describedby="passwordHelp" pattern="(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}" minlength="8" required autocomplete="new-password" ng-attr-type="{{\n\t\t\t\t\t\t\t\t$ctrl.isShowingPassword ? \'text\' : \'password\'\n\t\t\t\t\t\t\t}}" ng-model="$ctrl.password" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\': form.newPassword.$valid,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tform.newPassword.$invalid &&\n\t\t\t\t\t\t\t\t\tform.newPassword.$touched\n\t\t\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" type="button" ng-click="$ctrl.isShowingPassword = !$ctrl.isShowingPassword"> <i ng-class="\n\t\t\t\t\t\t\t\t\t$ctrl.isShowingPassword\n\t\t\t\t\t\t\t\t\t\t? \'bi bi-eye-fill\'\n\t\t\t\t\t\t\t\t\t\t: \'bi bi-eye-slash-fill\'\n\t\t\t\t\t\t\t\t"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.newPassword\n\t\t\t\t\t\t\t\t\t) + \'%\'\n\t\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\t\'bg-success\': form.newPassword.$valid,\n\t\t\t\t\t\t\t\t\'bg-warning\': form.newPassword.$invalid,\n\t\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.newPassword\n\t\t\t\t\t\t\t\t\t) < 50\n\t\t\t\t\t\t\t}"></div> </div> <small id="passwordHelp" ng-class="[\n\t\t\t\t\t\t\t\'form-text\',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\t\tform.newPassword.$invalid &&\n\t\t\t\t\t\t\t\t\tform.newPassword.$touched\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]"> {{ form.newPassword.$valid ? \'Password valid.\' : \'Passwords must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, a special character (*,!,$, etc.) and a number.\' }} </small> </div> <div class="mb-3"> <label for="passwordConfirmation" class="form-label">Reenter Password</label> <div class="input-group"> <input class="form-control" id="passwordConfirmation" aria-describedby="passwordConfirmationHelp" name="passwordConfirmation" pattern="(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}" minlength="8" required autocomplete="new-password" ng-attr-type="{{\n\t\t\t\t\t\t\t\t$ctrl.isShowingPasswordCheck\n\t\t\t\t\t\t\t\t\t? \'text\'\n\t\t\t\t\t\t\t\t\t: \'password\'\n\t\t\t\t\t\t\t}}" ng-model="$ctrl.passwordConfirmation" ng-class="{\n\t\t\t\t\t\t\t\t\'is-valid\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$valid &&\n\t\t\t\t\t\t\t\t\t$ctrl.password ===\n\t\t\t\t\t\t\t\t\t\t$ctrl.passwordConfirmation,\n\t\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" type="button" ng-click="$ctrl.isShowingPasswordCheck = !$ctrl.isShowingPasswordCheck"> <i ng-class="\n\t\t\t\t\t\t\t\t\t$ctrl.isShowingPasswordCheck\n\t\t\t\t\t\t\t\t\t\t? \'bi bi-eye-fill\'\n\t\t\t\t\t\t\t\t\t\t: \'bi bi-eye-slash-fill\'\n\t\t\t\t\t\t\t\t"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t\t) + \'%\'\n\t\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\t\'bg-success\': form.passwordConfirmation.$valid,\n\t\t\t\t\t\t\t\t\'bg-warning\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid ||\n\t\t\t\t\t\t\t\t\t$ctrl.password !==\n\t\t\t\t\t\t\t\t\t\t$ctrl.passwordConfirmation,\n\t\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t\t) < 50\n\t\t\t\t\t\t\t}"></div> </div> <small id="passwordConfirmationHelp" ng-class="[\n\t\t\t\t\t\t\t\'form-text\',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]"> {{ form.passwordConfirmation.$valid && $ctrl.password === $ctrl.passwordConfirmation ? \'Your passwords match.\' : \'Please verify your password.\' }} </small> </div> <button class="btn btn-primary" ng-disabled="form.$invalid ||\n\t\t\t\t\t\t$ctrl.password !== $ctrl.passwordConfirmation ||\n\t\t\t\t\t\t$ctrl.isInProgress" type="submit"> {{ $ctrl.isInProgress ? \'Resetting Password\' : \'Reset Password\' }} <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isInProgress"></span> </button> </fieldset> </form> </div> </layout-component> '}),t.$inject=["$cookies","$location","$rootScope","$window","Alerts","User","Utils"]}(),function(){function t(t,e){const i=this;i.numResults=0,i.productSlug=localized.settings.general.product_slug||"products",i.submit=function(n){i.isInProgress=!0;const r={q:n};e.list(r).then((e=>{i.products=e.data.product_briefs.map((t=>{return{url:`/${i.productSlug}/${t.slug}`,name:t.description,price:t.price,sku:t.sku,uom:t.uom,imageUrl:(e=t.images,e&&0!==e.length?Object.values(e)[0].thumb_url:"/wp-content/plugins/vendorfuel/assets/img/placeholder-150px.png")};var e})),i.numResults=e.data.num_results,i.numResults||t.warning(n?`No results found for '${n}'.`:"No results found.")})).catch((t=>{console.error(t)})).finally((()=>{i.isInProgress=!1}))}}n().module("vfApp").component("orderBySkuSearch",{controller:t,template:'<form role="search" ng-submit="$ctrl.submit($ctrl.q)"> <div class="input-group"> <input type="search" id="search" class="form-control" name="q" required ng-model="$ctrl.q"/> <button class="btn btn-outline-secondary" type="submit" ng-disabled="$ctrl.isInProgress"> Search </button> </div> </form> <div class="d-flex justify-content-center" ng-show="$ctrl.isInProgress"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="py-3" ng-hide="$ctrl.isInProgress || $ctrl.numResults === 0"> <p> Showing {{ $ctrl.numResults }} result{{ $ctrl.numResults > 1 ? \'s\' : \'\' }}. </p> <div class="list-group" ng-hide="$ctrl.isInProgress"> <a class="list-group-item list-group-item-action ps-0 py-0" ng-repeat="product in $ctrl.products" ng-href="{{ product.url }}"> <div class="row align-items-center"> <div class="col-2 col-lg-1 pe-0"> <div class="ratio ratio-1x1"> <img class="lazy" loading="lazy" style="object-fit:contain;object-position:center" ng-attr-alt="{{ product.name }}" ng-src="{{ product.imageUrl }}"/> </div> </div> <div class="col"> <div class="d-flex justify-content-between align-items-center"> <div> <p class="mb-0 text-break pe-3"> {{ product.name }} </p> <small> {{ product.price | currency }} <span class="font-italic" ng-if="product.uom"> /{{ product.uom }} </span> </small> </div> <div class="text-end text-break"> <small> <span>SKU:</span> <span>{{ product.sku }}</span> </small> </div> </div> </div> </div> </a> </div> </div> '}),t.$inject=["Alerts","Products"]}();const fo={template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{$ctrl.pageUrls.login}}">Sign In</a> or <a class="alert-link" ng-href="{{$ctrl.pageUrls.register}}">Create an Account</a> to view this page. </div> <div ng-if="$ctrl.isSignedIn"> <div ng-if="!$ctrl.orderId"> <form role="search" ng-submit="$ctrl.changeQuery( $ctrl.q )"> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isLoading"> <label for="search-orders" class="screen-reader-text">Search</label> <div class="input-group mb-3"> <button class="btn btn-outline-secondary" ng-click="$ctrl.isShowingFilters = !$ctrl.isShowingFilters"> {{ $ctrl.isShowingFilters ? \'Hide\' : \'Show\' }} Filters </button> <input type="search" id="search-orders" class="form-control" name="s" ng-model="$ctrl.q"/> <button type="submit" class="btn btn-outline-secondary">Search</button> </div> </fieldset> <div class="mb-3"> <label>Status:</label> <div class="form-check form-check-inline" ng-repeat="status in $ctrl.statuses"> <input class="form-check-input" type="radio" ng-model="$ctrl.status" ng-value="status" ng-change="$ctrl.changeStatus( status.status )" ng-attr-id="{{ status.label }}"/> <label class="form-check-label" ng-attr-for="{{ status.label }}">{{ status.label }}</label> </div> </div> <fieldset class="p-3 bg-light" ng-if="$ctrl.isShowingFilters"> <legend>Filters</legend> <div class="input-group"> <label for="search-orders-filter" class="input-group-text">Search for</label> <input type="search" id="search-orders-filter" class="form-control" name="filter" ng-model="$ctrl.filter.term"/> <label for="search-orders-filter-field" class="input-group-text">in</label> <select class="form-select" name="searchOrdersFilterField" id="search-orders-filter-field" ng-model="$ctrl.filter.field"> <optgroup ng-repeat="group in $ctrl.filterOptions" ng-attr-label="{{ group.label }}" ng-if="group.options"> <option ng-repeat="option in group.options" ng-value="option.field"> {{ option.label }} </option> </optgroup> <option ng-repeat="option in $ctrl.filterOptions" ng-value="option.field" ng-if="!option.options"> {{ option.label }} </option> </select> </div> </fieldset> </form> <table class="table"> <thead> <tr> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'order_id\' )">ID <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'order_id\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t}]"></span> </a> </th> <th>Total</th> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'order_date\' )">Date <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'order_date\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t}]"></span> </a> </th> <th> <a href="#" ng-click="$ctrl.changeSortBy( $event, \'status\' )">Status <span style="text-decoration:none" ng-if="$ctrl.params.orderBy === \'status\'" ng-class="[\'bi\', {\n\t\t\t\t\t\t\t\t\t\'bi-sort-up\': $ctrl.params.direction === \'asc\',\n\t\t\t\t\t\t\t\t\t\'bi-sort-down\': $ctrl.params.direction === \'desc\',\n\t\t\t\t\t\t\t\t}]"></span> </a> </th> </tr> </thead> <tbody> <tr ng-if="$ctrl.isLoading && ( !$ctrl.orders || !$ctrl.orders.total )"> <td colspan="4" class="has-text-align-center">Loading&hellip;</td> </tr> <tr class="table-info" ng-if="!$ctrl.isLoading && $ctrl.orders && !$ctrl.orders.total"> <td colspan="4" class="has-text-align-center">No results.</td> </tr> <tr ng-repeat="order in $ctrl.orders.data track by $index"> <td> <a href="#" ng-click="$ctrl.goToDetail( $event, order.order_id )" ng-if="!$ctrl.isLoading">{{ order.order_id }}</a> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <span ng-if="!$ctrl.isLoading">{{ order.total_amt | currency }}</span> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <span ng-if="!$ctrl.isLoading">{{ order.order_date | date:\'short\'}}</span> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> <td> <span ng-if="!$ctrl.isLoading" ng-class="[\'badge\',{\n\t\t\t\t\t\t\t\t\t\'text-bg-primary\': order.status === \'created\',\n\t\t\t\t\t\t\t\t\t\'text-bg-danger\': order.status === \'cancelled\',\n\t\t\t\t\t\t\t\t\t\'text-bg-warning\': order.status.includes(\'pending\'),\n\t\t\t\t\t\t\t\t\t\'text-bg-success\': order.status === \'completed\',\n\t\t\t\t\t\t\t\t}]">{{ order.status | uppercase }}</span> <span class="has-cyan-bluish-gray-color" ng-if="$ctrl.isLoading" aria-hidden="true">&hellip;</span> </td> </tr> </tbody> <caption ng-if="!$ctrl.isLoading && $ctrl.orders.total"> {{ $ctrl.orders.from | number }} to {{ $ctrl.orders.to | number }} of {{ $ctrl.orders.total | number }} items </caption> </table> <div class="alignwide wp-block-query-pagination d-flex justify-content-between" ng-if="$ctrl.pages && $ctrl.pages.length > 1"> <a href="#" class="wp-block-query-pagination-previous small" ng-click="$ctrl.changePage( $event, $ctrl.currentPage - 1 )" ng-if="$ctrl.currentPage !== 1">&laquo; Previous Page</a> <div class="wp-block-query-pagination-numbers"> <span ng-repeat="page in $ctrl.pages track by $index"> <span class="page-numbers current" aria-current="page" ng-if="$ctrl.currentPage === page"> {{ page }} </span> <a class="page-numbers" href="#" ng-click="$ctrl.changePage( $event, page )" ng-if="$ctrl.showPage( page, $ctrl.currentPage, $ctrl.pages.length)">{{ page }}</a> <span ng-if="$ctrl.showEllipse( page, $ctrl.currentPage, $ctrl.pages.length)"> <span class="page-numbers dots">&hellip;</span> </span> </span></div> <a href="#" class="wp-block-query-pagination-next small" ng-click="$ctrl.changePage( $event, $ctrl.currentPage + 1 )" ng-if="$ctrl.currentPage !== $ctrl.pages.length">Next Page &raquo;</a> </div> </div> <orders-detail ng-if="$ctrl.orderId" order-id="$ctrl.orderId"> </orders-detail> </div> </layout-component> ',controller:class{static $inject=["$location","$rootScope","User","Utils"];filter={term:"",field:""};filterOptions=[{label:"Shipping",options:[{label:"First Name",field:"first_name",type:"string"},{label:"Last Name",field:"last_name",type:"string"},{label:"Street Address",field:"address1",type:"string"},{label:"Apt., Suite, etc.",field:"address2",type:"string"},{label:"City",field:"city",type:"string"},{label:"State",field:"state",type:"string"},{label:"Zip Code",field:"zip",type:"string"},{label:"Email",field:"email",type:"string"},{label:"Phone",field:"phone",type:"string"}]},{label:"Billing",options:[{label:"Billing First Name",field:"bill_first_name",type:"string"},{label:"Billing Last Name",field:"bill_last_name",type:"string"},{label:"Billing Address",field:"bill_address1",type:"string"},{label:"Billing Apt., Suite, etc.",field:"bill_address2",type:"string"},{label:"Billing City",field:"bill_city",type:"string"},{label:"Billing State",field:"bill_state",type:"string"},{label:"Billing Zip Code",field:"bill_zip",type:"string"},{label:"Billing Email",field:"bill_email",type:"string"},{label:"Billing Phone",field:"bill_phone",type:"string"}]},{label:"Additional Checkout Fields",options:[{label:"Company/Organization",field:"organization",type:"string"},{label:"Purchase Order Number",field:"rr_po_num",type:"string"},{label:"Issuing Office",field:"issuing_office",type:"string"},{label:"Cost Center Code",field:"cost_center_code",type:"string"},{label:"Attention",field:"attention",type:"string"}]},{label:"Approver",field:"approver",type:"string"},{label:"Order Prefix",field:"order_prefix",type:"string"},{label:"Promo Codes applied",field:"promo_codes",type:"string"},{label:"Shipping Carrier",field:"shipping_carrier",type:"string"},{label:"Status",field:"status",type:"string"},{label:"Tracking Code",field:"tracking_code",type:"string"}];pageLimit=3;q="";constructor(t,e,i,n){this.$location=t,this.$rootScope=e,this.User=i,this.Utils=n}$onInit(){this.isSignedIn=this.User.isAuthed&&this.User.email,this.pageUrls={login:this.Utils.getPageUrl("login",{redirect_to:this.$location.path()}),register:this.Utils.getPageUrl("register")},this.params={orderBy:"order_date",direction:"desc"},this.orderId=this.$location.search().id,this.statuses=[{label:"All",status:""},{label:"Completed",status:"completed"},{label:"Pending Approval",status:"pending-approval"},{label:"Cancelled",status:"cancelled"}],this.status=this.statuses[0],this.listenForLocationChange(),this.isSignedIn&&!this.orderId&&this.getOrders()}changePage(t,e){t.preventDefault(),this.params.page=e,this.getOrders()}changeQuery(t){this.params.q=t,this.filter.field&&this.filter.term&&this.isShowingFilters?this.params.filters=[{field:this.filter.field,term:this.filter.term}]:"filters"in this.params&&delete this.params.filters,this.params.page=1,this.getOrders()}changeSortBy(t,e){t.preventDefault(),this.params.orderBy===e&&(this.params.direction="desc"===this.params.direction?"asc":"desc"),this.params.orderBy=e,this.getOrders()}changeStatus(t){this.params.status=t,this.getOrders()}getOrders(){this.isLoading=!0,this.User.listOrders(this.params).then((t=>t.data)).then((t=>{this.orders=t.orders,this.pages=this.getPagination(t.orders.last_page),this.currentPage=t.orders.current_page,this.isLoading=!1}))}goToDetail(t,e){t.preventDefault(),this.orderId=e,this.$location.search("id",e)}listenForLocationChange(){this.$rootScope.$on("$locationChangeStart",(()=>{this.orderId=this.$location.search().id,this.isSignedIn&&!this.orderId&&this.getOrders()}))}getPagination(t){const e=new Array(t);for(let i=0;i<t;i++)e[i]=i+1;return e}showEllipse(t,e,i){return 1===t&&e>this.pageLimit+1||t===i-1&&e<i-this.pageLimit||void 0}showPage(t,e,i){if(t!==e){if(1===t||t===i)return!0;if(t<e+this.pageLimit&&t>e-this.pageLimit)return!0}}}},vo={bindings:{orderId:"<"},template:'<h2>Order Details</h2> <a href="#" ng-click="$ctrl.goToIndex( $event )"> Go back to Orders </a> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="!$ctrl.isLoading"> <div> <h3>Summary</h3> <table class="table"> <thead> <tr> <th>Order ID</th> <th>Date</th> <th>Status</th> <th class="text-end">Subtotal</th> <th class="text-end">Total</th> </tr> </thead> <tbody> <tr> <td>{{ $ctrl.order.order_id }}</td> <td> <time ng-attr-datetime="{{ $ctrl.order.order_date_time }}"> {{ $ctrl.order.order_date_time | date:\'short\' }} </time> </td> <td> <strong> <span ng-class="{\n\t\t\t\t\t\t\t\t\t\'has-very-dark-gray-color\': $ctrl.order.status === \'created\',\n\t\t\t\t\t\t\t\t\t\'has-vivid-red-color\': $ctrl.order.status === \'cancelled\',\n\t\t\t\t\t\t\t\t\t\'has-luminous-vivid-orange-color\': $ctrl.order.status.includes(\'pending\'),\n\t\t\t\t\t\t\t\t\t\'text-success\': $ctrl.order.status === \'completed\',\n\t\t\t\t\t\t\t\t}"> {{ $ctrl.order.status | uppercase }} </span> </strong> </td> <td class="text-end"> {{ $ctrl.order.subtotal | currency }} </td> <td class="text-end"> {{ $ctrl.order.total_amt | currency }} </td> </tr> </tbody> </table> <div class="btn-toolbar justify-content-center"> <button class="btn btn-primary" ng-click="$ctrl.sendOrderEmail( $ctrl.order.order_id )" ng-disabled="$ctrl.isSendingEmail"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isSendingEmail"></span> {{ $ctrl.isSendingEmail ? \'Sending\' : \'Send\'}} Order Email </button> <a class="btn btn-secondary ms-2" ng-if="$ctrl.order.approver" ng-href="mailto:{{ $ctrl.order.approver }}"> Email Approver </a> </div> </div> <div class="card my-3"> <h3 class="card-header h5">Items</h3> <div class="card-body"> To add a previously ordered item to your cart at the current price, click the Add to Cart button. Price and availability are subject to change from any previous order. </div> <ul class="list-group list-group-flush"> <li class="list-group-item" ng-repeat="item in $ctrl.order.items track by $index"> <order-details-list-item item="item" status="$ctrl.order.status"> </order-details-list-item> </li> </ul> </div> <div class="card mb-3" ng-if="$ctrl.order.shipments.length"> <h3 class="card-header h5">Tracking</h3> <div class="card-body"> <table class="table"> <thead> <tr> <th scope="col">Carrier</th> <th scope="col">Tracking #</th> </tr> </thead> <tbody> <tr ng-repeat="shipment in $ctrl.order.shipments"> <td>{{shipment.carrier || \'N/A\'}}</td> <td> <span ng-if="shipment.code"> <a ng-if="shipment.tracking_url" target="_blank" href="{{shipment.tracking_url}}">{{shipment.code}}</a> <a ng-if="!shipment.tracking_url" target="_blank" href="https://google.com/search?q={{shipment.code}}">{{shipment.code}}</a> </span> <span ng-if="!shipment.code"> N/A </span> </td> </tr> </tbody> </table> </div> </div> <div> <div class="row"> <div class="col"> <h3>Shipping</h3> <h4 ng-if="$ctrl.order.shipping_name"> {{ $ctrl.order.shipping_name }} </h4> <p> {{ $ctrl.order.shipping.first_name }} {{ $ctrl.order.shipping.last_name }}<br/> {{ $ctrl.order.shipping.email }}<br ng-if="$ctrl.order.shipping.phone"/> {{ $ctrl.order.shipping.phone | tel }}<br/> {{ $ctrl.order.shipping.address1 }}<br ng-if="$ctrl.order.shipping.address2"/> {{ $ctrl.order.shipping.address2 }}<br/> {{ $ctrl.order.shipping.city }}, {{ $ctrl.order.shipping.state }} {{ $ctrl.order.shipping.zip }} </p> </div> <div class="col"> <h3>Billing</h3> <h4 ng-if="$ctrl.order.billing_name"> {{ $ctrl.order.billing_name }} </h4> <p> {{ $ctrl.order.billing.first_name }} {{ $ctrl.order.billing.last_name }}<br/> {{ $ctrl.order.billing.email }}<br ng-if="$ctrl.order.billing.phone"/> {{ $ctrl.order.billing.phone | tel }}<br/> {{ $ctrl.order.billing.address1 }}<br ng-if="$ctrl.order.billing.address2"/> {{ $ctrl.order.billing.address2 }}<br/> {{ $ctrl.order.billing.city }}, {{ $ctrl.order.billing.state }} {{ $ctrl.order.billing.zip }} </p> </div> </div> </div> <div ng-if="$ctrl.hasAdditionalInfo"> <h3>Additional Information</h3> <table class="table"> <tbody> <tr ng-if="item.value || item.value === 0" ng-repeat="item in $ctrl.additionalInfo track by $index"> <th scope="row" class="text-end">{{ item.name }}</th> <td>{{ item.value }}</td> </tr> </tbody> </table> </div> <div class="card mb-3"> <h3 class="card-header h5">Payment</h3> <div class="card-body"> <p class="card-text" ng-if="$ctrl.order.credit_line"> This order was placed with a credit line. </p> <p class="card-text" ng-if="$ctrl.order.credit_card.length > 0"> This order was placed with a credit card ending in: {{ $ctrl.order.credit_card }} </p> <div ng-if="$ctrl.order.promo_codes && !$ctrl.order.status.includes(\'pending\')"> Promo Code(s) Applied: <span ng-repeat="promo in $ctrl.order.promo_codes">{{promo.code}} ({{promo.discount | percentage: 0}})</span> </div> <dl class="row"> <dt class="col-sm-3" ng-if="$ctrl.order.shipping_carrier"> Shipping Carrier </dt> <dd class="col-sm-9" ng-if="$ctrl.order.shipping_carrier"> {{ $ctrl.order.shipping_carrier }} </dd> <dt class="col-sm-3" ng-if="$ctrl.order.tracking_code"> Tracking Code </dt> <dd class="col-sm-9" ng-if="$ctrl.order.tracking_code"> {{ $ctrl.order.tracking_code }} </dd> </dl> <table class="table"> <tbody> <tr ng-if="$ctrl.order.subtotal"> <th scope="row">Subtotal</th> <td class="text-end"> {{ $ctrl.order.subtotal | currency }} </td> </tr> <tr ng-if="$ctrl.order.subtotal"> <th scope="row">Discount</th> <td class="text-end"> {{ $ctrl.order.promo_discount | currency }} </td> </tr> <tr ng-if="$ctrl.order.subtotal"> <th scope="row">Shipping</th> <td class="text-end"> {{ $ctrl.order.shipping_total | currency }} </td> </tr> <tr ng-if="$ctrl.order.subtotal"> <th scope="row">Tax</th> <td class="text-end"> {{ $ctrl.order.tax | currency }} </td> </tr> </tbody> <tfoot> <tr ng-if="$ctrl.order.total_amt"> <th scope="row">Total Amount</th> <td class="text-end"> {{ $ctrl.order.total_amt | currency }} </td> </tr> </tfoot> </table> </div> </div> <order-shipments shipments="$ctrl.order.shipments"></order-shipments> <order-change-logs ng-if="$ctrl.order.logs.length" logs="$ctrl.order.logs"></order-change-logs> </div> ',controller:class{static $inject=["$location","User"];constructor(t,e){this.$location=t,this.User=e}$onInit(){this.getOrder()}checkAdditionalInfo(t){if(t.rr_po_num||t.organization||t.issuing_office||t.cost_center_code||t.attention||t.notes||t.approver_notes||t.custom_fields.f1.value||t.custom_fields.f2.value||t.custom_fields.f3.value||t.custom_fields.f4.value||t.custom_fields.f5.value||t.custom_fields.f6.value)return!0}getAdditionalInfo(t){const e={},i={attention:"Attention",approver_notes:"Approver Notes",cost_center_code:"Cost Center Code",issuing_office:"Issuing Office",notes:"Notes",organization:"Company/Organization Name",rr_po_num:"Purchase Order Number"};for(const n of Object.keys(i))t[n]&&(e[n]={name:i[n],value:t[n]});for(const[i,n]of Object.entries(t.custom_fields))n.value&&(n.replace_field&&e[i]?e[i]={name:n.name,value:n.value,isReplacingField:!0}:e[i]={name:n.name,value:n.value});return e}getOrder(){this.isLoading=!0,this.User.viewOrder(this.orderId).then((t=>t.data)).then((t=>{this.order=t.order,this.hasAdditionalInfo=this.checkAdditionalInfo(this.order),this.additionalInfo=this.getAdditionalInfo(this.order),this.isLoading=!1}))}goToIndex(t){t.preventDefault(),this.$location.search("id",null),this.orderId=null}sendOrderEmail(t){this.isSendingEmail=!0,this.User.sendOrderEmail(t).then((()=>{this.isSendingEmail=!1}))}}},bo={bindings:{shipments:"<"},template:'<section ng-if="$ctrl.shipments.length"> <h3>Shipments</h3> <table class="table mb-3" ng-repeat="shipment in $ctrl.shipments track by $index"> <tbody> <tr> <th class="text-nowrap" scope="row">Shipment Date</th> <td> <time ng-attr-datetime="{{ shipment.shipment_date }}"> {{ shipment.shipment_date | date: \'short\' }} </time> </td> </tr> <tr> <th class="text-nowrap" scope="row">Carrier</th> <td> {{ shipment.carrier }} </td> </tr> <tr> <th class="text-nowrap" scope="row">Tracking Code</th> <td> {{ shipment.code }} </td> </tr> <tr> <th class="text-nowrap" scope="row">Items</th> <td class="pe-0"> <table class="table"> <thead> <tr> <th>Product</th> <th> <abbr title="Stock Keeping Unit">SKU</abbr> </th> <th> <abbr title="Quantity">QTY</abbr> Shipped </th> </tr> </thead> <tbody> <tr ng-repeat="item in shipment.items track by $index"> <td>{{ item.product.description }}</td> <td>{{ item.product.sku }}</td> <td>{{ item.shipped.qty }}</td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </section> ',controller:class{$onChanges(){this.shipments&&!Array.isArray(this.shipments)&&(this.shipments=Object.values(this.shipments))}}};n().module("vfApp").component("ordersIndex",fo).component("ordersDetail",vo).component("orderChangeLogs",{bindings:{logs:"<"},template:"<h3>Order Change Logs</h3> <dl> <dt ng-repeat-start=\"log in $ctrl.logs\"> SKU: {{ log.product.sku }} {{ log.pa_type === 'PA001' ? 'Price change' : log.pa_type === 'PA002' ? 'Stock availability change' : 'Product discontinued' }} </dt> <dd ng-repeat-end> <span ng-if=\"log.pa_type === 'PA001'\"> Original: <s>{{ log.original | currency }}</s>. Updated: <em>{{ log.returned | currency }}</em>. </span> <span ng-if=\"log.pa_type === 'PA002'\"> Original: <s>{{ log.original | number }}</s>. Updated: <em>{{ log.returned | number }}</em>. </span> <br/> {{ log.action === 'removed' ? 'Item removed' : 'Change confirmed' }} by {{ log.customer.name }} <time ng-attr-datetime=\"{{ log.updated_at }}\">{{ log.updated_at | date:'short' }}</time>. </dd> </dl> ",controller:class{}}).component("orderShipments",bo),i(8081),n().module("vfApp").component("productDetailAlternateList",{bindings:{products:"<"},controller:function(){this.productSlug=localized.settings.general.productSlug||"products"},template:'<div class="dropdown"> <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Alternates </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"> <a class="dropdown-item text-wrap text-decoration-none" ng-repeat="product in $ctrl.products" ng-href="/{{ $ctrl.productSlug }}/{{ product.slug }}"> {{ product.description }} </a> </div> </div> '}),n().module("vfApp").component("productDetailBreadcrumb",{template:'<nav aria-label="breadcrumb"> <ol class="breadcrumb mt-3 d-md-none"> <li class="breadcrumb-item active" ng-repeat="item in $ctrl.list track by $index" ng-if="$last"> <a ng-href="{{ item.link }}">{{ item.title }}</a> </li> </ol> <ol class="breadcrumb mt-3 d-none d-md-flex"> <li ng-attr-aria-current="{{ $last && \'page\' }}" ng-class="[\'breadcrumb-item\', { active: $last }]" ng-repeat="item in $ctrl.list track by $index"> <a ng-href="{{ item.link }}">{{ item.title }}</a> </li> </ol> </nav> ',bindings:{breadcrumb:"<"},controller:function(){const t=this;t.$onInit=function(){t.list=function(t){const e=[{title:"Catalog",link:"/catalog"}];return n().forEach(t,(function(t){e.push({title:t.title,link:`/categories/${t.slug}`})})),e}(t.breadcrumb)}}}),function(){function t(t,e){const i=this;i.showPrompt=!1,i.toggleFavorite=function(){const e={product_id:i.product.product_id};i.user.isAuthed?i.isFavorite?t.removeFavorite(e).then((function(){i.isFavorite=!1})):t.addFavorite(e).then((function(){i.isFavorite=!0})):i.showPrompt=!0},i.user={isAuthed:e.isAuthed},i.$onInit=function(){i.isFavorite=i.product.favorite||!1}}n().module("vfApp").component("productDetailFavoriteButton",{template:"<button class=\"btn btn-outline-danger border-0\" ng-click=\"$ctrl.toggleFavorite()\" ng-attr-title=\"{{ $ctrl.isFavorite ? 'Remove from' : 'Add to' }} favorites\"> <i ng-class=\"{\n\t\t\t'bi bi-heart-fill': $ctrl.isFavorite,\n\t\t\t'bi bi-heart': !$ctrl.isFavorite\n\t\t}\"></i> </button> ",bindings:{product:"<"},controller:t}),t.$inject=["Cart","User"]}(),i(9935),function(){function t(t,e,i,n){const r=this;function s(){r.isLoading=!0;const{productId:t}=r;n.get({productId:t,page:r.page}).$promise.then((t=>{const{reviews:e}=t;var i;r.reviews=e,r.getReviewTotal({total:r.reviews.total}),r.histogram=[(i=r.reviews).five_star_total,i.four_star_total,i.three_star_total,i.two_star_total,i.one_star_total].map(((t,e)=>({stars:e+1,total:Number(t),percentage:Number(t)/Number(i.total)*100}))),r.isLoading=!1}))}r.$onInit=function(){r.isSignedIn=e.isAuthed&&e.email,r.pageUrls={contact:i.getPageUrl("contact"),login:i.getPageUrl("login",{redirect_to:t.path()}),register:i.getPageUrl("register")},r.page=1,s()},r.changePage=function(t,e){e.preventDefault(),r.page=t,s()},r.createReview=function(){r.isWritingReview=!0,r.review=new n({display_name:e.name,email:e.email,rating:5})},r.submitReview=function(){r.isSubmittingReview=!0;const{productId:t}=r;r.review.$save({productId:t}).then((t=>{r.isSubmittingReview=!1,r.reviewSubmitted=!0}))}}n().module("vfApp").component("productDetailReviews",{bindings:{averageRating:"<",getReviewTotal:"&",productId:"<"},controller:t,template:'<h2>Customer Reviews</h2> <bs-spinner ng-if="$ctrl.isLoading"> </bs-spinner> <div class="row" ng-if="!$ctrl.isLoading"> <div class="col-md-4"> <product-rating ng-if="$ctrl.averageRating" rating="$ctrl.averageRating"> </product-rating> <div class="container-fluid my-3 rating-histogram" ng-if="$ctrl.averageRating"> <div class="row mb-2" ng-repeat="rating in $ctrl.histogram track by $index"> <div class="col-auto"> {{ rating.stars }} <i class="bi bi-star-fill has-luminous-vivid-amber-color"></i> </div> <div class="col"> <div class="progress"> <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{\'width\': rating.percentage+\'%\'}" ng-attr-aria-label="Percentage of users who rated this product {{ rating.stars }} stars." ng-attr-aria-valuenow="{{ rating.percentage | number:0 }}"> {{ rating.percentage | number:0 }}{{ rating.percentage ? \'%\' : \'\' }} </div> </div> </div> <div class="col-auto">{{ rating.total }}</div> </div> </div> <button class="btn btn-secondary" ng-if="!$ctrl.isWritingReview" ng-click="$ctrl.createReview()"> Write a Review </button> </div> <div class="col-md-8"> <div id="writeReview" ng-class="[\'collapse\', {\n                \'show\': $ctrl.isWritingReview\n            }]"> <h3>Write a Review</h3> <div ng-if="!$ctrl.isSignedIn"> <div class="alert alert-info"> You must be <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">signed in</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">register a new account</a> to add a review. </div> <a class="btn btn-secondary" ng-href="{{ $ctrl.pageUrls.login }}"> Sign In for Review </a> </div> <form id="formReview" name="form" ng-if="$ctrl.isSignedIn"> <div class="p-0" ng-if="!$ctrl.reviewSubmitted"> <div class="mb-3"> <label for="reviewName" class="form-label">Name</label> <input type="text" name="display_name" id="displayName" required maxlength="200" ng-class="[\'form-control\', {\n                                \'is-invalid\':form.display_name.$invalid && form.display_name.$touched\n                            }]" ng-model="$ctrl.review.display_name"/> <div class="invalid-feedback"> Please enter your name. </div> </div> <div class="mb-3"> <label for="reviewRating" class="form-label">Rating</label> <span> <i ng-class="[\'bi ms-1\', {\n\t\t\t\t\t\t\t\t\'bi-star\': $ctrl.review.rating < star,\n\t\t\t\t\t\t\t\t\'bi-star-fill has-luminous-vivid-amber-color\': $ctrl.review.rating >= star,\n\t\t\t\t\t\t\t}]" ng-repeat="star in [1,2,3,4,5] track by $index"></i> <span class="ms-1">{{ $ctrl.review.rating }} of 5 stars</span> </span> <input class="form-control-range" type="range" name="rating" id="rating" min="1" max="5" ng-model="$ctrl.review.rating"/> </div> <div class="mb-3"> <label for="reviewTitle" class="form-label">Title</label> <input type="text" name="title" id="reviewTitle" placeholder="Review title" required maxlength="200" ng-class="[\'form-control\', {\n                                \'is-invalid\':form.title.$invalid && form.title.$touched\n                            }]" ng-model="$ctrl.review.title"/> <div class="invalid-feedback"> Please enter a title for your review. </div> </div> <div class="mb-3"> <label for="reviewContent" class="form-label">Review</label> <textarea name="content" id="reviewContent" placeholder="Please tell us your thoughts in 15-300 characters." required ng-class="[\'form-control\',{\n                                \'is-invalid\':form.content.$invalid && form.content.$touched\n                            }]" ng-model="$ctrl.review.content" ng-minlength="15" ng-maxlength="300">\n\t\t\t\t\t\t</textarea> <div class="invalid-feedback"> Please enter your review details in 15-300 characters. </div> </div> <div class="mb-3"> <button class="btn btn-primary" ng-disabled="form.$invalid || $ctrl.reviewSubmitted || $ctrl.isSubmittingReview" ng-click="$ctrl.submitReview()"> {{ $ctrl.isSubmittingReview ? \'Submitting\' : \'Submit\' }} Review </button> </div> </div> </form> <alert-list ng-if="$ctrl.reviewSubmitted"> </alert-list> <wp-spacer height-in-pixels="50"></wp-spacer> </div> <div ng-if="!$ctrl.reviews.total && !$ctrl.isWritingReview"> <p>Be the first to add a review for this product!</p> </div> <wp-latest-comments comments="$ctrl.reviews.data" ng-if="$ctrl.reviews.total"> </wp-latest-comments> <div class="page-links" ng-if="$ctrl.reviews.last_page > 1"> Pages: <span ng-repeat="x in [].constructor($ctrl.reviews.last_page) track by $index"> <a href="#" class="post-page-numbers text-decoration-none" ng-click="$ctrl.changePage($index + 1, $event)" ng-if="$ctrl.reviews.current_page !== ( $index + 1 )"> {{ $index + 1 }} </a> <span class="post-page-numbers current" aria-current="page" ng-if="$ctrl.reviews.current_page === ( $index + 1 )"> {{ $index + 1 }} </span> </span> </div> </div> </div> '}),t.$inject=["$location","User","Utils","ProductReview"]}(),n().module("vfApp").component("productRating",{bindings:{rating:"<"},controller:function(){const t=this;t.ratingTotal=5,t.getRepeater=function(){return new Array(t.ratingTotal)}},template:'<p class="product-rating"> <i aria-hidden="true" ng-repeat="r in $ctrl.getRepeater() track by $index" ng-class="\n\t\t\t$ctrl.rating >= $index + 1\n\t\t\t\t? \'bi-star-fill has-luminous-vivid-amber-color\'\n\t\t\t\t: $ctrl.rating >= $index + 0.5\n\t\t\t\t? \'bi-star-half has-luminous-vivid-amber-color\'\n\t\t\t\t: \'bi-star\'\n\t\t"> </i> <span class="ms-1">{{ $ctrl.rating | number }} out of {{ $ctrl.ratingTotal }}</span> </p> '});const $o={bindings:{documents:"<"},template:'<div class="wp-block-file" ng-repeat="document in $ctrl.documents track by $index"> <i aria-hidden="true" class="bi bi-box-arrow-up-right" ng-if="!document.extension"></i> <i aria-hidden="true" ng-class="[\'bi\', document.extIconClass]" ng-if="document.extension"></i> <a target="_blank" ng-href="{{ document.url }}" rel="noreferrer noopener">{{ document.name }}</a> <a class="wp-block-file__button" target="_blank" download ng-href="{{ document.url }}" ng-if="document.extension"> <i class="bi bi-download me-1" aria-hidden="true"></i>Download</a> </div> ',controller:class{$onInit(){this.documents=this.documents.map((t=>({name:t.name,url:new URL(t.url),extension:t.extension.toLowerCase(),extIconClass:this.getExtIconClass(t.extension.toLowerCase())})))}getExtIconClass(t){switch(t){case"png":case"jpg":case"gif":case"webp":return"bi-file-earmark-image-fill";case"doc":case"docx":case"rtf":case"txt":return"bi-file-earmark-text-fill";case"ppt":case"pptx":return"bi-file-earmark-slides-fill";case"pdf":return"bi-file-earmark-pdf-fill";case"csv":case"xls":case"xlsx":return"bi-file-earmark-spreadsheet-fill";case"zip":return"bi-file-earmark-zip-fill"}}}},yo={bindings:{products:"<"},template:'<section> <div class="d-flex justify-content-between align-items-baseline mb-2"> <h2>{{ $ctrl.title }}</h2> <div class="btn-group" role="group"> <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" ng-model="$ctrl.viewAs" value="grid" checked="checked"/> <label class="btn btn-outline-primary" for="btnradio1">Grid</label> <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" ng-model="$ctrl.viewAs" value="list"/> <label class="btn btn-outline-primary" for="btnradio2">List</label> </div> </div> <div ng-class="\n\t\t\t$ctrl.viewAs === \'grid\'\n\t\t\t\t? \'row g-2 row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 mb-1\'\n\t\t\t\t: \'list-group mb-3\'\n\t\t"> <div ng-class="\n\t\t\t\t$ctrl.viewAs === \'grid\' ? \'col mb-2\' : \'list-group-item p-0\'\n\t\t\t" ng-repeat="product in $ctrl.products | limitTo: $ctrl.limit track by $index"> <product-list-item view-as="$ctrl.viewAs" product="product"> </product-list-item> </div> </div> <div class="btn-toolbar justify-content-center" ng-if="$ctrl.products.length > $ctrl.min"> <button class="btn btn-secondary btn-sm" ng-click="$ctrl.toggleShowMore()"> Show {{ $ctrl.limit === $ctrl.min ? \'more\' : \'fewer\' }} {{ $ctrl.title | lowercase }} </button> </div> </section> ',controller:class{max=100;min=5;viewAs="grid";constructor(){this.title=localized.settings.general.relatedProductsTitle||"Related products"}$onInit(){this.limit=this.min}toggleShowMore(){this.limit=this.limit===this.min?this.max:this.min}}};n().module("vfApp").component("productDocuments",$o).component("productRelated",yo),function(){function t(t,e,i){const n=this;function r(){n.loadingText="Getting Punchout suppliers...",n.isLoading=!0,t.listSuppliers().then((t=>t.data)).then((t=>{n.suppliers=t.suppliers,n.isLoading=!1}))}n.$onInit=function(){n.isLoading=!0,n.loadingText="Checking shipping profiles...",e.getProfiles().then((t=>t.data)).then((t=>{Object.entries(t.shipping_addresses).length?(n.hasShippingProfiles=!0,r()):(n.hasNoShippingProfiles=!0,n.isLoading=!1)}))},n.getSuppliers=r,this.punchoutToPartner=e=>{const n=i.getPageUrl("punchout-return");this.isLoadingPunchout=!0,t.supplierRequest(e,n)}}n().module("vfApp").component("punchoutSuppliers",{controller:t,template:'<vf-spinner text="{{ $ctrl.loadingText }}" ng-show="$ctrl.isLoading"> </vf-spinner> <welcome-shipping-address ng-if="$ctrl.hasNoShippingProfiles" on-change="$ctrl.getSuppliers()"> </welcome-shipping-address> <p class="has-text-align-center has-medium-font-size" ng-if="$ctrl.suppliers.length"> Our valued available trading partners: </p> <div class="d-flex flex-column" ng-repeat="supplier in $ctrl.suppliers" ng-hide="$ctrl.isLoading"> <button class="btn btn-lg p-3 border shadow-sm" ng-attr-title="{{supplier.name}}" ng-click="$ctrl.punchoutToPartner(supplier.id)"> <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-if="$ctrl.isLoadingPunchout"> </span> {{ !supplier.logo ? supplier.name : \'\' }} <img class="img-fluid center-block lazy" loading="lazy" ng-if="supplier.logo" ng-src="{{ supplier.logo }}"/> <br/> <span class="small">Shop business supplies here</span> </button> </div> '}),t.$inject=["Punchout","User","Utils"]}(),function(){function t(t,e,i,n,r){this.hasAPIKey=localized.settings.general.api_key;const s=this;s.alertsList=i.list,s.documents=[],s.confirmPasswordStrength=0,this.form={},s.formPatterns={name:/^[a-zA-Z\u00C0-\u00FF ]{4,30}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,password:/(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}/},s.hasForcedRole=localized.settings.store.options["Force Role"],s.isAccountCreated=!1,s.isEmailConfirmed=!1,s.isPasswordConfirmed=!1,s.isSignedIn=n.isAuthed&&!n.isGuest,s.passwordStrength=0,s.pageUrls={account:r.getPageUrl("account"),catalog:r.getPageUrl("catalog"),home:r.getPageUrl("home")},s.referrer=r.urlParser.param("referrer"),this.$onInit=()=>{this.checkVerification(t.search()),!s.isSignedIn&&this.hasAPIKey&&(s.isLoading=!0,this.customerRole?this.getRole(this.customerRole):this.getRoles())},this.attachFile=t=>{const i=Number(t.id.replace("doc-","")),n=t.files[0];e.$apply((()=>{s.documents[i]=n,this.form.documents.forEach(((t,e)=>{t.id===i&&(this.form.documents[e].fileDetails={name:n.name,size:Math.round(n.size/1e3),type:n.type})}))}))},this.checkVerification=t=>{this.isVerifying="auth"in t&&"code"in t,this.pageTitle=this.isVerifying?"Account Verification":"Register",this.isVerifying&&n.verifyEmail(t.auth,t.code).then((t=>{t.data.errors.length?this.isNotVerified=!0:this.isVerified=!0}))},this.getRole=t=>{n.role(t).then((t=>t.data)).then((t=>{this.form.role=t.role,this.form.documents=t.role.documents,s.documents=[],s.isLoading=!1}))},this.getRoles=()=>{n.roles().then((t=>t.data)).then((t=>{s.roles=t.roles,s.isLoading=!1}))},this.onChangeRole=()=>{const t=s.roles.find((t=>t.id===this.form.role.id));this.form.documents=t?t.documents:[],s.documents=[]},this.onSubmit=()=>{this.isSubmitting=!0;const t=new FormData;Object.entries(this.form).forEach((e=>{const[i,n]=e;n&&"documents"!==i&&"role"!==i&&t.append(i,n)})),this.form.role&&t.set("role",this.form.role.id),s.documents.forEach(((e,i)=>{t.append("documents["+i+"]",e)})),t.append("verification_return_url",r.getPageUrl("register")),n.register(t).then((t=>t.data)).then((t=>{0===t.errors.length&&(s.isAccountCreated=!0),this.isSubmitting=!1})).catch((t=>{console.error("Error: ",t)}))},this.confirmEmails=(t,e)=>{s.isEmailConfirmed=t.$viewValue.toLowerCase()===e.$viewValue.toLowerCase()},this.confirmPasswords=(t,e)=>{s.isPasswordConfirmed=t===e},this.getPasswordStrength=t=>{const e=t.$viewValue;let i=0;return e&&(e.length>0&&(i+=20),e.length>=8&&(i+=20),e.match(/[A-Z]+/)&&(i+=20),e.match(/\d+/)&&(i+=20),e.match(/[!@#$%^&*-]+/)&&(i+=20)),i},this.onClickResend=()=>{this.isVerifying=!0,this.isNotVerified=!0},this.onClickSignOut=t=>{t.preventDefault(),s.isSigningOut=!0,n.logout().then((()=>{window.location.href="/"}))},this.submitVerificationForm=t=>{this.isSubmitting=!0;const e=r.getPageUrl("register");n.resendVerificationEmail(t,e).then((()=>{this.isSubmitting=!1,this.isSubmitted=!0}))}}n().module("vfApp").component("vfRegistrationForm",{bindings:{customerRole:"<?"},template:'<layout-component> <header class="pb-3" ng-if="$ctrl.pageTitle"> <h1 class="has-text-align-center py-3 border-bottom"> {{ $ctrl.pageTitle }} </h1> </header> <div class="alert alert-info" role="alert" ng-if="$ctrl.isSignedIn && !$ctrl.isVerifying"> You are already signed in. Please go to your <a class="alert-link" ng-href="{{ $ctrl.pageUrls.account }}">Account</a> page or <a href="#" class="alert-link" ng-click="$ctrl.onClickSignOut($event)">Sign Out</a> to register a different account. </div> <div class="d-flex justify-content-center" ng-if="$ctrl.isLoading && !$ctrl.isSignedIn"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <form name="form" class="needs-validation mb-3" novalidate ng-hide="\n\t\t\t$ctrl.isLoading ||\n\t\t\t$ctrl.isSignedIn ||\n\t\t\t$ctrl.isAccountCreated ||\n\t\t\t$ctrl.isVerifying\n\t\t"> <div class="mb-3"> <label for="name" class="form-label">Name</label> <input type="text" class="form-control" id="name" name="name" autocomplete="name" required ng-model="$ctrl.form.name" ng-minlength="2" ng-pattern="$ctrl.formPatterns.name" ng-class="{\n\t\t\t\t\t\'is-valid\': form.name.$valid,\n\t\t\t\t\t\'is-invalid\': form.name.$invalid && form.name.$touched\n\t\t\t\t}"/> <small class="invalid-feedback">Please enter your name.</small> </div> <div class="row"> <div class="mb-3 col-md"> <label for="name" class="form-label">Company/Organization</label> <input type="text" class="form-control" id="company" name="company" autocomplete="organization" ng-model="$ctrl.form.company"/> </div> <div class="mb-3 col-auto" ng-if="$ctrl.roles.length"> <label for="role" class="form-label">Role</label> <select class="form-control" id="role" name="role" ng-model="$ctrl.form.role" ng-required="$ctrl.hasForcedRole" ng-change="$ctrl.onChangeRole()" ng-class="{\n\t\t\t\t\t\t\'is-valid\': form.role.$valid && $ctrl.form.role.id,\n\t\t\t\t\t\t\'is-invalid\': form.role.$invalid && form.name.$touched\n\t\t\t\t\t}" ng-options="role as role.name for role in $ctrl.roles track by role.id"></select> <small class="invalid-feedback">Please select a role.</small> </div> </div> <div class="row"> <div class="mb-3 col-md"> <label for="email" class="form-label">Email</label> <input type="email" class="form-control" placeholder="name@example.com" id="email" name="email" autocomplete="email" required ng-model="$ctrl.form.email" ng-pattern="$ctrl.formPatterns.email" ng-class="{\n\t\t\t\t\t\t\'is-valid\': form.email.$valid,\n\t\t\t\t\t\t\'is-invalid\': form.email.$invalid && form.email.$touched\n\t\t\t\t\t}"/> <small class="invalid-feedback">Please enter your email address.</small> </div> <div class="mb-3 col-md"> <label for="emailConfirmation" class="form-label">Reenter Email</label> <input type="email" class="form-control" placeholder="name@example.com" id="emailConfirmation" name="emailConfirmation" autocomplete="off" required ng-model="$ctrl.form.email_confirmation" ng-pattern="$ctrl.formPatterns.email" ng-change="$ctrl.confirmEmails(form.email, form.emailConfirmation)" ng-class="{\n\t\t\t\t\t\t\'is-valid\':\n\t\t\t\t\t\t\tform.emailConfirmation.$valid &&\n\t\t\t\t\t\t\t$ctrl.form.email === $ctrl.form.email_confirmation,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tform.emailConfirmation.$touched &&\n\t\t\t\t\t\t\t$ctrl.form.email !== $ctrl.form.email_confirmation\n\t\t\t\t\t}"/> <small class="invalid-feedback">Please make sure that your email addresses match.</small> </div> </div> <div class="row"> <div class="mb-3 col-md"> <label for="password" class="form-label">Password</label> <div class="input-group"> <input class="form-control" type="password" name="password" id="password" minlength="8" required autocomplete="new-password" aria-describedby="passwordHelp" ng-model="$ctrl.form.password" ng-attr-type="{{\n\t\t\t\t\t\t\t$ctrl.isShowingPassword ? \'text\' : \'password\'\n\t\t\t\t\t\t}}" ng-pattern="$ctrl.formPatterns.password" ng-class="{\n\t\t\t\t\t\t\t\'is-valid\': form.password.$valid,\n\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\tform.password.$invalid && form.password.$touched\n\t\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" ng-class="{ active: $ctrl.isShowingPassword }" ng-click="$ctrl.isShowingPassword = !$ctrl.isShowingPassword"> <i class="bi" ng-class="{\n\t\t\t\t\t\t\t\t\'bi-eye-fill\': $ctrl.isShowingPassword,\n\t\t\t\t\t\t\t\t\'bi-eye-slash-fill\': !$ctrl.isShowingPassword\n\t\t\t\t\t\t\t}"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(form.password) + \'%\'\n\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\'bg-success\': form.password.$valid,\n\t\t\t\t\t\t\t\'bg-warning\': form.password.$invalid,\n\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(form.password) < 50\n\t\t\t\t\t\t}"></div> </div> <small id="passwordHelp" ng-class="[\n\t\t\t\t\t\t\'form-text\',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\tform.password.$invalid && form.password.$touched\n\t\t\t\t\t\t}\n\t\t\t\t\t]"> {{ form.password.$valid ? \'Password valid.\' : \'Passwords must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, a special character (*,!,$, etc.) and a number.\' }} </small> </div> <div class="mb-3 col-md"> <label for="passwordConfirmation" class="form-label">Reenter Password</label> <div class="input-group"> <input class="form-control" type="password" name="passwordConfirmation" id="passwordConfirmation" required autocomplete="new-password" ng-model="$ctrl.form.password_confirmation" ng-attr-type="{{\n\t\t\t\t\t\t\t$ctrl.isShowingConfirmPassword ? \'text\' : \'password\'\n\t\t\t\t\t\t}}" minlength="8" ng-class="{\n\t\t\t\t\t\t\t\'is-valid\':\n\t\t\t\t\t\t\t\tform.passwordConfirmation.$valid &&\n\t\t\t\t\t\t\t\t$ctrl.form.password ===\n\t\t\t\t\t\t\t\t\t$ctrl.form.password_confirmation,\n\t\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched &&\n\t\t\t\t\t\t\t\t$ctrl.form.password !==\n\t\t\t\t\t\t\t\t\t$ctrl.form.password_confirmation\n\t\t\t\t\t\t}" ng-change="$ctrl.confirmPasswords($ctrl.form.password, $ctrl.form.passwordConfirmation)" ng-pattern="$ctrl.formPatterns.password" spellcheck="false"/> <button class="btn btn-secondary" ng-class="{ active: $ctrl.isShowingConfirmPassword }" ng-click="$ctrl.isShowingConfirmPassword = !$ctrl.isShowingConfirmPassword"> <i class="bi" ng-class="{\n\t\t\t\t\t\t\t\t\'bi-eye-fill\': $ctrl.isShowingConfirmPassword,\n\t\t\t\t\t\t\t\t\'bi-eye-slash-fill\':\n\t\t\t\t\t\t\t\t\t!$ctrl.isShowingConfirmPassword\n\t\t\t\t\t\t\t}"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t) + \'%\'\n\t\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\t\'bg-success\':\n\t\t\t\t\t\t\t\t$ctrl.form.password ===\n\t\t\t\t\t\t\t\t$ctrl.form.password_confirmation,\n\t\t\t\t\t\t\t\'bg-warning\':\n\t\t\t\t\t\t\t\t$ctrl.form.password !==\n\t\t\t\t\t\t\t\t$ctrl.form.password_confirmation,\n\t\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t\t) < 50\n\t\t\t\t\t\t}"></div> </div> <small id="passwordConfirmationHelp" ng-class="[\n\t\t\t\t\t\t\'form-text\',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t\t}\n\t\t\t\t\t]"> {{ form.passwordConfirmation.$valid && $ctrl.password === $ctrl.passwordConfirmation ? \'Your passwords match.\' : \'Please verify your password.\' }} </small> </div> </div> <fieldset class="mb-3" ng-if="$ctrl.form.documents.length"> <legend>Documents</legend> <div class="mb-3" ng-repeat="doc in $ctrl.form.documents track by $index"> <input type="file" onchange="angular.element(this).scope().$ctrl.attachFile(this)" ng-class="[\'form-control\', { \'is-valid\': doc.fileDetails }]" ng-attr-name="{{ \'doc\' + doc.id }}" ng-attr-id="{{ \'doc-\' + doc.id }}" ng-required="doc.required"/> <label class="form-label" ng-attr-for="{{ \'doc-\' + doc.id }}"> {{ doc.fileDetails ? doc.fileDetails.name : \'Choose a \' + doc.name + \' to upload\' }} </label> <small class="valid-feedback" ng-if="doc.fileDetails"> {{ doc.fileDetails.size | number }} KB | {{ doc.fileDetails.type }} </small> <small class="form-text" ng-if="!doc.fileDetails && doc.required"> Please upload {{ doc.name }}. </small> </div> </fieldset> <div class="btn-toolbar justify-content-between"> <button class="btn btn-primary" type="submit" ng-disabled="form.$invalid ||\n\t\t\t\t\t$ctrl.isSubmitting ||\n\t\t\t\t   $ctrl.form.email !== $ctrl.form.email_confirmation ||\n\t\t\t\t   $ctrl.form.password !== $ctrl.form.password_confirmation" ng-click="$ctrl.onSubmit()"> Create Account </button> <button class="btn btn-secondary" ng-click="$ctrl.onClickResend()"> Resend Verification Email </button> </div> </form> <form name="verificationForm" class="needs-validation mb-3" novalidate ng-if="$ctrl.isNotVerified" ng-submit="$ctrl.submitVerificationForm( $ctrl.form.email )"> <p class="form-text"> Please enter the email address you originally registered under to resend you a verification email. </p> <fieldset ng-disabled="$ctrl.isSubmitted"> <div class="mb-3"> <label for="email" class="form-label">Email</label> <input type="email" class="form-control" id="email" name="email" autocomplete="email" required ng-model="$ctrl.form.email" ng-pattern="$ctrl.formPatterns.email" ng-class="{\n\t\t\t\t\t\t\'is-valid\': verificationForm.email.$valid,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tverificationForm.email.$invalid &&\n\t\t\t\t\t\t\tverificationForm.email.$touched\n\t\t\t\t\t}"/> <small class="invalid-feedback">Please enter your email address.</small> </div> </fieldset> <button class="btn btn-primary" type="submit" ng-disabled="verificationForm.$invalid || $ctrl.isSubmitting || $ctrl.isSubmitted"> Submit </button> </form> <div class="alert alert-success" role="alert" ng-if="$ctrl.isAccountCreated"> <h2>Account created</h2> <p> Your account has been set up! Click the \'Home\' button below to be redirected to the home page. You should also be receiving a welcome email shortly. Make sure to check your spam folder! </p> <div class="btn-toolbar"> <a class="btn btn-primary" href="/">Go to Home</a> <a class="btn btn-secondary ms-2" ng-href="{{ $ctrl.pageUrls.catalog }}"> Go to Catalog </a> </div> </div> <div class="alert alert-info" role="alert" ng-if="$ctrl.isVerified"> <p>Click the \'Home\' button below to be redirected to the home page.</p> <div class="btn-toolbar"> <a class="btn btn-primary" href="/">Go to Home</a> <a class="btn btn-secondary" ng-href="{{ $ctrl.pageUrls.catalog }}"> Go to Catalog </a> </div> </div> </layout-component> ',controller:t}),t.$inject=["$location","$scope","Alerts","User","Utils"]}(),function(){function t(t,e,i,n){this.hasAPIKey=localized.settings.general.api_key;const r=this;r.alertsList=e.list,r.isInProgress=!1,r.forgotPasswordUrl=n.getPageUrl("forgot-password"),r.getPasswordStrength=function(t){const e=t.$viewValue;let i=0;return e&&(e.length>0&&(i+=20),e.length>=8&&(i+=20),e.match(/[A-Z]+/)&&(i+=20),e.match(/\d+/)&&(i+=20),e.match(/[!@#$%^&*-]+/)&&(i+=20)),i},r.onClick=function(){r.isInProgress=!0;const{code:s,auth:a}=t.search(),o=r.password,l=r.passwordConfirmation;i.resetPassword(s,a,"","",o,l).then((t=>{0===t.data.errors.length&&(e.info("Redirecting to Sign In page..."),n.goToPage(n.getPageUrl("login")))})).catch((t=>{console.error(t)})).finally((function(){r.isInProgress=!1,r.isSubmitted=!0}))},this.pageUrls={login:n.getPageUrl("login"),forgotPassword:n.getPageUrl("forgot-password")},this.$onInit=()=>{this.hasAPIKey&&function(){r.isLoading=!0;const{code:e,auth:n}=t.search();i.validatePasswordReset(e,n).then((t=>{0===t.data.errors.length&&(r.isValidated=!0)})).catch((t=>{console.error(t)})).finally((function(){r.isLoading=!1}))}()}}n().module("vfApp").component("resetPassword",{controller:t,template:'<layout-component> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isValidated" ng-hide="$ctrl.isLoading"> <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.forgotPassword }}">get a email to reset your password</a>. </div> <form class="form" name="form" ng-if="$ctrl.isValidated" ng-hide="$ctrl.isLoading || $ctrl.isSubmitted"> <div class="mb-3"> <label for="password" class="form-label">Password</label> <div class="input-group"> <input class="form-control" id="password" name="password" aria-describedby="passwordHelp" pattern="(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}" minlength="8" required autocomplete="new-password" ng-attr-type="{{\n\t\t\t\t\t\t$ctrl.isShowingPassword ? \'text\' : \'password\'\n\t\t\t\t\t}}" ng-model="$ctrl.password" ng-class="{\n\t\t\t\t\t\t\'is-valid\': form.password.$valid,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tform.password.$invalid && form.password.$touched\n\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" type="button" ng-click="$ctrl.isShowingPassword = !$ctrl.isShowingPassword"> <i ng-class="\n\t\t\t\t\t\t\t$ctrl.isShowingPassword\n\t\t\t\t\t\t\t\t? \'bi bi-eye-fill\'\n\t\t\t\t\t\t\t\t: \'bi bi-eye-slash-fill\'\n\t\t\t\t\t\t"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\twidth: $ctrl.getPasswordStrength(form.password) + \'%\'\n\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\'bg-success\': form.password.$valid,\n\t\t\t\t\t\t\'bg-warning\': form.password.$invalid,\n\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t$ctrl.getPasswordStrength(form.password) < 50\n\t\t\t\t\t}"></div> </div> <small id="passwordHelp" ng-class="[\n\t\t\t\t\t\'form-text\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\tform.password.$invalid && form.password.$touched\n\t\t\t\t\t}\n\t\t\t\t]"> {{ form.password.$valid ? \'Password valid.\' : \'Passwords must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, a special character (*,!,$, etc.) and a number.\' }} </small> </div> <div class="mb-3"> <label for="passwordConfirmation" class="form-label">Reenter Password</label> <div class="input-group"> <input class="form-control" id="passwordConfirmation" aria-describedby="passwordConfirmationHelp" name="passwordConfirmation" pattern="(?=.*[0-9])(?=.*[!@#$%^&*-])[a-zA-Z0-9!@#$%^&*]{8,}" minlength="8" required autocomplete="new-password" ng-attr-type="{{\n\t\t\t\t\t\t$ctrl.isShowingPasswordCheck ? \'text\' : \'password\'\n\t\t\t\t\t}}" ng-model="$ctrl.passwordConfirmation" ng-class="{\n\t\t\t\t\t\t\'is-valid\':\n\t\t\t\t\t\t\tform.passwordConfirmation.$valid &&\n\t\t\t\t\t\t\t$ctrl.password === $ctrl.passwordConfirmation,\n\t\t\t\t\t\t\'is-invalid\':\n\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t}" spellcheck="false"/> <button class="btn btn-secondary" type="button" ng-click="$ctrl.isShowingPasswordCheck = !$ctrl.isShowingPasswordCheck"> <i ng-class="\n\t\t\t\t\t\t\t$ctrl.isShowingPasswordCheck\n\t\t\t\t\t\t\t\t? \'bi bi-eye-fill\'\n\t\t\t\t\t\t\t\t: \'bi bi-eye-slash-fill\'\n\t\t\t\t\t\t"></i> </button> </div> <div class="progress mt-1"> <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" ng-style="{\n\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t) + \'%\'\n\t\t\t\t\t}" ng-class="{\n\t\t\t\t\t\t\'bg-success\': form.passwordConfirmation.$valid,\n\t\t\t\t\t\t\'bg-warning\':\n\t\t\t\t\t\t\tform.passwordConfirmation.$invalid ||\n\t\t\t\t\t\t\t$ctrl.password !== $ctrl.passwordConfirmation,\n\t\t\t\t\t\t\'bg-danger\':\n\t\t\t\t\t\t\t$ctrl.getPasswordStrength(\n\t\t\t\t\t\t\t\tform.passwordConfirmation\n\t\t\t\t\t\t\t) < 50\n\t\t\t\t\t}"></div> </div> <small id="passwordConfirmationHelp" ng-class="[\n\t\t\t\t\t\'form-text\',\n\t\t\t\t\t{\n\t\t\t\t\t\t\'has-vivid-red-color\':\n\t\t\t\t\t\t\tform.passwordConfirmation.$invalid &&\n\t\t\t\t\t\t\tform.passwordConfirmation.$touched\n\t\t\t\t\t}\n\t\t\t\t]"> {{ form.passwordConfirmation.$valid && $ctrl.password === $ctrl.passwordConfirmation ? \'Your passwords match.\' : \'Please verify your password.\' }} </small> </div> <button class="btn btn-primary" ng-disabled="form.$invalid ||\n\t\t\t\t\t$ctrl.password !== $ctrl.passwordConfirmation ||\n\t\t\t\t\t$ctrl.isInProgress" ng-click="$ctrl.onClick()"> {{ $ctrl.isInProgress ? \'Resetting Password\' : \'Reset Password\' }} <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-show="$ctrl.isInProgress"></span> </button> </form> </layout-component> '}),t.$inject=["$location","Alerts","User","Utils"]}(),function(){function t(t,e,i,n){const r=this;function s(t){e.getSaved(t).then((t=>{if(t.items){r.cartTitle=t.cart_title,r.subtotal=t.subtotal;const e=[];angular.forEach(t.items,(t=>{const i={hasStockQty:Number.isFinite(t.available_qty),isActive:"active"===t.status,isFavorite:t.favorite,id:t.product_id,image:(n=t.images,angular.isObject(n)&&Object.keys(n).length>0?n[Object.keys(n)[0]].thumb_url:null),itemTotal:t.item_total,price:t.price,qty:t.qty,cartQty:a(t.product_id),savedCartQty:o(t),sku:t.sku,slug:t.slug,status:t.status,stockQty:t.available_qty,title:t.description,uom:t.uom};var n;e.push(i)})),r.items=e,r.isCartLoaded=!0}r.breadcrumb=function(){const t=[{title:"Home",link:"/"},{title:"Saved Carts",link:r.pageUrls.savedCarts}];return r.cartTitle?t.push({title:r.cartTitle,link:`/saved-cart?id=${r.cartId}`}):t.push({title:"Empty Saved Cart",link:`/saved-cart?id=${r.cartId}`}),t}(),r.isLoading=!1}))}function a(t){return r.currentCartItems[t]?r.currentCartItems[t].qty:0}function o(t){return t.qty}r.addSelectedToCart=function(){r.items.forEach((t=>{t.isSelected&&(r.isAddingSelectedToCart=!0,r.items.indexOf(t)>=0&&e.add(t.id,t.savedCartQty).then((e=>{0===e.data.errors.length?t.cartQty=e.data.cart.items[t.id].qty:(r.errors=e.data.errors,r.isAddingSelectedToCart=!1)})).finally((function(){r.isAddingSelectedToCart=!1})))}))},r.deleteItem=function(t){const i=r.items.indexOf(t);i>=0&&(r.isLoading=!0,e.removeSavedItem(r.cartId,t.id).then((t=>{0===t.data.errors.length?r.items.splice(i,1):console.error(t.data.errors)}),(function(t){console.error(t)})).finally((()=>{r.isLoading=!1})))},r.deleteSelected=function(){r.items.forEach((t=>{if(t.isSelected){const i=r.items.indexOf(t);i>=0&&(r.isLoading=!0,e.removeSavedItem(r.cartId,t.id).then((t=>{0===t.data.errors.length?r.items.splice(i,1):console.error(t.data.errors)}),(function(t){console.error(t)})).finally((()=>{r.isLoading=!1})))}}))},r.toggleSelectAll=function(t){r.items.forEach((e=>e.isSelected=t))},r.selectedItems=function(){return r.items.filter((function(t){return t.isSelected})).length},r.selectedItemsForAdding=function(){return r.items.filter((function(t){return t.isSelected&&t.isActive})).length},r.$onInit=function(){r.cartId=n.urlParser.param("id"),r.isAddingSelectedToCart=!1,r.isAllSelected=!1,r.isCartLoaded=!1,r.isLoading=!0,r.isSignedIn=i.isAuthed&&i.email,r.items=[],r.pageUrls={cart:n.getPageUrl("cart"),login:n.getPageUrl("login",{redirect_to:t.path()}),register:n.getPageUrl("register"),savedCarts:n.getPageUrl("saved-carts")},r.productSlug=localized.settings.general.product_slug||"products",r.cartId||n.goToPage(n.getPageUrl("saved-carts"))},r.$doCheck=()=>{!r.isCartLoaded&&r.isSignedIn&&r.cartId&&(angular.isObject(e.details)&&!r.currentCartItems?(r.currentCartItems=e.details.items,s(r.cartId)):angular.isUndefined(e.details)&&!r.currentCartItems&&(r.currentCartItems={0:{}},s(r.cartId)))},this.deleteCart=()=>{this.isDeleting=!0,e.deleteSaved(r.cartId).then((()=>{n.goToPage(r.pageUrls.savedCarts),this.isDeleting=!1}))}}angular.module("vfApp").component("vfSavedCart",{template:'<layout-component> <div class="alert alert-info" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <bs-spinner ng-if="$ctrl.isLoading && $ctrl.isSignedIn"> </bs-spinner> <alert-list></alert-list> <div ng-if="!$ctrl.isLoading && $ctrl.isSignedIn"> <bs-breadcrumb breadcrumb="$ctrl.breadcrumb"> </bs-breadcrumb> <div ng-if="!$ctrl.items.length" class="alert alert-warning"> <p> This saved cart is currently empty. You can add more items to it from the <a ng-href="{{ $ctrl.pageUrls.cart }}">Cart</a> page, return to your other <a ng-href="{{ $ctrl.pageUrls.savedCarts }}">Saved Carts</a>, or delete this empty saved cart. </p> <button class="btn btn-danger" ng-disabled="$ctrl.isDeleting" ng-click="$ctrl.deleteCart()"> {{ $ctrl.isDeleting ? \'Deleting\' : \'Delete\' }} </button> </div> <div ng-if="$ctrl.items.length"> <div class="d-flex justify-content-between mb-3 pb-3 border-bottom"> <h1> Your Saved Cart: <em>{{ $ctrl.cartTitle }}</em> </h1> <button class="btn btn-link btn-sm" data-bs-toggle="collapse" href="#collapseHelp" role="button" aria-expanded="false" aria-controls="collapseHelp" title="See help"> <i class="bi bi-info-circle-fill me-1"></i>Help </button> </div> <div class="collapse" id="collapseHelp"> <ul> <li> To add an item to Your Cart, click or tap the <em>Add To Cart</em> button. </li> <li> To add all or multiple items to Your Cart, click or tap the Select All checkbox or the checkbox for each item, and then click or tap the <em>Add Selected To Cart</em> button. </li> <li> To remove an item from your Saved Cart, click or tap the <em>Remove Saved Item</em> button. </li> <li> To remove all or multiple items from the Saved Cart, click or tap the Select All checkbox or the checkbox for each item, and then click or tap the <em>Remove Selected from Saved Cart</em> button. This will remove it from your Saved Cart, but not remove any items from Your Cart. </li> <li> To add an item to Your Favorites, click the <em>Add To Favorites</em> button. </li> </ul> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="selectAll" ng-model="$ctrl.isAllSelected" ng-change="$ctrl.toggleSelectAll($ctrl.isAllSelected)"/> <label class="form-check-label" for="selectAll">Select All</label> </div> <div class="list-group mb-3"> <saved-cart-item class="list-group-item" ng-repeat="item in $ctrl.items track by $index" item="item" on-delete="$ctrl.deleteItem(item)" ng-class="{ active: item.isSelected }"> </saved-cart-item> </div> <div class="row g-0 justify-content-end mb-3"> <div class="col col-md-auto"> <button class="btn btn-primary" ng-click="$ctrl.addSelectedToCart()" ng-disabled="$ctrl.selectedItemsForAdding() === 0"> <span ng-show="!$ctrl.isAddingSelectedToCart"> Add Selected to Cart <i class="bi bi-cart-plus-fill"></i> </span> <span ng-show="$ctrl.isAddingSelectedToCart"> Adding to cart <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> </span> </button> </div> <div class="col col-md-auto"> <button class="btn btn-link ms-2" ng-disabled="$ctrl.selectedItems() === 0" ng-click="$ctrl.deleteSelected()"> Remove Selected from Saved Cart </button> </div> </div> </div> </div> </layout-component> ',controller:t}),t.$inject=["$location","Cart","User","Utils"]}(),i(4856),n().module("vfApp").component("savedCartItem",{bindings:{item:"<",onDelete:"&"},controller:function(){const t=this;t.$onInit=function(){t.productSlug=localized.settings.general.product_slug||"products"},t.delete=()=>{t.onDelete({item:t.item})}},template:'<div class="row align-items-center"> <div class="col-auto px-1 px-md-3"> <div class="form-check"> <input class="form-check-input position-static" type="checkbox" value="" ng-model="$ctrl.item.isSelected"/> </div> </div> <div class="col-3 px-0 col-md-2 has-text-align-center"> <a ng-href="/{{ $ctrl.productSlug }}/{{ $ctrl.item.slug }}" ng-attr-title="{{ $ctrl.item.title }}"> <img class="img-fluid lazy" loading="lazy" ng-if="$ctrl.item.image" ng-src="{{ $ctrl.item.image }}"/> <div class="bg-light img-thumbnail py-4 py-md-5 mx-0 mx-md-4" ng-if="!$ctrl.item.image"> <i class="bi bi-camera has-cyan-bluish-gray-color"></i> </div> </a> </div> <div class="col col-md-9"> <div class="row align-items-center"> <div class="col-12 col-md-6 col-lg-7 order-md-1"> <a ng-href="/{{ $ctrl.productSlug }}/{{ $ctrl.item.slug }}" title="{{ $ctrl.item.description }}"> <h2 class="h6 d-md-none border-bottom pb-2 mb-2"> {{ $ctrl.item.title }} </h2> <h2 class="h5 d-none d-md-block"> {{ $ctrl.item.title }} </h2> </a> <p class="small"><strong>SKU: </strong>{{ $ctrl.item.sku }}</p> <div class="btn-group btn-group-sm d-none d-md-block"> <saved-cart-toggle-favorite item="$ctrl.item" product-id="$ctrl.item.id" is-favorite="$ctrl.item.isFavorite"> </saved-cart-toggle-favorite> <button class="btn btn-sm btn-link" title="Remove Item from Saved Cart" ng-click="$ctrl.delete()"> Remove Saved Item </button> </div> </div> <div class="col-12 col-md-2 order-md-3"> <p class="border-bottom pb-2 mb-2 d-md-none"> <small>Unit Price:</small> <span class="fw-bold">{{ $ctrl.item.price | currency }}<small>/{{ $ctrl.item.uom }}</small></span> </p> <p class="d-none d-md-block has-text-align-center fw-bold"> {{ $ctrl.item.price | currency }}<small>/{{ $ctrl.item.uom }}</small> </p> </div> <div class="col-12 col-md-4 col-lg-3 order-md-2"> <p class="small has-text-align-center"> <span ng-if="$ctrl.item.status === \'backordered\'"> Backordered </span> <span ng-if="$ctrl.item.status === \'discontinued\'"> Discontinued </span> <span ng-if="\n\t\t\t\t\t\t\t$ctrl.item.isActive &&\n\t\t\t\t\t\t\t$ctrl.item.hasStockQty &&\n\t\t\t\t\t\t\t$ctrl.item.stockQty === 0\n\t\t\t\t\t\t"> Out of Stock </span> <span ng-if="\n\t\t\t\t\t\t\t$ctrl.item.hasStockQty &&\n\t\t\t\t\t\t\t$ctrl.item.cartQty >= $ctrl.item.stockQty\n\t\t\t\t\t\t"> Available stock is already in your cart. </span> </p> <saved-cart-add-to-cart ng-if="\n\t\t\t\t\t\t$ctrl.item.isActive &&\n\t\t\t\t\t\t(!$ctrl.item.hasStockQty ||\n\t\t\t\t\t\t\t($ctrl.item.hasStockQty &&\n\t\t\t\t\t\t\t\t$ctrl.item.stockQty > 0 &&\n\t\t\t\t\t\t\t\t\t$ctrl.item.stockQty > $ctrl.item.cartQty))\n\t\t\t\t\t" item="$ctrl.item"> </saved-cart-add-to-cart> <div class="btn-group btn-group-sm d-md-none"> <saved-cart-toggle-favorite item="$ctrl.item" product-id="$ctrl.item.id" is-favorite="$ctrl.item.isFavorite"> </saved-cart-toggle-favorite> <button class="btn btn-sm btn-link" title="Remove Item from Saved Cart" ng-click="$ctrl.delete()"> Remove Saved Item </button> </div> </div> </div> </div> </div> '}),i(6883),function(){function t(t,e,i){this.hasPermission=e.isAuthed&&(e.email||e.isGuest),this.orderId=i.urlParser.param("id"),this.$onInit=()=>{this.pageUrls={login:i.getPageUrl("login",{redirect_to:t.path()}),orders:i.getPageUrl("orders"),register:i.getPageUrl("register")},this.hasPermission&&this.orderId&&this.getOrder()},this.getOrder=()=>{this.isLoading=!0,e.viewOrder(this.orderId).then((t=>t.data)).then((t=>{this.order=t.order,this.isLoading=!1}))}}n().module("vfApp").component("viewOrder",{controller:t,template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.hasPermission"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <div class="alert alert-info" role="alert" ng-if="$ctrl.hasPermission && !$ctrl.orderId"> Sorry, we are unable to retrieve order information. Please go to your <a class="alert-link" ng-href="{{ $ctrl.pageUrls.orders }}">Order History</a> to view order details. </div> <div ng-if="$ctrl.hasPermission && $ctrl.orderId"> <div class="d-flex justify-content-center" ng-if="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-if="!$ctrl.isLoading"> <table class="table"> <tbody> <tr> <th scope="row" class="text-end">Order ID</th> <td> {{ $ctrl.orderId }} </td> </tr> <tr> <th scope="row" class="text-end">Date</th> <td> {{ $ctrl.order[\'order_date_time\'] | date : \'medium\' }} </td> </tr> <tr> <th scope="row" class="text-end">Payment Method</th> <td> {{ $ctrl.order[\'payment_method\'] }} </td> </tr> <tr ng-if="$ctrl.order.payment_method === \'Credit Card\'"> <th scope="row" class="text-end">Credit Card</th> <td> {{ $ctrl.order[\'credit_card\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'cost_center_code\']"> <th scope="row" class="text-end">Cost Center Code</th> <td> {{ $ctrl.order[\'cost_center_code\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'rr_po_num\']"> <th scope="row" class="text-end">Purchase Order</th> <td> {{ $ctrl.order[\'rr_po_num\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'issuing_office\']"> <th scope="row" class="text-end">Issuing Office</th> <td> {{ $ctrl.order[\'issuing_office\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'organization\']"> <th scope="row" class="text-end">Organization</th> <td> {{ $ctrl.order[\'organization\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'attention\']"> <th scope="row" class="text-end">Attention</th> <td> {{ $ctrl.order[\'attention\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'approver_notes\']"> <th scope="row" class="text-end">Approver Notes</th> <td> {{ $ctrl.order[\'approver_notes\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'notes\']"> <th scope="row" class="text-end">Notes</th> <td> {{ $ctrl.order[\'notes\'] }} </td> </tr> <tr ng-if="$ctrl.order[\'custom_fields\'].f1.name"> <th scope="row" class="text-end"> {{ $ctrl.order[\'custom_fields\'].f1.name }} </th> <td> {{ $ctrl.order[\'custom_fields\'].f1.value }} </td> </tr> </tbody> </table> <div class="row"> <div class="col-md-6"> <h2>Shipping Information</h2> <address> <p class="mb-0"> {{ $ctrl.order.shipping.first_name }} {{ $ctrl.order.shipping.last_name }} </p> <p class="mb-0"> {{ $ctrl.order.shipping.address1 }} <br ng-if="$ctrl.order.shipping.address2"/> {{ $ctrl.order.shipping.address2 }} </p> <p class="mb-0"> {{ $ctrl.order.shipping.city }}, {{ $ctrl.order.shipping.state }} {{ $ctrl.order.shipping.zip }} </p> <p class="mb-0"> {{ $ctrl.order.shipping.email }} </p> <p class="mb-0"> {{ $ctrl.order.shipping.phone | tel }} </p> </address> </div> <div class="col-md-6"> <h2>Billing Information</h2> <address> <p class="mb-0"> {{ $ctrl.order.billing.first_name }} {{ $ctrl.order.billing.last_name }} </p> <p class="mb-0"> {{ $ctrl.order.billing.address1 }} <br ng-if="$ctrl.order.billing.address2"/> {{ $ctrl.order.billing.address2 }} </p> <p class="mb-0"> {{ $ctrl.order.billing.city }}, {{ $ctrl.order.billing.state }} {{ $ctrl.order.billing.zip }} </p> <p class="mb-0"> {{ $ctrl.order.billing.email }} </p> <p class="mb-0"> {{ $ctrl.order.billing.phone | tel }} </p> </address> </div> </div> <table class="table"> <thead> <tr> <th> <abbr title="Stock Keeping Unit"> SKU </abbr> </th> <th>Item</th> <th class="text-end"> <abbr title="Quantity"> QTY </abbr> </th> <th class="text-end">Price</th> <th class="text-end">Extended</th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.order.items"> <td> {{ item.sku }} </td> <td> {{ item.description }} </td> <td class="text-end"> {{ item.qty | number }} </td> <td class="text-end"> {{ item.price | currency }} </td> <td class="text-end"> {{ item.extended_price | currency }} </td> </tr> </tbody> <tfoot> <tr class="text-end"> <th id="subtotal" colspan="4">Subtotal</th> <td headers="subtotal"> {{ $ctrl.order.subtotal | currency }} </td> </tr> <tr class="text-end"> <th id="shipping" colspan="4">Shipping</th> <td headers="shipping"> {{ $ctrl.order.shipping_total | currency }} </td> </tr> <tr class="text-end text-success" ng-if="$ctrl.order.promo_discount"> <td id="discount" colspan="4">Discount</td> <td headers="discount"> -{{ $ctrl.order.promo_discount | currency }} </td> </tr> <tr class="text-end"> <th id="tax" colspan="4">Tax</th> <td headers="tax"> {{ $ctrl.order.tax | currency }} </td> </tr> <tr class="text-end"> <th id="total" colspan="4">Total</th> <td headers="total"> <b>{{ $ctrl.order.total_amt | currency }}</b> </td> </tr> </tfoot> </table> <order-change-logs ng-if="$ctrl.order.logs && $ctrl.order.logs.length" logs="$ctrl.order.logs"> </order-change-logs> </div> </div> </layout-component> '}),t.$inject=["$location","User","Utils"]}(),function(){function t(t,e,i){this.addressUrl=t.getPageUrl("addresses"),this.usStates=i,this.$onInit=()=>{this.form={first_name:e.name.split(" ").shift(),last_name:e.name.split(" ").length>1?e.name.split(" ").pop():"",email:e.email}},this.getShippingProfiles=()=>{e.getProfiles().then((t=>t.data)).then((t=>{const e=Object.values(t.shipping_addresses);e.length&&this.setDefaultShippingProfile(e[0])}))},this.save=()=>{const t=this.form;this.isSaving=!0,e.addShippingProfile(t).then((t=>t.data)).then((t=>{t.errors.length||this.getShippingProfiles()}))},this.setDefaultShippingProfile=t=>{const{shipping_id:i}=t;e.setDefaultProfile(i,"shipping").then((t=>t.data)).then((t=>{t.errors.length||(this.notification=t.notifications[0],this.isSaving=!1,this.isSaved=!0,this.onChange({}))}))}}n().module("vfApp").component("welcomeShippingAddress",{bindings:{onChange:"&"},controller:t,template:'<form name="form" ng-hide="$ctrl.isSaved"> <p>Before proceeding to your punchout partner, you\'ll need to create a shipping profile to continue. You can add more information later by going to your <a ng-href="{{ $ctrl.addressUrl }}">Address Profiles</a>.</p> <fieldset ng-disabled="$ctrl.isSaving || $ctrl.isSaved"> <div class="row mb-3"> <div class="col-sm-4"> <div class="mb-3"> <label for="first_name" class="form-label"> First Name <span class="small">(required) </span></label> <input type="text" id="first_name" name="first_name" maxlength="250" autocomplete="given-name" class="form-control" required ng-model="$ctrl.form.first_name"> </div> </div> <div class="col-sm-4"> <div class="mb-3"> <label for="last_name" class="form-label"> Last Name <span class="small">(required) </span></label> <input type="text" id="last_name" name="last_name" maxlength="250" autocomplete="family-name" class="form-control" required ng-model="$ctrl.form.last_name"> </div> </div> <div class="col-sm-4"> <div class="mb-3"> <label for="email" class="form-label"> Email <span class="small">(required) </span></label> <input type="email" id="email" name="email" maxlength="250" autocomplete="email" class="form-control" required ng-model="$ctrl.form.email"> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="mb-3"> <label for="address1" class="form-label"> Street Address <span class="small">(required) </span></label> <input type="text" id="address1" name="address1" maxlength="250" autocomplete="street-address" class="form-control" required ng-model="$ctrl.form.address1"> </div> </div> <div class="col-sm-6"> <div class="mb-3"> <label for="address2" class="form-label"> Apt., Suite, etc. </label> <input type="text" id="address2" name="address2" maxlength="250" class="form-control" ng-model="$ctrl.form.address2"> </div> </div> </div> <div class="row"> <div class="col-sm-4"> <div class="mb-3"> <label for="city" class="form-label"> City <span class="small">(required) </span></label> <input type="text" id="city" name="city" maxlength="250" autocomplete="address-level2" class="form-control" required ng-model="$ctrl.form.city"> </div> </div> <div class="col-sm-4"> <div class="mb-3"> <label for="state" class="form-label"> State <span class="small">(required) </span></label> <select id="state" autocomplete="address-level1" name="state" class="form-control" required ng-model="$ctrl.form.state"> <option ng-repeat="state in $ctrl.usStates" ng-value="state.id"> {{ state.name }} </option> </select> </div> </div> <div class="col-sm-4"> <div class="mb-3"> <label for="zip" class="form-label"> Zip <span class="small">(required) </span></label> <input type="text" id="zip" name="zip" maxlength="250" autocomplete="postal-code" class="form-control" required ng-model="$ctrl.form.zip"> </div> </div> </div> </fieldset> <div class="btn-toolbar justify-content-center" ng-hide="$ctrl.isSaved"> <button class="btn btn-primary" ng-click="$ctrl.save()" ng-disabled="form.$invalid || $ctrl.isSaving"> {{ $ctrl.isSaving ? \'Saving\' : \'Save\' }} Shipping Profile </button> </div> </form> '}),t.$inject=["Utils","User","usStates"]}();n().module("vfApp").component("welcomeBanner",{template:'<vf-spinner text="Loading banners" ng-if="$ctrl.isLoading"></vf-spinner> <div class="d-flex flex-column" ng-bind-html="$ctrl.banner"></div> ',controller:class{static $inject=["User"];constructor(t){this.User=t}$onInit(){this.getBanner()}getBanner(){this.isLoading=!0,this.User.getBanner("Welcome screen").then((t=>t.data)).then((t=>{this.banner=t.content,this.isLoading=!1}))}}});const wo={template:'<layout-component> <form id="forgotPasswordForm" name="forgotPasswordForm" ng-submit="$ctrl.onSubmit(customer)"> <div class="mb-3"> <label for="email" class="form-label"> Email </label> <input type="email" id="email" name="email" class="form-control" autocomplete="email" ng-disabled="$ctrl.isSubmitted" ng-model="customer.email" ng-pattern="$ctrl.emailPattern" ng-required="true"/> </div> <button class="btn btn-primary" ng-click="$ctrl.onSubmit( customer )" ng-disabled="forgotPasswordForm.$invalid || $ctrl.isSubmitting || $ctrl.isSubmitted"> {{ $ctrl.isSubmitting ? \'Submitting\' : \'Submit\' }} </button> </form> </layout-component> ',controller:class{static $inject=["User","Utils"];isSubmitted=!1;isSubmitting=!1;constructor(t,e){this.User=t,this.Utils=e,this.emailPattern=$}onSubmit(t){const{email:e}=t,i=this.Utils.getPageUrl("reset-password");this.isSubmitting=!0,this.User.requestPasswordReset(e,i).then((t=>{0===t.data.errors.length&&(this.isSubmitted=!0),this.isSubmitting=!1}))}}},_o={template:'<layout-component> <p class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </p> <p class="alert alert-info" role="alert" ng-if="$ctrl.isSignedIn && !$ctrl.isAdmin"> You must be have Administrator permissions to view this page. </p> <div ng-if="$ctrl.isSignedIn && $ctrl.isAdmin"> <div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <div ng-hide="$ctrl.isLoading"> <form> <select-group on-change="$ctrl.getGroupAccounts()"> </select-group> <div class="input-group mb-3"> <label for="permissionSearchBar" class="input-group-text"> Filter Users </label> <input type="search" id="permissionSearchBar" class="form-control" name="s" ng-model="$ctrl.filterBy"/> </div> </form> <table class="table"> <thead> <tr> <th> <a href="#" class="text-decoration-none" title="Sort by Name" ng-click="$ctrl.changeOrderBy( $event, \'name\' )"> Name <span ng-show="$ctrl.orderBy === \'name\'"> {{ $ctrl.reverseOrderby ? \'&dtrif;\' : \'&utrif;\' }} </span> </a> </th> <th> <a href="#" class="text-decoration-none" title="Sort by Email" ng-click="$ctrl.changeOrderBy( $event, \'email\' )"> Email <span ng-show="$ctrl.orderBy === \'email\'"> {{ $ctrl.reverseOrderby ? \'&dtrif;\' : \'&utrif;\' }} </span> </a> </th> <th>Options</th> </tr> </thead> <tbody> <tr ng-repeat="user in $ctrl.accounts | orderBy: $ctrl.orderBy: $ctrl.reverseOrderby | filter: $ctrl.filterBy track by $index"> <td> {{ user.name }} </td> <td> <a ng-href="mailto:{{ user.email }}"> {{ user.email }} </a> </td> <td> <form name="form"> <fieldset class="mb-3" ng-disabled="$ctrl.userEmail === user.email || $ctrl.isUpdating[user.customer_id]"> <div class="form-check mb-2"> <input class="form-check-input" type="checkbox" id="active" ng-model="user.active" ng-true-value="\'active\'" ng-false-value="\'inactive\'"/> <label class="form-check-label" for="active">Active</label> </div> <fieldset> <legend class="fs-6 mb-0"> Permissions </legend> <div class="form-check form-check-inline"> <input class="form-check-input" type="checkbox" id="approver" ng-model="user.approver" ng-disabled="user.requestor"/> <label class="form-check-label" for="approver">Approver</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="checkbox" id="requestor" ng-model="user.requestor" ng-disabled="user.approver || user.admin"/> <label class="form-check-label" for="requestor">Requestor</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="checkbox" id="pending-emails" ng-model="user[\'pending_emails\']" ng-disabled="!user.approver"/> <label class="form-check-label" for="pending-emails">Pending Emails</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="checkbox" id="admin" ng-model="user.admin" ng-disabled="user.requestor"/> <label class="form-check-label" for="admin">Admin</label> </div> </fieldset> </fieldset> <button class="btn btn-primary btn-sm" ng-disabled="form.$pristine" ng-click="$ctrl.updateAccount(user)"> {{ $ctrl.isUpdating[user.customer_id] ? \'Updating\' : \'Update\' }} </button> </form> </td> </tr> </tbody> </table> </div> </div> </layout-component> ',controller:class{static $inject=["$location","Group","User","Utils"];isUpdating=[];constructor(t,e,i,n){this.$location=t,this.Group=e,this.User=i,this.Utils=n,this.isAdmin=this.User.group_admin,this.isSignedIn=this.User.isAuthed&&this.User.email,this.pageUrls={login:this.Utils.getPageUrl("login",{redirect_to:this.$location.path()}),register:this.Utils.getPageUrl("register")},this.userEmail=this.User.email}$onInit(){this.isAdmin&&this.getGroupAccounts()}changeOrderBy(t,e){t.preventDefault(),this.orderBy===e?this.reverseOrderby=!this.reverseOrderby:(this.orderBy=e,this.reverseOrderby=!1)}getGroupAccounts(){this.isLoading=!0,this.Group.listGroup().then((t=>t.data)).then((t=>{this.accounts=t.accounts,this.isLoading=!1})).catch((t=>{console.error(t)}))}updateAccount(t){this.isUpdating[t.customer_id]=!0;const e=[t.customer_id,t.active,t.approver,t.admin,t.requestor,t.pending_emails];this.Group.changeGroupPermissions(...e).then((()=>{this.isUpdating[t.customer_id]=!1}))}}},ko={template:'<layout-component> <div class="alert alert-info" role="alert" ng-if="!$ctrl.isSignedIn"> Please <a class="alert-link" ng-href="{{ $ctrl.pageUrls.login }}">Sign In</a> or <a class="alert-link" ng-href="{{ $ctrl.pageUrls.register }}">Create an Account</a> to view this page. </div> <div ng-if="$ctrl.isSignedIn"> <form name="orderBySkuForm" class="mb-3" ng-submit="$ctrl.submit($ctrl.sku, $ctrl.qty)"> <div class="row"> <div class="col"> <div class="mb-3"> <label for="sku" class="form-label"> <abbr title="Stock Keeping Unit">SKU</abbr> </label> <input type="text" required name="sku" class="form-control" list="sku-list" autocomplete="off" ng-model="$ctrl.sku" ng-disabled="$ctrl.isInProgress" ng-min="1"/> <small class="form-text">If you don\'t know the SKU number, you can use the search below to find your product\'s SKU.</small> </div> <datalist name="sku-list" id="sku-list"> <option ng-repeat="product in $ctrl.products" value="{{ product.sku }}"></option> </datalist> </div> <div class="col"> <div class="mb-3"> <label for="qty" class="form-label"> Quantity </label> <input type="number" min="1" name="qty" class="form-control" ng-model="$ctrl.qty" ng-disabled="$ctrl.isInProgress"/> </div> </div> </div> <button class="btn btn-primary" type="submit" ng-disabled="orderBySkuForm.$invalid"> Add to Cart </button> </form> <order-by-sku-search></order-by-sku-search> </div> </layout-component> ',controller:class{static $inject=["Cart","Products","User"];qty=1;constructor(t,e,i){this.Cart=t,this.Products=e,this.User=i,this.isSignedIn=!(!i.isAuthed||!i.email)}$onInit(){this.isSignedIn&&this.getSkuList()}getSkuList(){this.Products.list({q:""}).then((t=>{this.products=t.data.product_briefs})).catch((t=>{console.error(t)}))}submit(t,e){this.isInProgress=!0,this.Cart.addBySku(t,e).then((()=>{this.isInProgress=!1})).catch((t=>{console.error(t)}))}}},Co={bindings:{priceAvailability:"<",onComplete:"&",order:"<"},template:'<h3>Product Availability Change</h3> <p> The price and/or availability of some of the products in this order have changed. </p> <form name="form"> <fieldset class="border-0 p-0" ng-disabled="$ctrl.isLoading"> <table class="table" ng-repeat="(sku, codes) in $ctrl.priceAvailability track by $index"> <thead> <tr> <th style="width:20%">Product</th> <th style="width:40%">Changes</th> <th style="width:40%">Action Required</th> </tr> </thead> <tbody> <tr ng-repeat="(code, changes) in codes"> <th scope="row" style="vertical-align:baseline"> <p>{{ $ctrl.products[sku].name }}</p> <p class="small"> <abbr title="Stock Keeping Unit">SKU</abbr>: {{ sku }} </p> </th> <td style="vertical-align:baseline"> <div ng-if="code === \'PA001\'"> Price change: <ul> <li> Original price: {{ changes.originalPrice | currency }} </li> <li> New price: {{ changes.newPrice | currency }} </li> </ul> </div> <div ng-if="code === \'PA002\'"> Unavailable inventory stock for the requested quantity: <ul> <li> Requested Quantity: {{ changes.requestedQuantity | number }} </li> <li> Available Quantity: {{ changes.availableQuantity | number }} </li> </ul> <p class="small"> You can confirm the requested quantity, reduce your requested quantity to the available stock, or remove the product from your cart. </p> </div> <div ng-if="code === \'PA003\'"> This item has been discontinued and is no longer available for purchase. </div> </td> <td style="vertical-align:baseline"> <div ng-if="code === \'PA001\'"> <input type="radio" value="accepted" required ng-attr-name="{{ sku }}-{{ code }}-actions" ng-attr-id="{{ sku }}-{{ code }}-action-accept" ng-model="$ctrl.response[sku][code].action"/> <label ng-attr-for="{{ item.sku }}-action-accept">Accept Price Change</label> </div> <div ng-if="code === \'PA002\'"> <div> <label for="quantity">Quantity</label> <input type="number" id="quantity" min="0" ng-disabled="$ctrl.response[sku][code].action === \'removed\'" ng-model="$ctrl.response[sku][code].returned"/> </div> <div> <input type="radio" value="changed" required ng-attr-name="{{ sku }}-{{ code }}-actions" ng-attr-id="{{ sku }}-{{ code }}-action-change" ng-model="$ctrl.response[sku][code].action"/> <label ng-attr-for="{{ item.sku }}-action-accept" ng-class="{\'mb-0\':$ctrl.response[sku][code].returned > changes.availableQuantity}">Confirm Quantity </label> </div> <div class="small has-luminous-vivid-orange-color mb-2" ng-if="$ctrl.response[sku][code].returned > changes.availableQuantity"> If your requested quantity exceeds available stock, the exceeding quantity will be backordered. </div> </div> <input type="radio" value="removed" required ng-attr-name="{{ sku }}-{{ code }}-actions" ng-attr-id="{{ sku }}-{{ code }}-action-remove" ng-model="$ctrl.response[sku][code].action"/> <label ng-attr-for="{{ item.sku }}-action-accept">Remove Item</label> </td> </tr> </tbody> </table> </fieldset> </form> <button class="btn btn-primary" ng-disabled="form.$invalid || $ctrl.isLoading" ng-click="$ctrl.complete()"> {{ $ctrl.isLoading ? \'Confirming\' : \'Confirm\' }} Changes </button> ',controller:class{$onInit(){this.response=this.createResponse(this.priceAvailability),this.products=this.getProducts(this.order.items)}complete(){this.isLoading=!0,this.onComplete({data:this.response})}createResponse(t){return Object.fromEntries(Object.entries(t).map((t=>{const[,e]=t;return t[1]=Object.fromEntries(Object.entries(e).map((t=>{const[e,i]=t;return t[1]={original:i.requestedQuantity||i.originalPrice,returned:i.requestedQuantity||i.newPrice||0,action:{PA001:"accepted",PA002:"changed",PA003:"removed"}[e]},t}))),t})))}getProducts(t){const e={};return Object.values(t).forEach((t=>{e[t.sku]={name:t.description}})),e}}},So={template:'<a class="nav-link" ng-href="{{ $ctrl.link }}"> <i class="bi bi-person-circle"></i> {{ $ctrl.greeting }} </a> ',controller:xo};function xo(t,e){const i=this;i.$onInit=function(){var n;i.isSignedIn=t.isAuthed&&t.email,i.link=i.isSignedIn?e.getPageUrl("account"):e.getPageUrl("login"),i.greeting=i.isSignedIn?`Hello ${n=t.name,n.includes(" ")?n.substr(0,n.indexOf(" ")):n}`:"Sign in"}}xo.$inject=["User","Utils"];const Ao={template:'<div class="d-flex justify-content-center" ng-show="$ctrl.isLoading"> <div class="spinner-border" role="status"> <span class="visually-hidden">Loading...</span> </div> </div> <nav class="flex-column" ng-hide="$ctrl.isLoading"> <a href="#" class="dropdown-item small" title="Go back" ng-click="$ctrl.onClickBack($event)" ng-show="$ctrl.level"> <i class="bi bi-chevron-left"></i> Back </a> <div class="px-4 py-2"> <a class="btn btn-primary w-100" ng-href="{{\n\t\t\t\t$ctrl.currCat[$ctrl.level]\n\t\t\t\t\t? \'/\' +\n\t\t\t\t\t  $ctrl.catSlug +\n\t\t\t\t\t  \'/\' +\n\t\t\t\t\t  $ctrl.currCat[$ctrl.level].slug\n\t\t\t\t\t: $ctrl.catalogUrl\n\t\t\t}}" ng-attr-title="Shop {{\n\t\t\t\t$ctrl.currCat[$ctrl.level]\n\t\t\t\t\t? $ctrl.currCat[$ctrl.level].title\n\t\t\t\t\t: \'Catalog\'\n\t\t\t}}"> Shop {{ $ctrl.currCat[$ctrl.level] ? $ctrl.currCat[$ctrl.level].title : \'Catalog\' }} </a> </div> <a href="#" class="dropdown-item d-flex justify-content-between align-items-center text-wrap" ng-repeat="category in $ctrl.categories[$ctrl.level] | orderBy: \'title\' track by $index" ng-click="$ctrl.onClickCategory(category, $event)" ng-href="{{ $ctrl.getCategoryUrl(category) }}" ng-attr-title="{{\n\t\t\tcategory.subcategories.length\n\t\t\t\t? \'View \' +\n\t\t\t\t  category.subcategories.length +\n\t\t\t\t  \' categories in \' +\n\t\t\t\t  category.title\n\t\t\t\t: \'Shop \' + category.title\n\t\t}}"> {{ category.title }} <i class="bi bi-chevron-right" ng-if="category.subcategories.length"> </i> </a> </nav> <hr class="dropdown-divider"/> ',controller:Po};function Po(t,e){const i=this;function n(e){i.isLoading=!0,t.categories(e).then((t=>{i.categories[i.level]=t.categories,i.isLoading=!1}))}i.$onInit=function(){n()},i.categories=[],i.catId=0,i.catSlug=localized.settings.general.catSlug||"categories",i.catalogUrl=e.getPageUrl("catalog"),i.currCat=[],i.getCategoryUrl=function(t){return t.subcategories.length?"#":`/${i.catSlug}/${t.slug}`},i.onClickBack=function(t){t.preventDefault(),i.level--},i.onClickCategory=function(t,e){t.subcategories.length&&(e.preventDefault(),i.parentId=t.parent_id,n(t.cat_id),i.level++,i.currCat[i.level]=t)},i.parentId=0,i.level=0}Po.$inject=["Products","Utils"],n().module("vfApp").component("forgotPassword",wo).component("groupAccount",_o).component("orderBySku",ko).component("priceAvailability",Co).component("sidebarAccountLink",So).component("sidebarCategoryMenu",Ao),document.addEventListener("DOMContentLoaded",(()=>{n().bootstrap(document,["vfApp"])}))})()})();