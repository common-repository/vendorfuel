<figure class="ratio ratio-1x1">
	<div id="product-carousel" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-indicators" ng-if="$ctrl.images.length > 1">
			<button
				type="button"
				data-bs-target="#product-carousel"
				data-bs-slide-to="{{ $index }}"
				ng-repeat="image in $ctrl.images"
				ng-class="['bg-primary', { active: $first }]"
			></button>
		</div>
		<div class="carousel-inner h-100 d-flex align-items-center">
			<div
				ng-class="['carousel-item h-100', { active: $first }]"
				ng-repeat="image in $ctrl.images"
			>
				<div
					class="d-block w-100 h-100"
					ng-style="{
						background:
							'url(' +
							image.med_url +
							') no-repeat center/contain'
					}"
				></div>
			</div>
		</div>
		<button
			class="carousel-control-prev"
			data-bs-slide="prev"
			data-bs-target="#product-carousel"
			ng-if="$ctrl.images.length > 1"
		>
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button
			class="carousel-control-next"
			data-bs-slide="next"
			data-bs-target="#product-carousel"
			ng-if="$ctrl.images.length > 1"
		>
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>
</figure>
<div
	class="hstack justify-content-center align-items-center mb-3 gap-1"
	ng-if="$ctrl.images.length > 1"
>
	<button
		class="p-1 btn btn-link border"
		data-bs-target="#product-carousel"
		data-bs-slide-to="{{ $index }}"
		ng-repeat="image in $ctrl.images track by $index"
		title="View this image"
	>
		<img
			class="img-fluid lazy"
			loading="lazy"
			width="140"
			height="140"
			alt=""
			ng-src="{{ image.thumb_url }}"
		/>
	</button>
</div>
