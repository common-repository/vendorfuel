<layout-component heading="Edit group" breadcrumbs="$ctrl.breadcrumbs">
	<div class="row">
		<div class="col-lg-4">
			<form class="groupForm" name="groupViewForm">
				<div class="mb-3">
					<label for="group_name" class="form-label">Name</label>
					<input
						id="group_name"
						name="group_name"
						class="form-control"
						ng-class="{
							'is-invalid': groupViewForm.group_name.$invalid
						}"
						type="text"
						ng-model="$ctrl.selectedGroup.name"
						required
					/>
				</div>
				<div class="mb-3">
					<label class="form-label">Group ID</label>
					<input
						class="form-control"
						type="text"
						name="group_id"
						ng-model="$ctrl.selectedGroup.group_id"
						disabled
					/>
				</div>
				<div class="mb-3">
					<label class="form-label">Parent group</label>
					<div class="input-group">
						<input
							class="form-control"
							ng-class="{
								'is-invalid':
									groupViewForm.parent_group_id.$invalid
							}"
							type="text"
							name="parent_group_id"
							placeholder="None"
							ng-model="$ctrl.selectedGroup.parent_group.name"
							disabled
						/>
						<button
							class="btn btn-secondary"
							ng-click="OpenGroupSearchModal()"
						>
							Select
						</button>
					</div>
				</div>
				<div class="mb-3">
					<label for="terms" class="form-label">Terms</label>
					<input
						id="terms"
						name="terms"
						class="form-control"
						type="text"
						placeholder="NET 30, NET 90, etc."
						ng-model="$ctrl.selectedGroup.terms"
					/>
				</div>
				<div class="mb-3">
					<label for="auth_email" class="form-label"
						>Authorized emails</label
					>
					<input
						id="auth_email"
						name="auth_email"
						class="form-control"
						type="text"
						placeholder="test.com, vendorfuel.com"
						ng-model="$ctrl.selectedGroup.authorized_emails"
					/>
				</div>
				<div class="mb-3">
					<label for="inv_code" class="form-label"
						>Group invite code</label
					>
					<input
						id="inv_code"
						name="inv_code"
						class="form-control"
						type="text"
						ng-model="$ctrl.selectedGroup.group_invite_code"
					/>
				</div>
				<div class="mb-3">
					<label for="prefix" class="form-label">Order prefix</label>
					<input
						id="prefix"
						name="prefix"
						class="form-control"
						type="text"
						ng-model="$ctrl.selectedGroup.order_prefix"
					/>
				</div>
				<div class="mb-3">
					<label class="form-label" for="grp_reg">Registration</label>
					<select
						class="form-select"
						name="grp_reg"
						id="grp_reg"
						ng-options="item.key as item.value for item in regValues"
						ng-model="$ctrl.selectedGroup.group_registration_available"
					></select>
				</div>
				<div class="mb-3">
					<label class="form-label" for="price_sheet"
						>Price Sheet</label
					>
					<select
						class="form-select"
						type="text"
						name="price_sheet"
						id="price_sheet"
						ng-model="$ctrl.selectedGroup.default_price_sheet"
						ng-options="priceSheet.price_sheet_id as priceSheet.sheet for priceSheet in $ctrl.pricesheets"
					></select>
				</div>
				<div class="mb-3">
					<label class="form-label" for="shipping_mode"
						>Shipping Mode</label
					>
					<select
						class="form-select"
						type="text"
						name="shipping_mode"
						id="shipping_mode"
						ng-model="$ctrl.selectedGroup.shipping_mode"
						ng-options="key as value for (key, value) in shippingModes"
					></select>
				</div>
			</form>
			<div>
				<button class="btn btn-primary" ng-click="UpdateGroup()">
					Update
				</button>
				<button
					class="btn btn-danger"
					ng-click="$ctrl.deleteGroup()"
					ng-disabled="$ctrl.isDeleting"
				>
					{{ $ctrl.isDeleting ? 'Deleting' : 'Delete' }}
				</button>
			</div>
		</div>
		<div class="col-lg-8">
			<group-tabs
				group="$ctrl.selectedGroup"
				handle-update="$ctrl.handleUpdate"
				handle-change-page="$ctrl.handleChangePage"
			></group-tabs>
		</div>
	</div>
</layout-component>
